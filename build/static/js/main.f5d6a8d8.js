/*! For license information please see main.f5d6a8d8.js.LICENSE.txt */
(()=>{var e={14:e=>{e.exports=function(){return!1}},61:e=>{e.exports=function(e,t){return e<t}},143:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},149:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},320:e=>{e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},396:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},438:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).get(e)}},539:(e,t,n)=>{var r=n(9742),i=n(7498),o=n(3279);e.exports=function(e){return e&&e.length?r(e,o,i):void 0}},579:(e,t,n)=>{"use strict";e.exports=n(1153)},620:(e,t,n)=>{var r=n(6913),i=n(4052),o=n(2761);e.exports=function(e){return"string"==typeof e||!i(e)&&o(e)&&"[object String]"==r(e)}},643:(e,t,n)=>{var r=n(7676)("toUpperCase");e.exports=r},644:e=>{e.exports=function(e){return e!==e}},705:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},715:e=>{var t="\\ud800-\\udfff",n="["+t+"]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",o="[^"+t+"]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+r+"|"+i+")"+"?",c="[\\ufe0e\\ufe0f]?",u=c+l+("(?:\\u200d(?:"+[o,a,s].join("|")+")"+c+l+")*"),d="(?:"+[o+r+"?",r,a,s,n].join("|")+")",h=RegExp(i+"(?="+i+")|"+d+u,"g");e.exports=function(e){return e.match(h)||[]}},755:(e,t,n)=>{var r=n(8895),i=n(7116);e.exports=function e(t,n,o,a,s){var l=-1,c=t.length;for(o||(o=i),s||(s=[]);++l<c;){var u=t[l];n>0&&o(u)?n>1?e(u,n-1,o,a,s):r(s,u):a||(s[s.length]=u)}return s}},793:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},801:(e,t,n)=>{var r=n(1141),i=n(6686),o=n(9841),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):a.test(e)?NaN:+e}},914:(e,t,n)=>{var r=n(9841);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},929:(e,t,n)=>{var r=n(3211),i=n(6571),o=n(9194),a=n(6686);e.exports=function(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?i(n)&&o(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},977:(e,t,n)=>{var r=n(9096),i=n(4416);e.exports=function(e,t){return e&&e.length?i(e,r(t,2)):[]}},1069:(e,t,n)=>{var r=n(8541);e.exports=function(e){return null==e?"":r(e)}},1141:(e,t,n)=>{var r=n(143),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},1143:(e,t,n)=>{var r=n(3028)(Object.keys,Object);e.exports=r},1153:(e,t,n)=>{"use strict";var r=n(5043),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:s.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},1170:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},1268:(e,t,n)=>{var r=n(5428),i=n(7574),o=n(6832),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},1310:e=>{e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},1340:(e,t,n)=>{var r=n(3211);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},1497:(e,t,n)=>{"use strict";var r=n(3218);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},1558:e=>{e.exports=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}},1629:(e,t,n)=>{var r=n(6913),i=n(6686);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1714:(e,t,n)=>{var r=n(1340);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},1733:(e,t,n)=>{var r=n(1775),i=n(4664),o=n(9096);e.exports=function(e,t){var n={};return t=o(t,3),i(e,function(e,i,o){r(n,i,t(e,i,o))}),n}},1775:(e,t,n)=>{var r=n(5654);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},1946:(e,t,n)=>{var r=n(1340);e.exports=function(e){return r(this.__data__,e)>-1}},2070:(e,t,n)=>{var r=n(7937)(n(6552),"Set");e.exports=r},2074:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},2154:(e,t,n)=>{var r=n(5575),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},2165:(e,t,n)=>{var r=n(5652);e.exports=function(e,t){var n;return r(e,function(e,r,i){return!(n=t(e,r,i))}),!!n}},2322:(e,t,n)=>{var r=n(6913),i=n(5990),o=n(2761),a=Function.prototype,s=Object.prototype,l=a.toString,c=s.hasOwnProperty,u=l.call(Object);e.exports=function(e){if(!o(e)||"[object Object]"!=r(e))return!1;var t=i(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==u}},2520:(e,t,n)=>{var r=n(5816),i=n(9096),o=n(9140),a=Math.max;e.exports=function(e,t,n){var s=null==e?0:e.length;if(!s)return-1;var l=null==n?0:o(n);return l<0&&(l=a(s+l,0)),r(e,i(t,3),l)}},2536:(e,t,n)=>{var r=n(149),i=n(2969),o=n(9096),a=n(8883),s=n(320),l=n(7574),c=n(5893),u=n(3279),d=n(4052);e.exports=function(e,t,n){t=t.length?r(t,function(e){return d(e)?function(t){return i(t,1===e.length?e[0]:e)}:e}):[u];var h=-1;t=r(t,l(o));var f=a(e,function(e,n,i){return{criteria:r(t,function(t){return t(e)}),index:++h,value:e}});return s(f,function(e,t){return c(e,t,n)})}},2541:e=>{e.exports=function(e){return function(){return e}}},2587:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},2597:(e,t,n)=>{var r=n(4052),i=n(9841),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||(a.test(e)||!o.test(e)||null!=t&&e in Object(t))}},2622:(e,t,n)=>{var r=n(705);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},2662:(e,t,n)=>{var r=n(5575);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},2730:(e,t,n)=>{"use strict";var r=n(5043),i=n(8853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),j=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),T=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var I=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var R,L=Object.assign;function F(e){if(void 0===R)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return"\n"+R+e}var U=!1;function B(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function V(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case j:return"Portal";case E:return"Profiler";case N:return"StrictMode";case C:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case _:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){$(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function oe(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var ye=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var je=null,Se=null,Ne=null;function Ee(e){if(e=bi(e)){if("function"!==typeof je)throw Error(o(280));var t=e.stateNode;t&&(t=wi(t),je(e.stateNode,e.type,t))}}function ke(e){Se?Ne?Ne.push(e):Ne=[e]:Se=e}function Te(){if(Se){var e=Se,t=Ne;if(Ne=Se=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function _e(e,t){return e(t)}function Ce(){}var Oe=!1;function Ae(e,t,n){if(Oe)return e(t,n);Oe=!0;try{return _e(e,t,n)}finally{Oe=!1,(null!==Se||null!==Ne)&&(Ce(),Te())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ie=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Ie=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Ie=!1}function Me(e,t,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Re=!1,Le=null,Fe=!1,Ue=null,Be={onError:function(e){Re=!0,Le=e}};function Ve(e,t,n,r,i,o,a,s,l){Re=!1,Le=null,Me.apply(Be,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(ze(e)!==e)throw Error(o(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return He(i),e;if(a===r)return He(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Ye=i.unstable_cancelCallback,Xe=i.unstable_shouldYield,Qe=i.unstable_requestPaint,$e=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=dt(s):0!==(o&=a)&&(r=dt(o))}else 0!==(a=n&~i)?r=dt(a):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,jt,St,Nt,Et,kt=!1,Tt=[],_t=null,Ct=null,Ot=null,At=new Map,Pt=new Map,It=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":_t=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":Ot=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Rt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&jt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lt(e){var t=vi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Et(e.priority,function(){St(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&jt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xe=r,n.target.dispatchEvent(r),xe=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Bt(){kt=!1,null!==_t&&Ft(_t)&&(_t=null),null!==Ct&&Ft(Ct)&&(Ct=null),null!==Ot&&Ft(Ot)&&(Ot=null),At.forEach(Ut),Pt.forEach(Ut)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function zt(e){function t(t){return Vt(t,e)}if(0<Tt.length){Vt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==_t&&Vt(_t,e),null!==Ct&&Vt(Ct,e),null!==Ot&&Vt(Ot,e),At.forEach(t),Pt.forEach(t),n=0;n<It.length;n++)(r=It[n]).blockedOn===e&&(r.blockedOn=null);for(;0<It.length&&null===(n=It[0]).blockedOn;)Lt(n),null===n.blockedOn&&It.shift()}var qt=x.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,r){var i=bt,o=qt.transition;qt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,qt.transition=o}}function Kt(e,t,n,r){var i=bt,o=qt.transition;qt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,qt.transition=o}}function Gt(e,t,n,r){if(Ht){var i=Xt(e,t,n,r);if(null===i)Hr(e,t,r,Yt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return _t=Rt(_t,e,t,n,r,i),!0;case"dragenter":return Ct=Rt(Ct,e,t,n,r,i),!0;case"mouseover":return Ot=Rt(Ot,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return At.set(o,Rt(At.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Pt.set(o,Rt(Pt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&wt(o),null===(o=Xt(e,t,n,r))&&Hr(e,t,r,Yt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Yt=null;function Xt(e,t,n,r){if(Yt=null,null!==(e=vi(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in $t?$t.value:$t.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=L({},cn,{view:0,detail:0}),hn=on(dn),fn=L({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=on(fn),mn=on(L({},fn,{dataTransfer:0})),gn=on(L({},dn,{relatedTarget:0})),yn=on(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(vn),xn=on(L({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function En(){return Nn}var kn=L({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?jn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=on(kn),_n=on(L({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=on(L({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),On=on(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=L({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=on(An),In=[9,13,27,32],Dn=u&&"CompositionEvent"in window,Mn=null;u&&"documentMode"in document&&(Mn=document.documentMode);var Rn=u&&"TextEvent"in window&&!Mn,Ln=u&&(!Dn||Mn&&8<Mn&&11>=Mn),Fn=String.fromCharCode(32),Un=!1;function Bn(e,t){switch(e){case"keyup":return-1!==In.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Wn(e,t,n,r){ke(r),0<(t=Kr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Yn(e){Fr(e,0)}function Xn(e){if(G(xi(e)))return e}function Qn(e,t){if("change"===e)return t}var $n=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;$n=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Xn(Gn)){var t=[];Wn(t,Gn,e,we(e)),Ae(Yn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Gn)}function or(e,t){if("click"===e)return Xn(t)}function ar(e,t){if("input"===e||"change"===e)return Xn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,br=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Y(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Kr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var jr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Sr={},Nr={};function Er(e){if(Sr[e])return Sr[e];if(!jr[e])return e;var t,n=jr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Nr)return Sr[e]=n[t];return e}u&&(Nr=document.createElement("div").style,"AnimationEvent"in window||(delete jr.animationend.animation,delete jr.animationiteration.animation,delete jr.animationstart.animation),"TransitionEvent"in window||delete jr.transitionend.transition);var kr=Er("animationend"),Tr=Er("animationiteration"),_r=Er("animationstart"),Cr=Er("transitionend"),Or=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Or.set(e,t),l(t,[e])}for(var Ir=0;Ir<Ar.length;Ir++){var Dr=Ar[Ir];Pr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Pr(kr,"onAnimationEnd"),Pr(Tr,"onAnimationIteration"),Pr(_r,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Cr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,l,c){if(Ve.apply(this,arguments),Re){if(!Re)throw Error(o(198));var u=Le;Re=!1,Le=null,Fe||(Fe=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;Lr(i,s,c),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;Lr(i,s,c),o=l}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Vr]){e[Vr]=!0,a.forEach(function(t){"selectionchange"!==t&&(Rr.has(t)||Br(t,!1,e),Br(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,Br("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Qt(t)){case 1:var i=Wt;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Ie||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=vi(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue e}s=s.parentNode}}r=r.return}Ae(function(){var r=o,i=we(n),a=[];e:{var s=Or.get(e);if(void 0!==s){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Tn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Cn;break;case kr:case Tr:case _r:l=yn;break;case Cr:l=On;break;case"scroll":l=hn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=_n}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==s?s+"Capture":null:s;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Pe(p,h))&&u.push(Wr(p,m,f)))),d)break;p=p.return}0<u.length&&(s=new l(s,c,null,n,i),a.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===xe||!(c=n.relatedTarget||n.fromElement)||!vi(c)&&!c[pi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?vi(c):null)&&(c!==(d=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=_n,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?s:xi(l),f=null==c?s:xi(c),(s=new u(m,p+"leave",l,n,i)).target=d,s.relatedTarget=f,m=null,vi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Gr(f))p++;for(f=0,m=h;m;m=Gr(m))f++;for(;0<p-f;)u=Gr(u),p--;for(;0<f-p;)h=Gr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Gr(u),h=Gr(h)}u=null}else u=null;null!==l&&Yr(a,s,l,u,!1),null!==c&&null!==d&&Yr(a,d,c,u,!0)}if("select"===(l=(s=r?xi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Qn;else if(Hn(s))if($n)g=ar;else{g=ir;var y=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=or);switch(g&&(g=g(e,r))?Wn(a,g,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?xi(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,xr(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":xr(a,n,i)}var v;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(v=en()):(Jt="value"in($t=i)?$t.value:$t.textContent,zn=!0)),0<(y=Kr(r,b)).length&&(b=new xn(b,e,null,n,i),a.push({event:b,listeners:y}),v?b.data=v:null!==(v=Vn(n))&&(b.data=v))),(v=Rn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Dn&&Bn(e,t)?(e=en(),Zt=Jt=$t=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=v))}Fr(a,t)})}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Pe(e,n))&&r.unshift(Wr(e,o,i)),null!=(o=Pe(e,t))&&r.push(Wr(e,o,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(l=Pe(n,o))&&a.unshift(Wr(n,l,s)):i||null!=(l=Pe(n,o))&&a.push(Wr(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Xr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Xr,"\n").replace(Qr,"")}function Jr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(o(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout(function(){throw e})}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,yi="__reactHandles$"+di;function vi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function wi(e){return e[fi]||null}var ji=[],Si=-1;function Ni(e){return{current:e}}function Ei(e){0>Si||(e.current=ji[Si],ji[Si]=null,Si--)}function ki(e,t){Si++,ji[Si]=e.current,e.current=t}var Ti={},_i=Ni(Ti),Ci=Ni(!1),Oi=Ti;function Ai(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ii(){Ei(Ci),Ei(_i)}function Di(e,t,n){if(_i.current!==Ti)throw Error(o(168));ki(_i,t),ki(Ci,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,q(e)||"Unknown",i));return L({},n,r)}function Ri(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Oi=_i.current,ki(_i,e),ki(Ci,Ci.current),!0}function Li(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Mi(e,t,Oi),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ci),Ei(_i),ki(_i,e)):Ei(Ci),ki(Ci,n)}var Fi=null,Ui=!1,Bi=!1;function Vi(e){null===Fi?Fi=[e]:Fi.push(e)}function zi(){if(!Bi&&null!==Fi){Bi=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ge(Ze,zi),i}finally{bt=t,Bi=!1}}return null}var qi=[],Hi=0,Wi=null,Ki=0,Gi=[],Yi=0,Xi=null,Qi=1,$i="";function Ji(e,t){qi[Hi++]=Ki,qi[Hi++]=Wi,Wi=e,Ki=t}function Zi(e,t,n){Gi[Yi++]=Qi,Gi[Yi++]=$i,Gi[Yi++]=Xi,Xi=e;var r=Qi;e=$i;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Qi=1<<32-at(t)+i|n<<i|r,$i=o+e}else Qi=1<<o|n<<i|r,$i=e}function eo(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function to(e){for(;e===Wi;)Wi=qi[--Hi],qi[Hi]=null,Ki=qi[--Hi],qi[Hi]=null;for(;e===Xi;)Xi=Gi[--Yi],Gi[Yi]=null,$i=Gi[--Yi],Gi[Yi]=null,Qi=Gi[--Yi],Gi[Yi]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Ac(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Xi?{id:Qi,overflow:$i}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ac(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(lo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return uo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw fo(),Error(o(418));for(;t;)ao(e,t),t=ci(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=ci(e.nextSibling)}function po(){ro=no=null,io=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=x.ReactCurrentBatchConfig;function yo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function vo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bo(e){return(0,e._init)(e._payload)}function xo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ic(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Lc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===S?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===P&&bo(o)===t.type)?((r=i(t,n.props)).ref=yo(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=yo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=yo(e,null,t),n.return=e,n;case j:return(t=Fc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Mc(t,e.mode,n,null)).return=e,t;vo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case j:return n.key===i?u(e,t,n,r):null;case P:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:d(e,t,n,r,null);vo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case j:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return d(t,e=e.get(n)||null,r,i,null);vo(t,r)}return null}function m(i,o,s,l){for(var c=null,u=null,d=o,m=o=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=f(i,d,s[m],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(i,d),o=a(y,o,m),null===u?c=y:u.sibling=y,u=y,d=g}if(m===s.length)return n(i,d),io&&Ji(i,m),c;if(null===d){for(;m<s.length;m++)null!==(d=h(i,s[m],l))&&(o=a(d,o,m),null===u?c=d:u.sibling=d,u=d);return io&&Ji(i,m),c}for(d=r(i,d);m<s.length;m++)null!==(g=p(d,i,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=a(g,o,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(i,e)}),io&&Ji(i,m),c}function g(i,s,l,c){var u=M(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,m=s,g=s=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=f(i,m,v.value,c);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(i,m),s=a(b,s,g),null===d?u=b:d.sibling=b,d=b,m=y}if(v.done)return n(i,m),io&&Ji(i,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=h(i,v.value,c))&&(s=a(v,s,g),null===d?u=v:d.sibling=v,d=v);return io&&Ji(i,g),u}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=p(m,i,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),s=a(v,s,g),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach(function(e){return t(i,e)}),io&&Ji(i,g),u}return function e(r,o,a,l){if("object"===typeof a&&null!==a&&a.type===S&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var c=a.key,u=o;null!==u;){if(u.key===c){if((c=a.type)===S){if(7===u.tag){n(r,u.sibling),(o=i(u,a.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&bo(c)===u.type){n(r,u.sibling),(o=i(u,a.props)).ref=yo(r,u,a),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===S?((o=Mc(a.props.children,r.mode,l,a.key)).return=r,r=o):((l=Dc(a.type,a.key,a.props,null,r.mode,l)).ref=yo(r,o,a),l.return=r,r=l)}return s(r);case j:e:{for(u=a.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Fc(a,r.mode,l)).return=r,r=o}return s(r);case P:return e(r,o,(u=a._init)(a._payload),l)}if(te(a))return m(r,o,a,l);if(M(a))return g(r,o,a,l);vo(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Lc(a,r.mode,l)).return=r,r=o),s(r)):n(r,o)}}var wo=xo(!0),jo=xo(!1),So=Ni(null),No=null,Eo=null,ko=null;function To(){ko=Eo=No=null}function _o(e){var t=So.current;Ei(So),e._currentValue=t}function Co(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Oo(e,t){No=e,ko=Eo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Ao(e){var t=e._currentValue;if(ko!==e)if(e={context:e,memoizedValue:t,next:null},null===Eo){if(null===No)throw Error(o(308));Eo=e,No.dependencies={lanes:0,firstContext:e}}else Eo=Eo.next=e;return t}var Po=null;function Io(e){null===Po?Po=[e]:Po.push(e)}function Do(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Io(t)):(n.next=i.next,i.next=n),t.interleaved=n,Mo(e,r)}function Mo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ro=!1;function Lo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Uo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&_l)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Mo(e,n)}return null===(i=r.interleaved)?(t.next=t,Io(r)):(t.next=i.next,i.next=t),r.interleaved=t,Mo(e,n)}function Vo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function zo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function qo(e,t,n,r){var i=e.updateQueue;Ro=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?o=c:a.next=c,a=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(a=0,u=c=l=null,s=o;;){var h=s.lane,f=s.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=L({},d,h);break e;case 2:Ro=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else f={eventTime:f,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Rl|=a,e.lanes=a,e.memoizedState=d}}function Ho(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Wo={},Ko=Ni(Wo),Go=Ni(Wo),Yo=Ni(Wo);function Xo(e){if(e===Wo)throw Error(o(174));return e}function Qo(e,t){switch(ki(Yo,t),ki(Go,e),ki(Ko,Wo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Ko),ki(Ko,t)}function $o(){Ei(Ko),Ei(Go),Ei(Yo)}function Jo(e){Xo(Yo.current);var t=Xo(Ko.current),n=le(t,e.type);t!==n&&(ki(Go,e),ki(Ko,n))}function Zo(e){Go.current===e&&(Ei(Ko),Ei(Go))}var ea=Ni(0);function ta(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var na=[];function ra(){for(var e=0;e<na.length;e++)na[e]._workInProgressVersionPrimary=null;na.length=0}var ia=x.ReactCurrentDispatcher,oa=x.ReactCurrentBatchConfig,aa=0,sa=null,la=null,ca=null,ua=!1,da=!1,ha=0,fa=0;function pa(){throw Error(o(321))}function ma(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function ga(e,t,n,r,i,a){if(aa=a,sa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ia.current=null===e||null===e.memoizedState?Za:es,e=n(r,i),da){a=0;do{if(da=!1,ha=0,25<=a)throw Error(o(301));a+=1,ca=la=null,t.updateQueue=null,ia.current=ts,e=n(r,i)}while(da)}if(ia.current=Ja,t=null!==la&&null!==la.next,aa=0,ca=la=sa=null,ua=!1,t)throw Error(o(300));return e}function ya(){var e=0!==ha;return ha=0,e}function va(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ca?sa.memoizedState=ca=e:ca=ca.next=e,ca}function ba(){if(null===la){var e=sa.alternate;e=null!==e?e.memoizedState:null}else e=la.next;var t=null===ca?sa.memoizedState:ca.next;if(null!==t)ca=t,la=e;else{if(null===e)throw Error(o(310));e={memoizedState:(la=e).memoizedState,baseState:la.baseState,baseQueue:la.baseQueue,queue:la.queue,next:null},null===ca?sa.memoizedState=ca=e:ca=ca.next=e}return ca}function xa(e,t){return"function"===typeof t?t(e):t}function wa(e){var t=ba(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=la,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=s=null,c=null,u=a;do{var d=u.lane;if((aa&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,s=r):c=c.next=h,sa.lanes|=d,Rl|=d}u=u.next}while(null!==u&&u!==a);null===c?s=r:c.next=l,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,sa.lanes|=a,Rl|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ja(e){var t=ba(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(bs=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Sa(){}function Na(e,t){var n=sa,r=ba(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,bs=!0),r=r.queue,Ra(Ta.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ca&&1&ca.memoizedState.tag){if(n.flags|=2048,Aa(9,ka.bind(null,n,r,i,t),void 0,null),null===Cl)throw Error(o(349));0!==(30&aa)||Ea(n,t,i)}return i}function Ea(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function ka(e,t,n,r){t.value=n,t.getSnapshot=r,_a(t)&&Ca(e)}function Ta(e,t,n){return n(function(){_a(t)&&Ca(e)})}function _a(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Ca(e){var t=Mo(e,1);null!==t&&nc(t,e,1,-1)}function Oa(e){var t=va();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:e},t.queue=e,e=e.dispatch=Ya.bind(null,sa,e),[t.memoizedState,e]}function Aa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Pa(){return ba().memoizedState}function Ia(e,t,n,r){var i=va();sa.flags|=e,i.memoizedState=Aa(1|t,n,void 0,void 0===r?null:r)}function Da(e,t,n,r){var i=ba();r=void 0===r?null:r;var o=void 0;if(null!==la){var a=la.memoizedState;if(o=a.destroy,null!==r&&ma(r,a.deps))return void(i.memoizedState=Aa(t,n,o,r))}sa.flags|=e,i.memoizedState=Aa(1|t,n,o,r)}function Ma(e,t){return Ia(8390656,8,e,t)}function Ra(e,t){return Da(2048,8,e,t)}function La(e,t){return Da(4,2,e,t)}function Fa(e,t){return Da(4,4,e,t)}function Ua(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ba(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Da(4,4,Ua.bind(null,t,e),n)}function Va(){}function za(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ma(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qa(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ma(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ha(e,t,n){return 0===(21&aa)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),sa.lanes|=n,Rl|=n,e.baseState=!0),t)}function Wa(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=oa.transition;oa.transition={};try{e(!1),t()}finally{bt=n,oa.transition=r}}function Ka(){return ba().memoizedState}function Ga(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Xa(e))Qa(t,n);else if(null!==(n=Do(e,t,n,r))){nc(n,e,r,ec()),$a(n,t,r)}}function Ya(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xa(e))Qa(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var l=t.interleaved;return null===l?(i.next=i,Io(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Do(e,t,i,r))&&(nc(n,e,r,i=ec()),$a(n,t,r))}}function Xa(e){var t=e.alternate;return e===sa||null!==t&&t===sa}function Qa(e,t){da=ua=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $a(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Ja={readContext:Ao,useCallback:pa,useContext:pa,useEffect:pa,useImperativeHandle:pa,useInsertionEffect:pa,useLayoutEffect:pa,useMemo:pa,useReducer:pa,useRef:pa,useState:pa,useDebugValue:pa,useDeferredValue:pa,useTransition:pa,useMutableSource:pa,useSyncExternalStore:pa,useId:pa,unstable_isNewReconciler:!1},Za={readContext:Ao,useCallback:function(e,t){return va().memoizedState=[e,void 0===t?null:t],e},useContext:Ao,useEffect:Ma,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ia(4194308,4,Ua.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ia(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ia(4,2,e,t)},useMemo:function(e,t){var n=va();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=va();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ga.bind(null,sa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},va().memoizedState=e},useState:Oa,useDebugValue:Va,useDeferredValue:function(e){return va().memoizedState=e},useTransition:function(){var e=Oa(!1),t=e[0];return e=Wa.bind(null,e[1]),va().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=sa,i=va();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Cl)throw Error(o(349));0!==(30&aa)||Ea(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Ma(Ta.bind(null,r,a,e),[e]),r.flags|=2048,Aa(9,ka.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=va(),t=Cl.identifierPrefix;if(io){var n=$i;t=":"+t+"R"+(n=(Qi&~(1<<32-at(Qi)-1)).toString(32)+n),0<(n=ha++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Ao,useCallback:za,useContext:Ao,useEffect:Ra,useImperativeHandle:Ba,useInsertionEffect:La,useLayoutEffect:Fa,useMemo:qa,useReducer:wa,useRef:Pa,useState:function(){return wa(xa)},useDebugValue:Va,useDeferredValue:function(e){return Ha(ba(),la.memoizedState,e)},useTransition:function(){return[wa(xa)[0],ba().memoizedState]},useMutableSource:Sa,useSyncExternalStore:Na,useId:Ka,unstable_isNewReconciler:!1},ts={readContext:Ao,useCallback:za,useContext:Ao,useEffect:Ra,useImperativeHandle:Ba,useInsertionEffect:La,useLayoutEffect:Fa,useMemo:qa,useReducer:ja,useRef:Pa,useState:function(){return ja(xa)},useDebugValue:Va,useDeferredValue:function(e){var t=ba();return null===la?t.memoizedState=e:Ha(t,la.memoizedState,e)},useTransition:function(){return[ja(xa)[0],ba().memoizedState]},useMutableSource:Sa,useSyncExternalStore:Na,useId:Ka,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var is={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Uo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Bo(e,o,i))&&(nc(t,e,i,r),Vo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Uo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Bo(e,o,i))&&(nc(t,e,i,r),Vo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Uo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Bo(e,i,r))&&(nc(t,e,r,n),Vo(t,e,r))}};function os(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function as(e,t,n){var r=!1,i=Ti,o=t.contextType;return"object"===typeof o&&null!==o?o=Ao(o):(i=Pi(t)?Oi:_i.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ai(e,i):Ti),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=is,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function ss(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&is.enqueueReplaceState(t,t.state,null)}function ls(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Lo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Ao(o):(o=Pi(t)?Oi:_i.current,i.context=Ai(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(rs(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&is.enqueueReplaceState(i,i.state,null),qo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function cs(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function us(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var hs="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=Uo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,Wl=r),ds(0,t)},n}function ps(e,t,n){(n=Uo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ds(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!==typeof r&&(null===Kl?Kl=new Set([this]):Kl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Uo(-1,1)).tag=2,Bo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var vs=x.ReactCurrentOwner,bs=!1;function xs(e,t,n,r){t.child=null===e?jo(t,null,n,r):wo(t,e.child,n,r)}function ws(e,t,n,r,i){n=n.render;var o=t.ref;return Oo(t,i),r=ga(e,t,n,r,o,i),n=ya(),null===e||bs?(io&&n&&eo(t),t.flags|=1,xs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function js(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Pc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ss(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Hs(e,t,i)}return t.flags|=1,(e=Ic(o,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Hs(e,t,i);0!==(131072&e.flags)&&(bs=!0)}}return ks(e,t,n,r,i)}function Ns(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ki(Il,Pl),Pl|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ki(Il,Pl),Pl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,ki(Il,Pl),Pl|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,ki(Il,Pl),Pl|=r;return xs(e,t,i,n),t.child}function Es(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ks(e,t,n,r,i){var o=Pi(n)?Oi:_i.current;return o=Ai(t,o),Oo(t,i),n=ga(e,t,n,r,o,i),r=ya(),null===e||bs?(io&&r&&eo(t),t.flags|=1,xs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function Ts(e,t,n,r,i){if(Pi(n)){var o=!0;Ri(t)}else o=!1;if(Oo(t,i),null===t.stateNode)qs(e,t),as(t,n,r),ls(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ao(c):c=Ai(t,c=Pi(n)?Oi:_i.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==c)&&ss(t,a,r,c),Ro=!1;var h=t.memoizedState;a.state=h,qo(t,r,a,i),l=t.memoizedState,s!==r||h!==l||Ci.current||Ro?("function"===typeof u&&(rs(t,n,u,r),l=t.memoizedState),(s=Ro||os(t,n,s,r,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Fo(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ns(t.type,s),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ao(l):l=Ai(t,l=Pi(n)?Oi:_i.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||h!==l)&&ss(t,a,r,l),Ro=!1,h=t.memoizedState,a.state=h,qo(t,r,a,i);var p=t.memoizedState;s!==d||h!==p||Ci.current||Ro?("function"===typeof f&&(rs(t,n,f,r),p=t.memoizedState),(c=Ro||os(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return _s(e,t,n,r,o,i)}function _s(e,t,n,r,i,o){Es(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Li(t,n,!1),Hs(e,t,o);r=t.stateNode,vs.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=wo(t,e.child,null,o),t.child=wo(t,null,s,o)):xs(e,t,s,o),t.memoizedState=r.state,i&&Li(t,n,!0),t.child}function Cs(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),Qo(e,t.containerInfo)}function Os(e,t,n,r,i){return po(),mo(i),t.flags|=256,xs(e,t,n,r),t.child}var As,Ps,Is,Ds,Ms={dehydrated:null,treeContext:null,retryLane:0};function Rs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ls(e,t,n){var r,i=t.pendingProps,a=ea.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),ki(ea,1&a),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Rc(l,i,0,null),e=Mc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Rs(n),t.memoizedState=Ms,e):Fs(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,Us(e,t,s,r=us(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Rc({mode:"visible",children:r.children},i,0,null),(a=Mc(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&wo(t,e.child,null,s),t.child.memoizedState=Rs(s),t.memoizedState=Ms,a);if(0===(1&t.mode))return Us(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Us(e,t,s,r=us(a=Error(o(419)),r,void 0))}if(l=0!==(s&e.childLanes),bs||l){if(null!==(r=Cl)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Mo(e,i),nc(r,e,i,-1))}return mc(),Us(e,t,s,r=us(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Gi[Yi++]=Qi,Gi[Yi++]=$i,Gi[Yi++]=Xi,Qi=e.id,$i=e.overflow,Xi=t),t=Fs(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(s){s=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Ic(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Ic(r,s):(s=Mc(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?Rs(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ms,i}return e=(s=e.child).sibling,i=Ic(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fs(e,t){return(t=Rc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Us(e,t,n,r){return null!==r&&mo(r),wo(t,e.child,null,n),(e=Fs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Co(e.return,t,n)}function Vs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function zs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(xs(e,t,r.children,n),0!==(2&(r=ea.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bs(e,n,t);else if(19===e.tag)Bs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ki(ea,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ta(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ta(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vs(t,!0,n,null,o);break;case"together":Vs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Rl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ic(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ic(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ws(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ks(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gs(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ks(t),null;case 1:case 17:return Pi(t.type)&&Ii(),Ks(t),null;case 3:return r=t.stateNode,$o(),Ei(Ci),Ei(_i),ra(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(ac(oo),oo=null))),Ps(e,t),Ks(t),null;case 5:Zo(t);var i=Xo(Yo.current);if(n=t.type,null!==e&&null!=t.stateNode)Is(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ks(t),null}if(e=Xo(Ko.current),ho(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[fi]=a,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ur(Mr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Q(r,a),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ur("invalid",r);break;case"textarea":ie(r,a),Ur("invalid",r)}for(var l in ve(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":K(r),Z(r,a,!0);break;case"textarea":K(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,As(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ur(Mr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Q(e,r),i=X(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=L({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(a in ve(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Ur("scroll",e):null!=u&&b(e,a,u,l))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ks(t),null;case 6:if(e&&null!=t.stateNode)Ds(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=Xo(Yo.current),Xo(Ko.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ks(t),null;case 13:if(Ei(ea),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),po(),t.flags|=98560,a=!1;else if(a=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[hi]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ks(t),a=!1}else null!==oo&&(ac(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ea.current)?0===Dl&&(Dl=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ks(t),null);case 4:return $o(),Ps(e,t),null===e&&zr(t.stateNode.containerInfo),Ks(t),null;case 10:return _o(t.type._context),Ks(t),null;case 19:if(Ei(ea),null===(a=t.memoizedState))return Ks(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Ws(a,!1);else{if(0!==Dl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ta(e))){for(t.flags|=128,Ws(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ki(ea,1&ea.current|2),t.child}e=e.sibling}null!==a.tail&&$e()>zl&&(t.flags|=128,r=!0,Ws(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ta(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ws(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!io)return Ks(t),null}else 2*$e()-a.renderingStartTime>zl&&1073741824!==n&&(t.flags|=128,r=!0,Ws(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=$e(),t.sibling=null,n=ea.current,ki(ea,r?1&n|2:1&n),t):(Ks(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pl)&&(Ks(t),6&t.subtreeFlags&&(t.flags|=8192)):Ks(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Ys(e,t){switch(to(t),t.tag){case 1:return Pi(t.type)&&Ii(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return $o(),Ei(Ci),Ei(_i),ra(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zo(t),null;case 13:if(Ei(ea),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(ea),null;case 4:return $o(),null;case 10:return _o(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}As=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ps=function(){},Is=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Xo(Ko.current);var o,a=null;switch(n){case"input":i=X(e,i),r=X(e,r),a=[];break;case"select":i=L({},i,{value:void 0}),r=L({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ve(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ur("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Ds=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xs=!1,Qs=!1,$s="function"===typeof WeakSet?WeakSet:Set,Js=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Nc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Nc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&el(t,n,o)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[mi],delete t[gi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Qs||Zs(n,t);case 6:var r=ul,i=dl;ul=null,hl(e,t,n),dl=i,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),zt(e)):li(ul,n.stateNode));break;case 4:r=ul,i=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Qs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&el(n,t,a),i=i.next}while(i!==r)}hl(e,t,n);break;case 1:if(!Qs&&(Zs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Nc(n,t,s)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Qs=(r=Qs)||null!==n.memoizedState,hl(e,t,n),Qs=r):hl(e,t,n);break;default:hl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $s),t.forEach(function(t){var r=_c.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(o(160));fl(a,s,i),ul=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Nc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),yl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){Nc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Nc(e,e.return,g)}}break;case 1:ml(t,e),yl(e),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(ml(t,e),yl(e),512&r&&null!==n&&Zs(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){Nc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&$(i,a),be(l,s);var u=be(l,a);for(s=0;s<c.length;s+=2){var d=c[s],h=c[s+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,u)}switch(l){case"input":J(i,a);break;case"textarea":oe(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(g){Nc(e,e.return,g)}}break;case 6:if(ml(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Nc(e,e.return,g)}}break;case 3:if(ml(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(g){Nc(e,e.return,g)}break;case 4:default:ml(t,e),yl(e);break;case 13:ml(t,e),yl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Vl=$e())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Qs=(u=Qs)||d,ml(t,e),Qs=u):ml(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Js=e,d=e.child;null!==d;){for(h=Js=d;null!==Js;){switch(p=(f=Js).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Zs(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Nc(r,n,g)}}break;case 5:Zs(f,f.return);break;case 22:if(null!==f.memoizedState){wl(h);continue}}null!==p?(p.return=f,Js=p):wl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",s))}catch(g){Nc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Nc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),yl(e),4&r&&pl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cl(e,sl(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ll(e,sl(e),a);break;default:throw Error(o(161))}}catch(s){Nc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Js=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Js;){var i=Js,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Xs;if(!a){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Qs;s=Xs;var c=Qs;if(Xs=a,(Qs=l)&&!c)for(Js=i;null!==Js;)l=(a=Js).child,22===a.tag&&null!==a.memoizedState?jl(i):null!==l?(l.return=a,Js=l):jl(i);for(;null!==o;)Js=o,bl(o,t,n),o=o.sibling;Js=i,Xs=s,Qs=c}xl(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Js=o):xl(e)}}function xl(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qs||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Qs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Ho(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ho(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(o(163))}Qs||512&t.flags&&il(t)}catch(f){Nc(t,t.return,f)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function wl(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function jl(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Nc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Nc(t,i,l)}}var o=t.return;try{il(t)}catch(l){Nc(t,o,l)}break;case 5:var a=t.return;try{il(t)}catch(l){Nc(t,a,l)}}}catch(l){Nc(t,t.return,l)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var Sl,Nl=Math.ceil,El=x.ReactCurrentDispatcher,kl=x.ReactCurrentOwner,Tl=x.ReactCurrentBatchConfig,_l=0,Cl=null,Ol=null,Al=0,Pl=0,Il=Ni(0),Dl=0,Ml=null,Rl=0,Ll=0,Fl=0,Ul=null,Bl=null,Vl=0,zl=1/0,ql=null,Hl=!1,Wl=null,Kl=null,Gl=!1,Yl=null,Xl=0,Ql=0,$l=null,Jl=-1,Zl=0;function ec(){return 0!==(6&_l)?$e():-1!==Jl?Jl:Jl=$e()}function tc(e){return 0===(1&e.mode)?1:0!==(2&_l)&&0!==Al?Al&-Al:null!==go.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function nc(e,t,n,r){if(50<Ql)throw Ql=0,$l=null,Error(o(185));yt(e,n,r),0!==(2&_l)&&e===Cl||(e===Cl&&(0===(2&_l)&&(Ll|=n),4===Dl&&sc(e,Al)),rc(e,r),1===n&&0===_l&&0===(1&t.mode)&&(zl=$e()+500,Ui&&zi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,l=i[a];-1===l?0!==(s&n)&&0===(s&r)||(i[a]=ft(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ht(e,e===Cl?Al:0);if(0===r)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){Ui=!0,Vi(e)}(lc.bind(null,e)):Vi(lc.bind(null,e)),ai(function(){0===(6&_l)&&zi()}),n=null;else{switch(xt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Cc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Jl=-1,Zl=0,0!==(6&_l))throw Error(o(327));var n=e.callbackNode;if(jc()&&e.callbackNode!==n)return null;var r=ht(e,e===Cl?Al:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=_l;_l|=2;var a=pc();for(Cl===e&&Al===t||(ql=null,zl=$e()+500,hc(e,t));;)try{vc();break}catch(l){fc(e,l)}To(),El.current=a,_l=i,null!==Ol?t=0:(Cl=null,Al=0,t=Dl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ml,hc(e,0),sc(e,r),rc(e,$e()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(a=pt(e))&&(r=a,t=oc(e,a))),1===t))throw n=Ml,hc(e,0),sc(e,r),rc(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:wc(e,Bl,ql);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Vl+500-$e())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Bl,ql),t);break}wc(e,Bl,ql);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Nl(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Bl,ql),r);break}wc(e,Bl,ql);break;default:throw Error(o(329))}}}return rc(e,$e()),e.callbackNode===n?ic.bind(null,e):null}function oc(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Bl,Bl=n,null!==t&&ac(t)),e}function ac(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function sc(e,t){for(t&=~Fl,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&_l))throw Error(o(327));jc();var t=ht(e,0);if(0===(1&t))return rc(e,$e()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ml,hc(e,0),sc(e,t),rc(e,$e()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Bl,ql),rc(e,$e()),null}function cc(e,t){var n=_l;_l|=1;try{return e(t)}finally{0===(_l=n)&&(zl=$e()+500,Ui&&zi())}}function uc(e){null!==Yl&&0===Yl.tag&&0===(6&_l)&&jc();var t=_l;_l|=1;var n=Tl.transition,r=bt;try{if(Tl.transition=null,bt=1,e)return e()}finally{bt=r,Tl.transition=n,0===(6&(_l=t))&&zi()}}function dc(){Pl=Il.current,Ei(Il)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ol)for(n=Ol.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ii();break;case 3:$o(),Ei(Ci),Ei(_i),ra();break;case 5:Zo(r);break;case 4:$o();break;case 13:case 19:Ei(ea);break;case 10:_o(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Cl=e,Ol=e=Ic(e.current,null),Al=Pl=t,Dl=0,Ml=null,Fl=Ll=Rl=0,Bl=Ul=null,null!==Po){for(t=0;t<Po.length;t++)if(null!==(r=(n=Po[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Po=null}return e}function fc(e,t){for(;;){var n=Ol;try{if(To(),ia.current=Ja,ua){for(var r=sa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ua=!1}if(aa=0,ca=la=sa=null,da=!1,ha=0,kl.current=null,null===n||null===n.return){Dl=1,Ml=t,Ol=null;break}e:{var a=e,s=n.return,l=n,c=t;if(t=Al,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,ys(p,s,l,0,t),1&p.mode&&ms(a,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ms(a,u,t),mc();break e}c=Error(o(426))}else if(io&&1&l.mode){var y=gs(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ys(y,s,l,0,t),mo(cs(c,l));break e}}a=c=cs(c,l),4!==Dl&&(Dl=2),null===Ul?Ul=[a]:Ul.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,zo(a,fs(0,c,t));break e;case 1:l=c;var v=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Kl||!Kl.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,zo(a,ps(a,l,t));break e}}a=a.return}while(null!==a)}xc(n)}catch(x){t=x,Ol===n&&null!==n&&(Ol=n=n.return);continue}break}}function pc(){var e=El.current;return El.current=Ja,null===e?Ja:e}function mc(){0!==Dl&&3!==Dl&&2!==Dl||(Dl=4),null===Cl||0===(268435455&Rl)&&0===(268435455&Ll)||sc(Cl,Al)}function gc(e,t){var n=_l;_l|=2;var r=pc();for(Cl===e&&Al===t||(ql=null,hc(e,t));;)try{yc();break}catch(i){fc(e,i)}if(To(),_l=n,El.current=r,null!==Ol)throw Error(o(261));return Cl=null,Al=0,Dl}function yc(){for(;null!==Ol;)bc(Ol)}function vc(){for(;null!==Ol&&!Xe();)bc(Ol)}function bc(e){var t=Sl(e.alternate,e,Pl);e.memoizedProps=e.pendingProps,null===t?xc(e):Ol=t,kl.current=null}function xc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gs(n,t,Pl)))return void(Ol=n)}else{if(null!==(n=Ys(n,t)))return n.flags&=32767,void(Ol=n);if(null===e)return Dl=6,void(Ol=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ol=t);Ol=t=e}while(null!==t);0===Dl&&(Dl=5)}function wc(e,t,n){var r=bt,i=Tl.transition;try{Tl.transition=null,bt=1,function(e,t,n,r){do{jc()}while(null!==Yl);if(0!==(6&_l))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Cl&&(Ol=Cl=null,Al=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gl||(Gl=!0,Cc(tt,function(){return jc(),null})),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Tl.transition,Tl.transition=null;var s=bt;bt=1;var l=_l;_l|=4,kl.current=null,function(e,t){if(ei=Ht,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(w){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=s+i),h!==a||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=s),f===a&&++d===r&&(c=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:ns(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(o(163))}}catch(w){Nc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}m=tl,tl=!1}(e,n),gl(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,vl(n,e,i),Qe(),_l=l,bt=s,Tl.transition=a}else e.current=n;if(Gl&&(Gl=!1,Yl=e,Xl=i),a=e.pendingLanes,0===a&&(Kl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hl)throw Hl=!1,e=Wl,Wl=null,e;0!==(1&Xl)&&0!==e.tag&&jc(),a=e.pendingLanes,0!==(1&a)?e===$l?Ql++:(Ql=0,$l=e):Ql=0,zi()}(e,t,n,r)}finally{Tl.transition=i,bt=r}return null}function jc(){if(null!==Yl){var e=xt(Xl),t=Tl.transition,n=bt;try{if(Tl.transition=null,bt=16>e?16:e,null===Yl)var r=!1;else{if(e=Yl,Yl=null,Xl=0,0!==(6&_l))throw Error(o(331));var i=_l;for(_l|=4,Js=e.current;null!==Js;){var a=Js,s=a.child;if(0!==(16&Js.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Js=u;null!==Js;){var d=Js;switch(d.tag){case 0:case 11:case 15:nl(8,d,a)}var h=d.child;if(null!==h)h.return=d,Js=h;else for(;null!==Js;){var f=(d=Js).sibling,p=d.return;if(ol(d),d===u){Js=null;break}if(null!==f){f.return=p,Js=f;break}Js=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Js=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Js=s;else e:for(;null!==Js;){if(0!==(2048&(a=Js).flags))switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var v=a.sibling;if(null!==v){v.return=a.return,Js=v;break e}Js=a.return}}var b=e.current;for(Js=b;null!==Js;){var x=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==x)x.return=s,Js=x;else e:for(s=b;null!==Js;){if(0!==(2048&(l=Js).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(j){Nc(l,l.return,j)}if(l===s){Js=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Js=w;break e}Js=l.return}}if(_l=i,zi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(j){}r=!0}return r}finally{bt=n,Tl.transition=t}}return!1}function Sc(e,t,n){e=Bo(e,t=fs(0,t=cs(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Nc(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Kl||!Kl.has(r))){t=Bo(t,e=ps(t,e=cs(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Cl===e&&(Al&n)===n&&(4===Dl||3===Dl&&(130023424&Al)===Al&&500>$e()-Vl?hc(e,0):Fl|=n),rc(e,t)}function kc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Mo(e,t))&&(yt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),kc(e,n)}function _c(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),kc(e,n)}function Cc(e,t){return Ge(e,t)}function Oc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ac(e,t,n,r){return new Oc(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ic(e,t){var n=e.alternate;return null===n?((n=Ac(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Pc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Mc(n.children,i,a,t);case N:s=8,i|=8;break;case E:return(e=Ac(12,n,t,2|i)).elementType=E,e.lanes=a,e;case C:return(e=Ac(13,n,t,i)).elementType=C,e.lanes=a,e;case O:return(e=Ac(19,n,t,i)).elementType=O,e.lanes=a,e;case I:return Rc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:s=10;break e;case T:s=9;break e;case _:s=11;break e;case A:s=14;break e;case P:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ac(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Mc(e,t,n,r){return(e=Ac(7,e,r,t)).lanes=n,e}function Rc(e,t,n,r){return(e=Ac(22,e,r,t)).elementType=I,e.lanes=n,e.stateNode={isHidden:!1},e}function Lc(e,t,n){return(e=Ac(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Ac(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,i,o,a,s,l){return e=new Uc(e,t,n,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Ac(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lo(o),e}function Vc(e){if(!e)return Ti;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Mi(e,n,t)}return t}function zc(e,t,n,r,i,o,a,s,l){return(e=Bc(n,r,!0,e,0,o,0,s,l)).context=Vc(null),n=e.current,(o=Uo(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Bo(n,o,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function qc(e,t,n,r){var i=t.current,o=ec(),a=tc(i);return n=Vc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Uo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Bo(i,t,a))&&(nc(e,i,a,o),Vo(e,i,a)),a}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ci.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:Cs(t),po();break;case 5:Jo(t);break;case 1:Pi(t.type)&&Ri(t);break;case 4:Qo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ki(So,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(ki(ea,1&ea.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ls(e,t,n):(ki(ea,1&ea.current),null!==(e=Hs(e,t,n))?e.sibling:null);ki(ea,1&ea.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ki(ea,ea.current),r)break;return null;case 22:case 23:return t.lanes=0,Ns(e,t,n)}return Hs(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,io&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qs(e,t),e=t.pendingProps;var i=Ai(t,_i.current);Oo(t,n),i=ga(null,t,r,e,i,n);var a=ya();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(a=!0,Ri(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Lo(t),i.updater=is,t.stateNode=i,i._reactInternals=t,ls(t,r,e,n),t=_s(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),xs(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===_)return 11;if(e===A)return 14}return 2}(r),e=ns(r,e),i){case 0:t=ks(null,t,r,e,n);break e;case 1:t=Ts(null,t,r,e,n);break e;case 11:t=ws(null,t,r,e,n);break e;case 14:t=js(null,t,r,ns(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,ks(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 3:e:{if(Cs(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Fo(e,t),qo(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Os(e,t,r,n,i=cs(Error(o(423)),t));break e}if(r!==i){t=Os(e,t,r,n,i=cs(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=jo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Hs(e,t,n);break e}xs(e,t,r,n)}t=t.child}return t;case 5:return Jo(t),null===e&&co(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),Es(e,t),xs(e,t,s,n),t.child;case 6:return null===e&&co(t),null;case 13:return Ls(e,t,n);case 4:return Qo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=wo(t,null,r,n):xs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ws(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 7:return xs(e,t,t.pendingProps,n),t.child;case 8:case 12:return xs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,ki(So,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Ci.current){t=Hs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Uo(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Co(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Co(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}xs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Oo(t,n),r=r(i=Ao(i)),t.flags|=1,xs(e,t,r,n),t.child;case 14:return i=ns(r=t.type,t.pendingProps),js(e,t,r,i=ns(r.type,i),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ns(r,i),qs(e,t),t.tag=1,Pi(r)?(e=!0,Ri(t)):e=!1,Oo(t,n),as(t,r,i),ls(t,r,i,n),_s(null,t,r,!0,e,n);case 19:return zs(e,t,n);case 22:return Ns(e,t,n)}throw Error(o(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Zc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=Hc(a);s.call(e)}}qc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Hc(a);o.call(e)}}var a=zc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=a,e[pi]=a.current,zr(8===e.nodeType?e.parentNode:e),uc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Hc(l);s.call(e)}}var l=Bc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[pi]=l.current,zr(8===e.nodeType?e.parentNode:e),uc(function(){qc(t,l,n,r)}),l}(n,t,e,i,r);return Hc(a)}Xc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));qc(e,t,null,null)},Xc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc(function(){qc(null,e,null,null)}),t[pi]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Nt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<It.length&&0!==t&&t<It[n].priority;n++);It.splice(n,0,e),0===n&&Lt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),rc(t,$e()),0===(6&_l)&&(zl=$e()+500,zi()))}break;case 13:uc(function(){var t=Mo(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),Kc(e,1)}},jt=function(e){if(13===e.tag){var t=Mo(e,134217728);if(null!==t)nc(t,e,134217728,ec());Kc(e,134217728)}},St=function(e){if(13===e.tag){var t=tc(e),n=Mo(e,t);if(null!==n)nc(n,e,t,ec());Kc(e,t)}},Nt=function(){return bt},Et=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},je=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(o(90));G(r),J(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},_e=cc,Ce=uc;var eu={usingClientEntryPoint:!1,Events:[bi,xi,wi,ke,Te,cc]},tu={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{it=ru.inject(nu),ot=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:j,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Qc(e))throw Error(o(299));var n=!1,r="",i=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!$c(t))throw Error(o(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,i,0,a,s),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xc(t)},t.render=function(e,t,n){if(!$c(t))throw Error(o(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$c(e))throw Error(o(40));return!!e._reactRootContainer&&(uc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[pi]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$c(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},2761:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},2777:(e,t,n)=>{var r=n(5193),i=n(2761),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},2866:(e,t,n)=>{var r=n(2969);e.exports=function(e){return function(t){return r(t,e)}}},2929:(e,t,n)=>{var r=n(6552).Uint8Array;e.exports=r},2969:(e,t,n)=>{var r=n(5324),i=n(914);e.exports=function(e,t){for(var n=0,o=(t=r(t,e)).length;null!=e&&n<o;)e=e[i(t[n++])];return n&&n==o?e:void 0}},3028:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},3097:(e,t,n)=>{var r=n(2969);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},3204:(e,t,n)=>{var r=n(3343),i=n(2777),o=n(4052),a=n(4543),s=n(9194),l=n(1268),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),u=!n&&i(e),d=!n&&!u&&a(e),h=!n&&!u&&!d&&l(e),f=n||u||d||h,p=f?r(e.length,String):[],m=p.length;for(var g in e)!t&&!c.call(e,g)||f&&("length"==g||d&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m))||p.push(g);return p}},3211:e=>{e.exports=function(e,t){return e===t||e!==e&&t!==t}},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3279:e=>{e.exports=function(e){return e}},3331:(e,t,n)=>{var r=n(9676),i=n(929),o=n(7303);e.exports=function(e){return function(t,n,a){return a&&"number"!=typeof a&&i(t,n,a)&&(n=a=void 0),t=o(t),void 0===n?(n=t,t=0):n=o(n),a=void 0===a?t<n?1:-1:o(a),r(t,n,a,e)}}},3343:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},3366:(e,t,n)=>{var r=n(7894),i=n(9057);e.exports=function(e,t){return null!=e&&i(e,t,r)}},3411:(e,t,n)=>{var r=n(149),i=n(9096),o=n(8883),a=n(4052);e.exports=function(e,t){return(a(e)?r:o)(e,i(t,3))}},3440:(e,t,n)=>{var r=n(6552)["__core-js_shared__"];e.exports=r},3538:(e,t,n)=>{var r=n(755),i=n(3411);e.exports=function(e,t){return r(i(e,t),1)}},3668:(e,t,n)=>{var r=n(8902),i=n(2587),o=n(8114);e.exports=function(e,t,n,a,s,l){var c=1&n,u=e.length,d=t.length;if(u!=d&&!(c&&d>u))return!1;var h=l.get(e),f=l.get(t);if(h&&f)return h==t&&f==e;var p=-1,m=!0,g=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++p<u;){var y=e[p],v=t[p];if(a)var b=c?a(v,y,p,t,e,l):a(y,v,p,e,t,l);if(void 0!==b){if(b)continue;m=!1;break}if(g){if(!i(t,function(e,t){if(!o(g,t)&&(y===e||s(y,e,n,a,l)))return g.push(t)})){m=!1;break}}else if(y!==v&&!s(y,v,n,a,l)){m=!1;break}}return l.delete(e),l.delete(t),m}},3713:(e,t,n)=>{var r=n(6140),i=n(1143),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},3781:(e,t,n)=>{var r=n(9417),i=n(8673);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var o=t[n],a=e[o];t[n]=[o,a,r(a)]}return t}},3871:e=>{e.exports=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}},3892:e=>{e.exports=function(e){return this.__data__.has(e)}},3932:(e,t,n)=>{var r=n(396),i=n(2866),o=n(2597),a=n(914);e.exports=function(e){return o(e)?r(a(e)):i(e)}},3950:(e,t,n)=>{var r=n(6686),i=n(4757),o=n(801),a=Math.max,s=Math.min;e.exports=function(e,t,n){var l,c,u,d,h,f,p=0,m=!1,g=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var n=l,r=c;return l=c=void 0,p=t,d=e.apply(r,n)}function b(e){var n=e-f;return void 0===f||n>=t||n<0||g&&e-p>=u}function x(){var e=i();if(b(e))return w(e);h=setTimeout(x,function(e){var n=t-(e-f);return g?s(n,u-(e-p)):n}(e))}function w(e){return h=void 0,y&&l?v(e):(l=c=void 0,d)}function j(){var e=i(),n=b(e);if(l=arguments,c=this,f=e,n){if(void 0===h)return function(e){return p=e,h=setTimeout(x,t),m?v(e):d}(f);if(g)return clearTimeout(h),h=setTimeout(x,t),v(f)}return void 0===h&&(h=setTimeout(x,t)),d}return t=o(t)||0,r(n)&&(m=!!n.leading,u=(g="maxWait"in n)?a(o(n.maxWait)||0,t):u,y="trailing"in n?!!n.trailing:y),j.cancel=function(){void 0!==h&&clearTimeout(h),p=0,l=f=c=h=void 0},j.flush=function(){return void 0===h?d:w(i())},j}},4020:e=>{e.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}},4052:e=>{var t=Array.isArray;e.exports=t},4065:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},4079:(e,t,n)=>{var r=n(8259),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)}),t});e.exports=a},4160:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}},4190:(e,t,n)=>{var r=n(1340);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var x=b.prototype=new v;x.constructor=b,m(x,y.prototype),x.isPureReactComponent=!0;var w=Array.isArray,j=Object.prototype.hasOwnProperty,S={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)j.call(t,i)&&!N.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:S.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function _(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function C(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===o?"."+_(l,0):o,w(a)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),C(a,t,i,"",function(e){return e})):null!=a&&(k(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+e)),t.push(a)),1;if(l=0,o=""===o?".":o+":",w(e))for(var c=0;c<e.length;c++){var u=o+_(s=e[c],c);l+=C(s,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=C(s=s.value,t,i,u=o+_(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function O(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",function(e){return t.call(n,e,i++)}),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},I={transition:null},D={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:I,ReactCurrentOwner:S};function M(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:O,forEach:function(e,t,n){O(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return O(e,function(){t++}),t},toArray:function(e){return O(e,function(e){return e})||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=M,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=S.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)j.call(t,c)&&!N.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=I.transition;I.transition={};try{e()}finally{I.transition=t}},t.unstable_act=M,t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.3.1"},4258:(e,t,n)=>{var r=n(5906)();e.exports=r},4262:(e,t,n)=>{var r=n(8895),i=n(4052);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},4391:(e,t,n)=>{"use strict";var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4416:(e,t,n)=>{var r=n(8902),i=n(5866),o=n(1558),a=n(8114),s=n(8182),l=n(2074);e.exports=function(e,t,n){var c=-1,u=i,d=e.length,h=!0,f=[],p=f;if(n)h=!1,u=o;else if(d>=200){var m=t?null:s(e);if(m)return l(m);h=!1,u=a,p=new r}else p=t?[]:f;e:for(;++c<d;){var g=e[c],y=t?t(g):g;if(g=n||0!==g?g:0,h&&y===y){for(var v=p.length;v--;)if(p[v]===y)continue e;t&&p.push(y),f.push(g)}else u(p,y,n)||(p!==f&&p.push(y),f.push(g))}return f}},4543:(e,t,n)=>{e=n.nmd(e);var r=n(6552),i=n(14),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||i;e.exports=l},4545:(e,t,n)=>{var r=n(7160);e.exports=function(){this.__data__=new r,this.size=0}},4552:(e,t,n)=>{var r=n(9812),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(l){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},4597:(e,t,n)=>{var r=n(2587),i=n(9096),o=n(2165),a=n(4052),s=n(929);e.exports=function(e,t,n){var l=a(e)?r:o;return n&&s(e,t,n)&&(t=void 0),l(e,i(t,3))}},4657:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},4664:(e,t,n)=>{var r=n(4258),i=n(8673);e.exports=function(e,t){return e&&r(e,t,i)}},4746:(e,t,n)=>{var r=n(5652);e.exports=function(e,t){var n=!0;return r(e,function(e,r,i){return n=!!t(e,r,i)}),n}},4757:(e,t,n)=>{var r=n(6552);e.exports=function(){return r.Date.now()}},4816:(e,t,n)=>{var r=n(7251),i=n(7159),o=n(438),a=n(9394),s=n(6874);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},5029:(e,t,n)=>{var r=n(6989),i=n(3097),o=n(3366),a=n(2597),s=n(9417),l=n(1310),c=n(914);e.exports=function(e,t){return a(e)&&s(t)?l(c(e),t):function(n){var a=i(n,e);return void 0===a&&a===t?o(n,e):r(t,a,3)}}},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},5051:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},5173:(e,t,n)=>{e.exports=n(1497)()},5193:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},5204:(e,t,n)=>{var r=n(7937)(n(6552),"Map");e.exports=r},5268:(e,t,n)=>{var r=n(9160);e.exports=function(e){return r(e)&&e!=+e}},5295:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}},5324:(e,t,n)=>{var r=n(4052),i=n(2597),o=n(4079),a=n(1069);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:o(a(e))}},5387:(e,t,n)=>{var r=n(7937)(n(6552),"Promise");e.exports=r},5428:(e,t,n)=>{var r=n(6913),i=n(6173),o=n(2761),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},5538:(e,t,n)=>{var r=n(7160),i=n(4545),o=n(793),a=n(7760),s=n(3892),l=n(6788);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=s,c.prototype.set=l,e.exports=c},5575:(e,t,n)=>{var r=n(7937)(Object,"create");e.exports=r},5636:(e,t,n)=>{var r=n(1170),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=i(o.length-t,0),l=Array(s);++a<s;)l[a]=o[t+a];a=-1;for(var c=Array(t+1);++a<t;)c[a]=o[a];return c[t]=n(l),r(e,this,c)}}},5647:(e,t,n)=>{var r=n(3279),i=n(5636),o=n(6350);e.exports=function(e,t){return o(i(e,t,r),e+"")}},5652:(e,t,n)=>{var r=n(4664),i=n(6516)(r);e.exports=i},5654:(e,t,n)=>{var r=n(7937),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=i},5713:e=>{e.exports=function(){}},5752:(e,t,n)=>{var r=n(9395),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,a,s){var l=1&n,c=r(e),u=c.length;if(u!=r(t).length&&!l)return!1;for(var d=u;d--;){var h=c[d];if(!(l?h in t:i.call(t,h)))return!1}var f=s.get(e),p=s.get(t);if(f&&p)return f==t&&p==e;var m=!0;s.set(e,t),s.set(t,e);for(var g=l;++d<u;){var y=e[h=c[d]],v=t[h];if(o)var b=l?o(v,y,h,t,e,s):o(y,v,h,e,t,s);if(!(void 0===b?y===v||a(y,v,n,o,s):b)){m=!1;break}g||(g="constructor"==h)}if(m&&!g){var x=e.constructor,w=t.constructor;x==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w||(m=!1)}return s.delete(e),s.delete(t),m}},5797:(e,t,n)=>{var r=n(4816);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},5816:e=>{e.exports=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}},5866:(e,t,n)=>{var r=n(8468);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},5893:(e,t,n)=>{var r=n(6599);e.exports=function(e,t,n){for(var i=-1,o=e.criteria,a=t.criteria,s=o.length,l=n.length;++i<s;){var c=r(o[i],a[i]);if(c)return i>=l?c:c*("desc"==n[i]?-1:1)}return e.index-t.index}},5906:e=>{e.exports=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++i];if(!1===n(o[l],l,o))break}return t}}},5967:e=>{e.exports=function(e){return e.split("")}},5990:(e,t,n)=>{var r=n(3028)(Object.getPrototypeOf,Object);e.exports=r},6095:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},6140:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},6173:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},6179:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},6311:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},6350:(e,t,n)=>{var r=n(8325),i=n(6578)(r);e.exports=i},6361:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return!0===e||!1===e||i(e)&&"[object Boolean]"==r(e)}},6378:(e,t)=>{"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case o:case s:case a:case h:case f:return e;default:switch(e=e&&e.$$typeof){case u:case c:case d:case m:case p:case l:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference"),t.isFragment=function(e){return y(e)===o}},6399:(e,t,n)=>{var r=n(5538),i=n(3668),o=n(9987),a=n(5752),s=n(6924),l=n(4052),c=n(4543),u=n(1268),d="[object Arguments]",h="[object Array]",f="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,g,y){var v=l(e),b=l(t),x=v?h:s(e),w=b?h:s(t),j=(x=x==d?f:x)==f,S=(w=w==d?f:w)==f,N=x==w;if(N&&c(e)){if(!c(t))return!1;v=!0,j=!1}if(N&&!j)return y||(y=new r),v||u(e)?i(e,t,n,m,g,y):o(e,t,x,n,m,g,y);if(!(1&n)){var E=j&&p.call(e,"__wrapped__"),k=S&&p.call(t,"__wrapped__");if(E||k){var T=E?e.value():e,_=k?t.value():t;return y||(y=new r),g(T,_,n,m,y)}}return!!N&&(y||(y=new r),a(e,t,n,m,g,y))}},6516:(e,t,n)=>{var r=n(6571);e.exports=function(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var o=n.length,a=t?o:-1,s=Object(n);(t?a--:++a<o)&&!1!==i(s[a],a,s););return n}}},6532:(e,t,n)=>{var r=n(5538),i=n(6989);e.exports=function(e,t,n,o){var a=n.length,s=a,l=!o;if(null==e)return!s;for(e=Object(e);a--;){var c=n[a];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++a<s;){var u=(c=n[a])[0],d=e[u],h=c[1];if(l&&c[2]){if(void 0===d&&!(u in e))return!1}else{var f=new r;if(o)var p=o(d,h,u,e,t,f);if(!(void 0===p?i(h,d,3,o,f):p))return!1}}return!0}},6552:(e,t,n)=>{var r=n(7105),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},6571:(e,t,n)=>{var r=n(1629),i=n(6173);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},6578:e=>{var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var i=t(),o=16-(i-r);if(r=i,o>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},6599:(e,t,n)=>{var r=n(9841);e.exports=function(e,t){if(e!==t){var n=void 0!==e,i=null===e,o=e===e,a=r(e),s=void 0!==t,l=null===t,c=t===t,u=r(t);if(!l&&!u&&!a&&e>t||a&&s&&c&&!l&&!u||i&&s&&c||!n&&c||!o)return 1;if(!i&&!a&&!u&&e<t||u&&n&&o&&!i&&!a||l&&n&&o||!s&&o||!c)return-1}return 0}},6600:(e,t,n)=>{var r=n(7937)(n(6552),"WeakMap");e.exports=r},6604:(e,t,n)=>{var r=n(3331)();e.exports=r},6686:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},6704:e=>{e.exports=function(e){return this.__data__.has(e)}},6745:(e,t,n)=>{var r=n(9742),i=n(61),o=n(3279);e.exports=function(e){return e&&e.length?r(e,o,i):void 0}},6788:(e,t,n)=>{var r=n(7160),i=n(5204),o=n(4816);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},6832:(e,t,n)=>{e=n.nmd(e);var r=n(7105),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(t){}}();e.exports=s},6874:(e,t,n)=>{var r=n(2622);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},6913:(e,t,n)=>{var r=n(9812),i=n(4552),o=n(6095),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},6924:(e,t,n)=>{var r=n(7685),i=n(5204),o=n(5387),a=n(2070),s=n(6600),l=n(6913),c=n(6996),u="[object Map]",d="[object Promise]",h="[object Set]",f="[object WeakMap]",p="[object DataView]",m=c(r),g=c(i),y=c(o),v=c(a),b=c(s),x=l;(r&&x(new r(new ArrayBuffer(1)))!=p||i&&x(new i)!=u||o&&x(o.resolve())!=d||a&&x(new a)!=h||s&&x(new s)!=f)&&(x=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case m:return p;case g:return u;case y:return d;case v:return h;case b:return f}return t}),e.exports=x},6954:(e,t,n)=>{var r=n(1629),i=n(7857),o=n(6686),a=n(6996),s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,d=c.hasOwnProperty,h=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?h:s).test(a(e))}},6989:(e,t,n)=>{var r=n(6399),i=n(2761);e.exports=function e(t,n,o,a,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!==t&&n!==n:r(t,n,o,a,e,s))}},6996:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},7002:(e,t,n)=>{var r=n(5295),i=n(4746),o=n(9096),a=n(4052),s=n(929);e.exports=function(e,t,n){var l=a(e)?r:i;return n&&s(e,t,n)&&(t=void 0),l(e,o(t,3))}},7105:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},7116:(e,t,n)=>{var r=n(9812),i=n(2777),o=n(4052),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||i(e)||!!(a&&e&&e[a])}},7159:(e,t,n)=>{var r=n(2622);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},7160:(e,t,n)=>{var r=n(7563),i=n(9935),o=n(4190),a=n(1946),s=n(1714);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,x(e),!m)if(null!==r(c))m=!0,I(j);else{var t=r(u);null!==t&&D(w,t.startTime-e)}}function j(e,n){m=!1,g&&(g=!1,v(k),k=-1),p=!0;var o=f;try{for(x(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!C());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var s=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),x(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&D(w,d.startTime-n),l=!1}return l}finally{h=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,N=!1,E=null,k=-1,T=5,_=-1;function C(){return!(t.unstable_now()-_<T)}function O(){if(null!==E){var e=t.unstable_now();_=e;var n=!0;try{n=E(!0,e)}finally{n?S():(N=!1,E=null)}}else N=!1}if("function"===typeof b)S=function(){b(O)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,P=A.port2;A.port1.onmessage=O,S=function(){P.postMessage(null)}}else S=function(){y(O,0)};function I(e){E=e,N||(N=!0,S())}function D(e,n){k=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,I(j))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(v(k),k=-1):g=!0,D(w,o-a))):(e.sortIndex=s,n(c,e),m||p||(m=!0,I(j))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},7251:(e,t,n)=>{var r=n(8724),i=n(7160),o=n(5204);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},7283:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,r,o,a){if("function"!==typeof r)throw new TypeError("The listener must be a function");var s=new i(r,o||e,a),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function a(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=new Array(o);i<o;i++)a[i]=r[i].fn;return a},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,i,o,a){var s=n?n+e:e;if(!this._events[s])return!1;var l,c,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,i),!0;case 5:return u.fn.call(u.context,t,r,i,o),!0;case 6:return u.fn.call(u.context,t,r,i,o,a),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,i);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},s.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,i){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||a(this,o);else{for(var l=0,c=[],u=s.length;l<u;l++)(s[l].fn!==t||i&&!s[l].once||r&&s[l].context!==r)&&c.push(s[l]);c.length?this._events[o]=1===c.length?c[0]:c:a(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},7303:(e,t,n)=>{var r=n(801),i=1/0;e.exports=function(e){return e?(e=r(e))===i||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}},7424:(e,t,n)=>{var r=n(755),i=n(2536),o=n(5647),a=n(929),s=o(function(e,t){if(null==e)return[];var n=t.length;return n>1&&a(e,t[0],t[1])?t=[]:n>2&&a(t[0],t[1],t[2])&&(t=[t[0]]),i(e,r(t,1),[])});e.exports=s},7498:e=>{e.exports=function(e,t){return e>t}},7529:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}},7563:e=>{e.exports=function(){this.__data__=[],this.size=0}},7574:e=>{e.exports=function(e){return function(t){return e(t)}}},7615:(e,t,n)=>{var r=n(5575);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},7676:(e,t,n)=>{var r=n(8189),i=n(6311),o=n(9115),a=n(1069);e.exports=function(e){return function(t){t=a(t);var n=i(t)?o(t):void 0,s=n?n[0]:t.charAt(0),l=n?r(n,1).join(""):t.slice(1);return s[e]()+l}}},7685:(e,t,n)=>{var r=n(7937)(n(6552),"DataView");e.exports=r},7760:e=>{e.exports=function(e){return this.__data__.get(e)}},7828:e=>{e.exports=function(){return[]}},7857:(e,t,n)=>{var r=n(3440),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},7894:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},7937:(e,t,n)=>{var r=n(6954),i=n(4657);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},8114:e=>{e.exports=function(e,t){return e.has(t)}},8182:(e,t,n)=>{var r=n(2070),i=n(5713),o=n(2074),a=r&&1/o(new r([,-0]))[1]==1/0?function(e){return new r(e)}:i;e.exports=a},8189:(e,t,n)=>{var r=n(3871);e.exports=function(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:r(e,t,n)}},8210:function(e,t,n){var r;!function(){"use strict";var i,o=1e9,a={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},s=!0,l="[DecimalError] ",c=l+"Invalid argument: ",u=l+"Exponent out of range: ",d=Math.floor,h=Math.pow,f=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,p=1e7,m=9007199254740991,g=d(1286742750677284.5),y={};function v(e,t){var n,r,i,o,a,l,c,u,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),s?_(t,h):t;if(c=e.d,u=t.d,a=e.e,i=t.e,c=c.slice(),o=a-i){for(o<0?(r=c,o=-o,l=u.length):(r=u,i=a,l=c.length),o>(l=(a=Math.ceil(h/7))>l?a+1:l+1)&&(o=l,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for((l=c.length)-(o=u.length)<0&&(o=l,r=u,u=c,c=r),n=0;o;)n=(c[--o]=c[o]+u[o]+n)/p|0,c[o]%=p;for(n&&(c.unshift(n),++i),l=c.length;0==c[--l];)c.pop();return t.d=c,t.e=i,s?_(t,h):t}function b(e,t,n){if(e!==~~e||e<t||e>n)throw Error(c+e)}function x(e){var t,n,r,i=e.length-1,o="",a=e[0];if(i>0){for(o+=a,t=1;t<i;t++)(n=7-(r=e[t]+"").length)&&(o+=E(n)),o+=r;(n=7-(r=(a=e[t])+"").length)&&(o+=E(n))}else if(0===a)return"0";for(;a%10===0;)a/=10;return o+a}y.absoluteValue=y.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},y.comparedTo=y.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(t=0,n=(r=o.d.length)<(i=e.d.length)?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1},y.decimalPlaces=y.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},y.dividedBy=y.div=function(e){return w(this,new this.constructor(e))},y.dividedToIntegerBy=y.idiv=function(e){var t=this.constructor;return _(w(this,new t(e),0,1),t.precision)},y.equals=y.eq=function(e){return!this.cmp(e)},y.exponent=function(){return S(this)},y.greaterThan=y.gt=function(e){return this.cmp(e)>0},y.greaterThanOrEqualTo=y.gte=function(e){return this.cmp(e)>=0},y.isInteger=y.isint=function(){return this.e>this.d.length-2},y.isNegative=y.isneg=function(){return this.s<0},y.isPositive=y.ispos=function(){return this.s>0},y.isZero=function(){return 0===this.s},y.lessThan=y.lt=function(e){return this.cmp(e)<0},y.lessThanOrEqualTo=y.lte=function(e){return this.cmp(e)<1},y.logarithm=y.log=function(e){var t,n=this,r=n.constructor,o=r.precision,a=o+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(i))throw Error(l+"NaN");if(n.s<1)throw Error(l+(n.s?"NaN":"-Infinity"));return n.eq(i)?new r(0):(s=!1,t=w(k(n,a),k(e,a),a),s=!0,_(t,o))},y.minus=y.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?C(t,e):v(t,(e.s=-e.s,e))},y.modulo=y.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(!(e=new r(e)).s)throw Error(l+"NaN");return n.s?(s=!1,t=w(n,e,0,1).times(e),s=!0,n.minus(t)):_(new r(n),i)},y.naturalExponential=y.exp=function(){return j(this)},y.naturalLogarithm=y.ln=function(){return k(this)},y.negated=y.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},y.plus=y.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?v(t,e):C(t,(e.s=-e.s,e))},y.precision=y.sd=function(e){var t,n,r,i=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(c+e);if(t=S(i)+1,n=7*(r=i.d.length-1)+1,r=i.d[r]){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},y.squareRoot=y.sqrt=function(){var e,t,n,r,i,o,a,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(l+"NaN")}for(e=S(c),s=!1,0==(i=Math.sqrt(+c))||i==1/0?(((t=x(c.d)).length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=d((e+1)/2)-(e<0||e%2),r=new u(t=i==1/0?"5e"+e:(t=i.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new u(i.toString()),i=a=(n=u.precision)+3;;)if(r=(o=r).plus(w(c,o,a+2)).times(.5),x(o.d).slice(0,a)===(t=x(r.d)).slice(0,a)){if(t=t.slice(a-3,a+1),i==a&&"4999"==t){if(_(o,n+1,0),o.times(o).eq(c)){r=o;break}}else if("9999"!=t)break;a+=4}return s=!0,_(r,n)},y.times=y.mul=function(e){var t,n,r,i,o,a,l,c,u,d=this,h=d.constructor,f=d.d,m=(e=new h(e)).d;if(!d.s||!e.s)return new h(0);for(e.s*=d.s,n=d.e+e.e,(c=f.length)<(u=m.length)&&(o=f,f=m,m=o,a=c,c=u,u=a),o=[],r=a=c+u;r--;)o.push(0);for(r=u;--r>=0;){for(t=0,i=c+r;i>r;)l=o[i]+m[r]*f[i-r-1]+t,o[i--]=l%p|0,t=l/p|0;o[i]=(o[i]+t)%p|0}for(;!o[--a];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,s?_(e,h.precision):e},y.toDecimalPlaces=y.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(b(e,0,o),void 0===t?t=r.rounding:b(t,0,8),_(n,e+S(n)+1,t))},y.toExponential=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=O(r,!0):(b(e,0,o),void 0===t?t=i.rounding:b(t,0,8),n=O(r=_(new i(r),e+1,t),!0,e+1)),n},y.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return void 0===e?O(i):(b(e,0,o),void 0===t?t=a.rounding:b(t,0,8),n=O((r=_(new a(i),e+S(i)+1,t)).abs(),!1,e+S(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)},y.toInteger=y.toint=function(){var e=this,t=e.constructor;return _(new t(e),S(e)+1,t.rounding)},y.toNumber=function(){return+this},y.toPower=y.pow=function(e){var t,n,r,o,a,c,u=this,h=u.constructor,f=+(e=new h(e));if(!e.s)return new h(i);if(!(u=new h(u)).s){if(e.s<1)throw Error(l+"Infinity");return u}if(u.eq(i))return u;if(r=h.precision,e.eq(i))return _(u,r);if(c=(t=e.e)>=(n=e.d.length-1),a=u.s,c){if((n=f<0?-f:f)<=m){for(o=new h(i),t=Math.ceil(r/7+4),s=!1;n%2&&A((o=o.times(u)).d,t),0!==(n=d(n/2));)A((u=u.times(u)).d,t);return s=!0,e.s<0?new h(i).div(o):_(o,r)}}else if(a<0)throw Error(l+"NaN");return a=a<0&&1&e.d[Math.max(t,n)]?-1:1,u.s=1,s=!1,o=e.times(k(u,r+12)),s=!0,(o=j(o)).s=a,o},y.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return void 0===e?r=O(i,(n=S(i))<=a.toExpNeg||n>=a.toExpPos):(b(e,1,o),void 0===t?t=a.rounding:b(t,0,8),r=O(i=_(new a(i),e,t),e<=(n=S(i))||n<=a.toExpNeg,e)),r},y.toSignificantDigits=y.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(b(e,1,o),void 0===t?t=n.rounding:b(t,0,8)),_(new n(this),e,t)},y.toString=y.valueOf=y.val=y.toJSON=function(){var e=this,t=S(e),n=e.constructor;return O(e,t<=n.toExpNeg||t>=n.toExpPos)};var w=function(){function e(e,t){var n,r=0,i=e.length;for(e=e.slice();i--;)n=e[i]*t+r,e[i]=n%p|0,r=n/p|0;return r&&e.unshift(r),e}function t(e,t,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*p+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,i,o,a){var s,c,u,d,h,f,m,g,y,v,b,x,w,j,N,E,k,T,C=r.constructor,O=r.s==i.s?1:-1,A=r.d,P=i.d;if(!r.s)return new C(r);if(!i.s)throw Error(l+"Division by zero");for(c=r.e-i.e,k=P.length,N=A.length,g=(m=new C(O)).d=[],u=0;P[u]==(A[u]||0);)++u;if(P[u]>(A[u]||0)&&--c,(x=null==o?o=C.precision:a?o+(S(r)-S(i))+1:o)<0)return new C(0);if(x=x/7+2|0,u=0,1==k)for(d=0,P=P[0],x++;(u<N||d)&&x--;u++)w=d*p+(A[u]||0),g[u]=w/P|0,d=w%P|0;else{for((d=p/(P[0]+1)|0)>1&&(P=e(P,d),A=e(A,d),k=P.length,N=A.length),j=k,v=(y=A.slice(0,k)).length;v<k;)y[v++]=0;(T=P.slice()).unshift(0),E=P[0],P[1]>=p/2&&++E;do{d=0,(s=t(P,y,k,v))<0?(b=y[0],k!=v&&(b=b*p+(y[1]||0)),(d=b/E|0)>1?(d>=p&&(d=p-1),1==(s=t(h=e(P,d),y,f=h.length,v=y.length))&&(d--,n(h,k<f?T:P,f))):(0==d&&(s=d=1),h=P.slice()),(f=h.length)<v&&h.unshift(0),n(y,h,v),-1==s&&(s=t(P,y,k,v=y.length))<1&&(d++,n(y,k<v?T:P,v)),v=y.length):0===s&&(d++,y=[0]),g[u++]=d,s&&y[0]?y[v++]=A[j]||0:(y=[A[j]],v=1)}while((j++<N||void 0!==y[0])&&x--)}return g[0]||g.shift(),m.e=c,_(m,a?o+S(m)+1:o)}}();function j(e,t){var n,r,o,a,l,c=0,d=0,f=e.constructor,p=f.precision;if(S(e)>16)throw Error(u+S(e));if(!e.s)return new f(i);for(null==t?(s=!1,l=p):l=t,a=new f(.03125);e.abs().gte(.1);)e=e.times(a),d+=5;for(l+=Math.log(h(2,d))/Math.LN10*2+5|0,n=r=o=new f(i),f.precision=l;;){if(r=_(r.times(e),l),n=n.times(++c),x((a=o.plus(w(r,n,l))).d).slice(0,l)===x(o.d).slice(0,l)){for(;d--;)o=_(o.times(o),l);return f.precision=p,null==t?(s=!0,_(o,p)):o}o=a}}function S(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function N(e,t,n){if(t>e.LN10.sd())throw s=!0,n&&(e.precision=n),Error(l+"LN10 precision limit exceeded");return _(new e(e.LN10),t)}function E(e){for(var t="";e--;)t+="0";return t}function k(e,t){var n,r,o,a,c,u,d,h,f,p=1,m=e,g=m.d,y=m.constructor,v=y.precision;if(m.s<1)throw Error(l+(m.s?"NaN":"-Infinity"));if(m.eq(i))return new y(0);if(null==t?(s=!1,h=v):h=t,m.eq(10))return null==t&&(s=!0),N(y,h);if(h+=10,y.precision=h,r=(n=x(g)).charAt(0),a=S(m),!(Math.abs(a)<15e14))return d=N(y,h+2,v).times(a+""),m=k(new y(r+"."+n.slice(1)),h-10).plus(d),y.precision=v,null==t?(s=!0,_(m,v)):m;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=x((m=m.times(e)).d)).charAt(0),p++;for(a=S(m),r>1?(m=new y("0."+n),a++):m=new y(r+"."+n.slice(1)),u=c=m=w(m.minus(i),m.plus(i),h),f=_(m.times(m),h),o=3;;){if(c=_(c.times(f),h),x((d=u.plus(w(c,new y(o),h))).d).slice(0,h)===x(u.d).slice(0,h))return u=u.times(2),0!==a&&(u=u.plus(N(y,h+2,v).times(a+""))),u=w(u,new y(p),h),y.precision=v,null==t?(s=!0,_(u,v)):u;u=d,o+=2}}function T(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(i=t.length;48===t.charCodeAt(i-1);)--i;if(t=t.slice(r,i)){if(i-=r,n=n-r-1,e.e=d(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=7;r<i;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),s&&(e.e>g||e.e<-g))throw Error(u+n)}else e.s=0,e.e=0,e.d=[0];return e}function _(e,t,n){var r,i,o,a,l,c,f,m,y=e.d;for(a=1,o=y[0];o>=10;o/=10)a++;if((r=t-a)<0)r+=7,i=t,f=y[m=0];else{if((m=Math.ceil((r+1)/7))>=(o=y.length))return e;for(f=o=y[m],a=1;o>=10;o/=10)a++;i=(r%=7)-7+a}if(void 0!==n&&(l=f/(o=h(10,a-i-1))%10|0,c=t<0||void 0!==y[m+1]||f%o,c=n<4?(l||c)&&(0==n||n==(e.s<0?3:2)):l>5||5==l&&(4==n||c||6==n&&(r>0?i>0?f/h(10,a-i):0:y[m-1])%10&1||n==(e.s<0?8:7))),t<1||!y[0])return c?(o=S(e),y.length=1,t=t-o-1,y[0]=h(10,(7-t%7)%7),e.e=d(-t/7)||0):(y.length=1,y[0]=e.e=e.s=0),e;if(0==r?(y.length=m,o=1,m--):(y.length=m+1,o=h(10,7-r),y[m]=i>0?(f/h(10,a-i)%h(10,i)|0)*o:0),c)for(;;){if(0==m){(y[0]+=o)==p&&(y[0]=1,++e.e);break}if(y[m]+=o,y[m]!=p)break;y[m--]=0,o=1}for(r=y.length;0===y[--r];)y.pop();if(s&&(e.e>g||e.e<-g))throw Error(u+S(e));return e}function C(e,t){var n,r,i,o,a,l,c,u,d,h,f=e.constructor,m=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),s?_(t,m):t;if(c=e.d,h=t.d,r=t.e,u=e.e,c=c.slice(),a=u-r){for((d=a<0)?(n=c,a=-a,l=h.length):(n=h,r=u,l=c.length),a>(i=Math.max(Math.ceil(m/7),l)+2)&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for((d=(i=c.length)<(l=h.length))&&(l=i),i=0;i<l;i++)if(c[i]!=h[i]){d=c[i]<h[i];break}a=0}for(d&&(n=c,c=h,h=n,t.s=-t.s),l=c.length,i=h.length-l;i>0;--i)c[l++]=0;for(i=h.length;i>a;){if(c[--i]<h[i]){for(o=i;o&&0===c[--o];)c[o]=p-1;--c[o],c[i]+=p}c[i]-=h[i]}for(;0===c[--l];)c.pop();for(;0===c[0];c.shift())--r;return c[0]?(t.d=c,t.e=r,s?_(t,m):t):new f(0)}function O(e,t,n){var r,i=S(e),o=x(e.d),a=o.length;return t?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+E(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+E(-i-1)+o,n&&(r=n-a)>0&&(o+=E(r))):i>=a?(o+=E(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+E(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=E(r))),e.s<0?"-"+o:o}function A(e,t){if(e.length>t)return e.length=t,!0}function P(e){if(!e||"object"!==typeof e)throw Error(l+"Object expected");var t,n,r,i=["precision",1,o,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if(void 0!==(r=e[n=i[t]])){if(!(d(r)===r&&r>=i[t+1]&&r<=i[t+2]))throw Error(c+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(c+n+": "+r);this[n]=new this(r)}return this}a=function e(t){var n,r,i;function o(e){var t=this;if(!(t instanceof o))return new o(e);if(t.constructor=o,e instanceof o)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(c+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):T(t,e.toString())}if("string"!==typeof e)throw Error(c+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!f.test(e))throw Error(c+e);T(t,e)}if(o.prototype=y,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.clone=e,o.config=o.set=P,void 0===t&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return o.config(t),o}(a),a.default=a.Decimal=a,i=new a(1),void 0===(r=function(){return a}.call(t,n,t,e))||(e.exports=r)}()},8259:(e,t,n)=>{var r=n(5797);e.exports=function(e){var t=r(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}},8325:(e,t,n)=>{var r=n(2541),i=n(5654),o=n(3279),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=a},8468:(e,t,n)=>{var r=n(5816),i=n(644),o=n(4020);e.exports=function(e,t,n){return t===t?o(e,t,n):r(e,i,n)}},8541:(e,t,n)=>{var r=n(9812),i=n(149),o=n(4052),a=n(9841),s=r?r.prototype:void 0,l=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(a(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},8673:(e,t,n)=>{var r=n(3204),i=n(3713),o=n(6571);e.exports=function(e){return o(e)?r(e):i(e)}},8724:(e,t,n)=>{var r=n(7615),i=n(5051),o=n(2154),a=n(8734),s=n(2662);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},8734:(e,t,n)=>{var r=n(5575),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},8883:(e,t,n)=>{var r=n(5652),i=n(6571);e.exports=function(e,t){var n=-1,o=i(e)?Array(e.length):[];return r(e,function(e,r,i){o[++n]=t(e,r,i)}),o}},8895:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},8902:(e,t,n)=>{var r=n(4816),i=n(6179),o=n(6704);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},8990:(e,t,n)=>{var r=n(9995)(n(2520));e.exports=r},9057:(e,t,n)=>{var r=n(5324),i=n(2777),o=n(4052),a=n(9194),s=n(6173),l=n(914);e.exports=function(e,t,n){for(var c=-1,u=(t=r(t,e)).length,d=!1;++c<u;){var h=l(t[c]);if(!(d=null!=e&&n(e,h)))break;e=e[h]}return d||++c!=u?d:!!(u=null==e?0:e.length)&&s(u)&&a(h,u)&&(o(e)||i(e))}},9062:(e,t,n)=>{"use strict";e.exports=n(6378)},9096:(e,t,n)=>{var r=n(9256),i=n(5029),o=n(3279),a=n(4052),s=n(3932);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?a(e)?i(e[0],e[1]):r(e):s(e)}},9115:(e,t,n)=>{var r=n(5967),i=n(6311),o=n(715);e.exports=function(e){return i(e)?o(e):r(e)}},9140:(e,t,n)=>{var r=n(7303);e.exports=function(e){var t=r(e),n=t%1;return t===t?n?t-n:t:0}},9160:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return"number"==typeof e||i(e)&&"[object Number]"==r(e)}},9194:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},9256:(e,t,n)=>{var r=n(6532),i=n(3781),o=n(1310);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},9394:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).has(e)}},9395:(e,t,n)=>{var r=n(4262),i=n(9621),o=n(8673);e.exports=function(e){return r(e,o,i)}},9417:(e,t,n)=>{var r=n(6686);e.exports=function(e){return e===e&&!r(e)}},9621:(e,t,n)=>{var r=n(7529),i=n(7828),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),function(t){return o.call(e,t)}))}:i;e.exports=s},9676:e=>{var t=Math.ceil,n=Math.max;e.exports=function(e,r,i,o){for(var a=-1,s=n(t((r-e)/(i||1)),0),l=Array(s);s--;)l[o?s:++a]=e,e+=i;return l}},9686:e=>{e.exports=function(e){return null==e}},9742:(e,t,n)=>{var r=n(9841);e.exports=function(e,t,n){for(var i=-1,o=e.length;++i<o;){var a=e[i],s=t(a);if(null!=s&&(void 0===l?s===s&&!r(s):n(s,l)))var l=s,c=a}return c}},9812:(e,t,n)=>{var r=n(6552).Symbol;e.exports=r},9841:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},9853:(e,t,n)=>{var r=n(6989);e.exports=function(e,t){return r(e,t)}},9889:(e,t,n)=>{var r=n(3950),i=n(6686);e.exports=function(e,t,n){var o=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return i(n)&&(o="leading"in n?!!n.leading:o,a="trailing"in n?!!n.trailing:a),r(e,t,{leading:o,maxWait:t,trailing:a})}},9935:(e,t,n)=>{var r=n(1340),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},9987:(e,t,n)=>{var r=n(9812),i=n(2929),o=n(3211),a=n(3668),s=n(4160),l=n(2074),c=r?r.prototype:void 0,u=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,d,h){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var f=s;case"[object Set]":var p=1&r;if(f||(f=l),e.size!=t.size&&!p)return!1;var m=h.get(e);if(m)return m==t;r|=2,h.set(e,t);var g=a(f(e),f(t),r,c,d,h);return h.delete(e),g;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},9995:(e,t,n)=>{var r=n(9096),i=n(6571),o=n(8673);e.exports=function(e){return function(t,n,a){var s=Object(t);if(!i(t)){var l=r(n,3);t=o(t),n=function(e){return l(s[e],e,s)}}var c=e(t,n,a);return c>-1?s[l?t[c]:c]:void 0}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;("object"==typeof s||"function"==typeof s)&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach(e=>a[e]=()=>r[e]);return a.default=()=>r,n.d(o,a),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";var e={};n.r(e),n.d(e,{Decoder:()=>Dk,Encoder:()=>Pk,PacketType:()=>Ak,protocol:()=>Ok});var t={};n.r(t),n.d(t,{scaleBand:()=>KP,scaleDiverging:()=>SF,scaleDivergingLog:()=>NF,scaleDivergingPow:()=>kF,scaleDivergingSqrt:()=>TF,scaleDivergingSymlog:()=>EF,scaleIdentity:()=>yM,scaleImplicit:()=>HP,scaleLinear:()=>gM,scaleLog:()=>kM,scaleOrdinal:()=>WP,scalePoint:()=>YP,scalePow:()=>MM,scaleQuantile:()=>GM,scaleQuantize:()=>YM,scaleRadial:()=>FM,scaleSequential:()=>gF,scaleSequentialLog:()=>yF,scaleSequentialPow:()=>bF,scaleSequentialQuantile:()=>wF,scaleSequentialSqrt:()=>xF,scaleSequentialSymlog:()=>vF,scaleSqrt:()=>RM,scaleSymlog:()=>OM,scaleThreshold:()=>XM,scaleTime:()=>hF,scaleUtc:()=>fF,tickFormat:()=>pM});var r,i=n(5043),o=n.t(i,2),a=n(4391);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const l="popstate";function c(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function d(e,t){return{usr:e.state,key:e.key,idx:t}}function h(e,t,n,r){return void 0===n&&(n=null),s({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?p(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function f(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function p(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function m(e,t,n,i){void 0===i&&(i={});let{window:o=document.defaultView,v5Compat:a=!1}=i,u=o.history,p=r.Pop,m=null,g=y();function y(){return(u.state||{idx:null}).idx}function v(){p=r.Pop;let e=y(),t=null==e?null:e-g;g=e,m&&m({action:p,location:x.location,delta:t})}function b(e){let t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:f(e);return n=n.replace(/ $/,"%20"),c(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,u.replaceState(s({},u.state,{idx:g}),""));let x={get action(){return p},get location(){return e(o,u)},listen(e){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(l,v),m=e,()=>{o.removeEventListener(l,v),m=null}},createHref:e=>t(o,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){p=r.Push;let i=h(x.location,e,t);n&&n(i,e),g=y()+1;let s=d(i,g),l=x.createHref(i);try{u.pushState(s,"",l)}catch(c){if(c instanceof DOMException&&"DataCloneError"===c.name)throw c;o.location.assign(l)}a&&m&&m({action:p,location:x.location,delta:1})},replace:function(e,t){p=r.Replace;let i=h(x.location,e,t);n&&n(i,e),g=y();let o=d(i,g),s=x.createHref(i);u.replaceState(o,"",s),a&&m&&m({action:p,location:x.location,delta:0})},go:e=>u.go(e)};return x}var g;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(g||(g={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function y(e,t,n){return void 0===n&&(n="/"),v(e,t,n,!1)}function v(e,t,n,r){let i=P(("string"===typeof t?p(t):t).pathname||"/",n);if(null==i)return null;let o=b(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(o);let a=null;for(let s=0;null==a&&s<o.length;++s){let e=A(i);a=C(o[s],e,r)}return a}function b(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let a={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(c(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let s=L([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),b(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:_(s,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of x(e.path))i(e,t,r);else i(e,t)}),t}function x(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let a=x(r.join("/")),s=[];return s.push(...a.map(e=>""===e?o:[o,e].join("/"))),i&&s.push(...a),s.map(t=>e.startsWith("/")&&""===t?"/":t)}const w=/^:[\w-]+$/,j=3,S=2,N=1,E=10,k=-2,T=e=>"*"===e;function _(e,t){let n=e.split("/"),r=n.length;return n.some(T)&&(r+=k),t&&(r+=S),n.filter(e=>!T(e)).reduce((e,t)=>e+(w.test(t)?j:""===t?N:E),r)}function C(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},o="/",a=[];for(let s=0;s<r.length;++s){let e=r[s],l=s===r.length-1,c="/"===o?t:t.slice(o.length)||"/",u=O({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=O({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:L([o,u.pathname]),pathnameBase:F(L([o,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(o=L([o,u.pathnameBase]))}return a}function O(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1),l=r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=s[n]||"";a=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:o,pathnameBase:a,pattern:e}}function A(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function P(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function I(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function D(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function M(e,t){let n=D(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function R(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=p(e):(i=s({},e),c(!i.pathname||!i.pathname.includes("?"),I("?","pathname","search",i)),c(!i.pathname||!i.pathname.includes("#"),I("#","pathname","hash",i)),c(!i.search||!i.search.includes("#"),I("#","search","hash",i)));let o,a=""===e||""===i.pathname,l=a?"/":i.pathname;if(null==l)o=n;else{let e=t.length-1;if(!r&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?p(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:U(r),hash:B(i)}}(i,o),d=l&&"/"!==l&&l.endsWith("/"),h=(a||"."===l)&&n.endsWith("/");return u.pathname.endsWith("/")||!d&&!h||(u.pathname+="/"),u}const L=e=>e.join("/").replace(/\/\/+/g,"/"),F=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),U=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",B=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function V(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const z=["post","put","patch","delete"],q=(new Set(z),["get",...z]);new Set(q),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function H(){return H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H.apply(this,arguments)}const W=i.createContext(null);const K=i.createContext(null);const G=i.createContext(null);const Y=i.createContext(null);const X=i.createContext({outlet:null,matches:[],isDataRoute:!1});const Q=i.createContext(null);function $(){return null!=i.useContext(Y)}function J(){return $()||c(!1),i.useContext(Y).location}function Z(e){i.useContext(G).static||i.useLayoutEffect(e)}function ee(){let{isDataRoute:e}=i.useContext(X);return e?function(){let{router:e}=de(ce.UseNavigateStable),t=fe(ue.UseNavigateStable),n=i.useRef(!1);Z(()=>{n.current=!0});let r=i.useCallback(function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,H({fromRouteId:t},i)))},[e,t]);return r}():function(){$()||c(!1);let e=i.useContext(W),{basename:t,future:n,navigator:r}=i.useContext(G),{matches:o}=i.useContext(X),{pathname:a}=J(),s=JSON.stringify(M(o,n.v7_relativeSplatPath)),l=i.useRef(!1);Z(()=>{l.current=!0});let u=i.useCallback(function(n,i){if(void 0===i&&(i={}),!l.current)return;if("number"===typeof n)return void r.go(n);let o=R(n,JSON.parse(s),a,"path"===i.relative);null==e&&"/"!==t&&(o.pathname="/"===o.pathname?t:L([t,o.pathname])),(i.replace?r.replace:r.push)(o,i.state,i)},[t,r,s,a,e]);return u}()}const te=i.createContext(null);function ne(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=i.useContext(G),{matches:o}=i.useContext(X),{pathname:a}=J(),s=JSON.stringify(M(o,r.v7_relativeSplatPath));return i.useMemo(()=>R(e,JSON.parse(s),a,"path"===n),[e,s,a,n])}function re(e,t,n,o){$()||c(!1);let{navigator:a}=i.useContext(G),{matches:s}=i.useContext(X),l=s[s.length-1],u=l?l.params:{},d=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let h,f=J();if(t){var m;let e="string"===typeof t?p(t):t;"/"===d||(null==(m=e.pathname)?void 0:m.startsWith(d))||c(!1),h=e}else h=f;let g=h.pathname||"/",v=g;if("/"!==d){let e=d.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=y(e,{pathname:v});let x=le(b&&b.map(e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:L([d,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:L([d,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),s,n,o);return t&&x?i.createElement(Y.Provider,{value:{location:H({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:r.Pop}},x):x}function ie(){let e=function(){var e;let t=i.useContext(Q),n=he(ue.UseRouteError),r=fe(ue.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=V(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:o},n):null,null)}const oe=i.createElement(ie,null);class ae extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(X.Provider,{value:this.props.routeContext},i.createElement(Q.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function se(e){let{routeContext:t,match:n,children:r}=e,o=i.useContext(W);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(X.Provider,{value:t},r)}function le(e,t,n,r){var o;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var a;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(a=r)&&a.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let s=e,l=null==(o=n)?void 0:o.errors;if(null!=l){let e=s.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||c(!1),s=s.slice(0,Math.min(s.length,e+1))}let u=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let i=0;i<s.length;i++){let e=s[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=i),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){u=!0,s=d>=0?s.slice(0,d+1):[s[0]];break}}}return s.reduceRight((e,r,o)=>{let a,c=!1,h=null,f=null;var p;n&&(a=l&&r.route.id?l[r.route.id]:void 0,h=r.route.errorElement||oe,u&&(d<0&&0===o?(p="route-fallback",!1||pe[p]||(pe[p]=!0),c=!0,f=null):d===o&&(c=!0,f=r.route.hydrateFallbackElement||null)));let m=t.concat(s.slice(0,o+1)),g=()=>{let t;return t=a?h:c?f:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(se,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===o)?i.createElement(ae,{location:n.location,revalidation:n.revalidation,component:h,error:a,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}var ce=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ce||{}),ue=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ue||{});function de(e){let t=i.useContext(W);return t||c(!1),t}function he(e){let t=i.useContext(K);return t||c(!1),t}function fe(e){let t=function(){let e=i.useContext(X);return e||c(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||c(!1),n.route.id}const pe={};function me(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}o.startTransition;function ge(e){let{to:t,replace:n,state:r,relative:o}=e;$()||c(!1);let{future:a,static:s}=i.useContext(G),{matches:l}=i.useContext(X),{pathname:u}=J(),d=ee(),h=R(t,M(l,a.v7_relativeSplatPath),u,"path"===o),f=JSON.stringify(h);return i.useEffect(()=>d(JSON.parse(f),{replace:n,state:r,relative:o}),[d,f,o,n,r]),null}function ye(e){return function(e){let t=i.useContext(X).outlet;return t?i.createElement(te.Provider,{value:e},t):t}(e.context)}function ve(e){c(!1)}function be(e){let{basename:t="/",children:n=null,location:o,navigationType:a=r.Pop,navigator:s,static:l=!1,future:u}=e;$()&&c(!1);let d=t.replace(/^\/*/,"/"),h=i.useMemo(()=>({basename:d,navigator:s,static:l,future:H({v7_relativeSplatPath:!1},u)}),[d,u,s,l]);"string"===typeof o&&(o=p(o));let{pathname:f="/",search:m="",hash:g="",state:y=null,key:v="default"}=o,b=i.useMemo(()=>{let e=P(f,d);return null==e?null:{location:{pathname:e,search:m,hash:g,state:y,key:v},navigationType:a}},[d,f,m,g,y,v,a]);return null==b?null:i.createElement(G.Provider,{value:h},i.createElement(Y.Provider,{children:n,value:b}))}function xe(e){let{children:t,location:n}=e;return re(we(t),n)}new Promise(()=>{});i.Component;function we(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,(e,r)=>{if(!i.isValidElement(e))return;let o=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,we(e.props.children,o));e.type!==ve&&c(!1),e.props.index&&e.props.children&&c(!1);let a={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=we(e.props.children,o)),n.push(a)}),n}var je=n(7950),Se=n.t(je,2);function Ne(){return Ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ne.apply(this,arguments)}function Ee(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const ke=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Te=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"];try{window.__reactRouterVersion="6"}catch(CG){}const _e=i.createContext({isTransitioning:!1});new Map;const Ce=o.startTransition;Se.flushSync,o.useId;function Oe(e){let{basename:t,children:n,future:r,window:o}=e,a=i.useRef();var s;null==a.current&&(a.current=(void 0===(s={window:o,v5Compat:!0})&&(s={}),m(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return h("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:f(t)},null,s)));let l=a.current,[c,u]=i.useState({action:l.action,location:l.location}),{v7_startTransition:d}=r||{},p=i.useCallback(e=>{d&&Ce?Ce(()=>u(e)):u(e)},[u,d]);return i.useLayoutEffect(()=>l.listen(p),[l,p]),i.useEffect(()=>me(r),[r]),i.createElement(be,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const Ae="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Pe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ie=i.forwardRef(function(e,t){let n,{onClick:r,relative:o,reloadDocument:a,replace:s,state:l,target:u,to:d,preventScrollReset:h,viewTransition:p}=e,m=Ee(e,ke),{basename:g}=i.useContext(G),y=!1;if("string"===typeof d&&Pe.test(d)&&(n=d,Ae))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),n=P(t.pathname,g);t.origin===e.origin&&null!=n?d=n+t.search+t.hash:y=!0}catch(CG){}let v=function(e,t){let{relative:n}=void 0===t?{}:t;$()||c(!1);let{basename:r,navigator:o}=i.useContext(G),{hash:a,pathname:s,search:l}=ne(e,{relative:n}),u=s;return"/"!==r&&(u="/"===s?r:L([r,s])),o.createHref({pathname:u,search:l,hash:a})}(d,{relative:o}),b=function(e,t){let{target:n,replace:r,state:o,preventScrollReset:a,relative:s,viewTransition:l}=void 0===t?{}:t,c=ee(),u=J(),d=ne(e,{relative:s});return i.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:f(u)===f(d);c(e,{replace:n,state:o,preventScrollReset:a,relative:s,viewTransition:l})}},[u,c,d,r,o,n,e,a,s,l])}(d,{replace:s,state:l,target:u,preventScrollReset:h,relative:o,viewTransition:p});return i.createElement("a",Ne({},m,{href:n||v,onClick:y||a?r:function(e){r&&r(e),e.defaultPrevented||b(e)},ref:t,target:u}))});const De=i.forwardRef(function(e,t){let{"aria-current":n="page",caseSensitive:r=!1,className:o="",end:a=!1,style:s,to:l,viewTransition:u,children:d}=e,h=Ee(e,Te),f=ne(l,{relative:h.relative}),p=J(),m=i.useContext(K),{navigator:g,basename:y}=i.useContext(G),v=null!=m&&function(e,t){void 0===t&&(t={});let n=i.useContext(_e);null==n&&c(!1);let{basename:r}=Le(Me.useViewTransitionState),o=ne(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=P(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=P(n.nextLocation.pathname,r)||n.nextLocation.pathname;return null!=O(o.pathname,s)||null!=O(o.pathname,a)}(f)&&!0===u,b=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,x=p.pathname,w=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;r||(x=x.toLowerCase(),w=w?w.toLowerCase():null,b=b.toLowerCase()),w&&y&&(w=P(w,y)||w);const j="/"!==b&&b.endsWith("/")?b.length-1:b.length;let S,N=x===b||!a&&x.startsWith(b)&&"/"===x.charAt(j),E=null!=w&&(w===b||!a&&w.startsWith(b)&&"/"===w.charAt(b.length)),k={isActive:N,isPending:E,isTransitioning:v},T=N?n:void 0;S="function"===typeof o?o(k):[o,N?"active":null,E?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let _="function"===typeof s?s(k):s;return i.createElement(Ie,Ne({},h,{"aria-current":T,className:S,ref:t,style:_,to:l,viewTransition:u}),"function"===typeof d?d(k):d)});var Me,Re;function Le(e){let t=i.useContext(W);return t||c(!1),t}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Me||(Me={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Re||(Re={}));var Fe=n(579);const Ue=(0,i.createContext)({});function Be(e){const t=(0,i.useRef)(null);return null===t.current&&(t.current=e()),t.current}const Ve=(0,i.createContext)(null),ze=(0,i.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class qe extends i.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function He(e){let{children:t,isPresent:n}=e;const r=(0,i.useId)(),o=(0,i.useRef)(null),a=(0,i.useRef)({width:0,height:0,top:0,left:0}),{nonce:s}=(0,i.useContext)(ze);return(0,i.useInsertionEffect)(()=>{const{width:e,height:t,top:i,left:l}=a.current;if(n||!o.current||!e||!t)return;o.current.dataset.motionPopId=r;const c=document.createElement("style");return s&&(c.nonce=s),document.head.appendChild(c),c.sheet&&c.sheet.insertRule('\n          [data-motion-pop-id="'.concat(r,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            top: ").concat(i,"px !important;\n            left: ").concat(l,"px !important;\n          }\n        ")),()=>{document.head.removeChild(c)}},[n]),(0,Fe.jsx)(qe,{isPresent:n,childRef:o,sizeRef:a,children:i.cloneElement(t,{ref:o})})}const We=e=>{let{children:t,initial:n,isPresent:r,onExitComplete:o,custom:a,presenceAffectsLayout:s,mode:l}=e;const c=Be(Ke),u=(0,i.useId)(),d=(0,i.useCallback)(e=>{c.set(e,!0);for(const t of c.values())if(!t)return;o&&o()},[c,o]),h=(0,i.useMemo)(()=>({id:u,initial:n,isPresent:r,custom:a,onExitComplete:d,register:e=>(c.set(e,!1),()=>c.delete(e))}),s?[Math.random(),d]:[r,d]);return(0,i.useMemo)(()=>{c.forEach((e,t)=>c.set(t,!1))},[r]),i.useEffect(()=>{!r&&!c.size&&o&&o()},[r]),"popLayout"===l&&(t=(0,Fe.jsx)(He,{isPresent:r,children:t})),(0,Fe.jsx)(Ve.Provider,{value:h,children:t})};function Ke(){return new Map}function Ge(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=(0,i.useContext)(Ve);if(null===t)return[!0,null];const{isPresent:n,onExitComplete:r,register:o}=t,a=(0,i.useId)();(0,i.useEffect)(()=>{e&&o(a)},[e]);const s=(0,i.useCallback)(()=>e&&r&&r(a),[a,r,e]);return!n&&r?[!1,s]:[!0]}const Ye=e=>e.key||"";function Xe(e){const t=[];return i.Children.forEach(e,e=>{(0,i.isValidElement)(e)&&t.push(e)}),t}const Qe="undefined"!==typeof window,$e=Qe?i.useLayoutEffect:i.useEffect,Je=e=>{let{children:t,custom:n,initial:r=!0,onExitComplete:o,presenceAffectsLayout:a=!0,mode:s="sync",propagate:l=!1}=e;const[c,u]=Ge(l),d=(0,i.useMemo)(()=>Xe(t),[t]),h=l&&!c?[]:d.map(Ye),f=(0,i.useRef)(!0),p=(0,i.useRef)(d),m=Be(()=>new Map),[g,y]=(0,i.useState)(d),[v,b]=(0,i.useState)(d);$e(()=>{f.current=!1,p.current=d;for(let e=0;e<v.length;e++){const t=Ye(v[e]);h.includes(t)?m.delete(t):!0!==m.get(t)&&m.set(t,!1)}},[v,h.length,h.join("-")]);const x=[];if(d!==g){let e=[...d];for(let t=0;t<v.length;t++){const n=v[t],r=Ye(n);h.includes(r)||(e.splice(t,0,n),x.push(n))}return"wait"===s&&x.length&&(e=x),b(Xe(e)),void y(d)}const{forceRender:w}=(0,i.useContext)(Ue);return(0,Fe.jsx)(Fe.Fragment,{children:v.map(e=>{const t=Ye(e),i=!(l&&!c)&&(d===v||h.includes(t));return(0,Fe.jsx)(We,{isPresent:i,initial:!(f.current&&!r)&&void 0,custom:i?void 0:n,presenceAffectsLayout:a,mode:s,onExitComplete:i?void 0:()=>{if(!m.has(t))return;m.set(t,!0);let e=!0;m.forEach(t=>{t||(e=!1)}),e&&(null===w||void 0===w||w(),b(p.current),l&&(null===u||void 0===u||u()),o&&o())},children:e},t)})})},Ze="dp_theme_v1";function et(e){document.documentElement.setAttribute("data-bs-theme",e),document.body.dataset.theme=e;const t=new CustomEvent("themechange",{detail:{theme:e}});window.dispatchEvent(t)}function tt(e){const t="dark"===e?"light":"dark";var n;return et(t),n=t,localStorage.setItem(Ze,n),t}const nt=function(){const[e,t]=(0,i.useState)("light");return(0,i.useEffect)(()=>{const e=function(){const e=localStorage.getItem(Ze);return"dark"===e||"light"===e?e:window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}();t(e),et(e)},[]),(0,Fe.jsxs)("button",{className:"btn btn-outline-secondary btn-sm d-flex align-items-center gap-2",onClick:()=>{t(e=>tt(e))},title:"Toggle theme",children:[(0,Fe.jsx)("i",{className:"bi ".concat("dark"===e?"bi-moon-stars":"bi-brightness-high")}),(0,Fe.jsx)("span",{className:"d-none d-md-inline",children:"dark"===e?"Dark":"Light"})]})};function rt(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function it(e){return it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},it(e)}function ot(e){var t=function(e,t){if("object"!=it(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=it(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==it(t)?t:t+""}function at(e,t,n){return(t=ot(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function st(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?st(Object(n),!0).forEach(function(t){at(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):st(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const ct=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ut={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,a=o?e[i+1]:0,s=i+2<e.length,l=s?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;s||(h=64,o||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ct(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const s=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==a||null==s)throw new dt;const l=t<<2|o>>4;if(r.push(l),64!==a){const e=o<<4&240|a>>2;if(r.push(e),64!==s){const e=a<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class dt extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ht=function(e){return function(e){const t=ct(e);return ut.encodeByteArray(t,!0)}(e).replace(/\./g,"")},ft=function(e){try{return ut.decodeString(e,!0)}catch(CG){console.error("base64Decode failed: ",CG)}return null};function pt(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const mt=()=>{try{return pt().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(CG){return}const t=e&&ft(e[1]);return t&&JSON.parse(t)})()}catch(CG){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(CG))}},gt=e=>{var t;return null===(t=mt())||void 0===t||null===(t=t.emulatorHosts)||void 0===t?void 0:t[e]},yt=()=>{var e;return null===(e=mt())||void 0===e?void 0:e.config},vt=e=>{var t;return null===(t=mt())||void 0===t?void 0:t["_".concat(e)]};class bt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function xt(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}async function wt(e){return(await fetch(e,{credentials:"include"})).ok}const jt={};let St=!1;function Nt(e,t){if("undefined"===typeof window||"undefined"===typeof document||!xt(window.location.host)||jt[e]===t||jt[e]||St)return;function n(e){return"__firebase__banner__".concat(e)}jt[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(jt))jt[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function o(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{St=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function a(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),a=document.getElementById(t)||document.createElement("span"),s=n("learnmore"),l=document.getElementById(s)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,s);const n=o();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,a,l,n),document.body.appendChild(t)}i?(a.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',a.innerText="Preview backend running in this workspace."),a.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",a):a()}function Et(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function kt(){var e;const t=null===(e=mt())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(CG){return!1}}function Tt(){return!kt()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _t(){try{return"object"===typeof indexedDB}catch(CG){return!1}}class Ct extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Ct.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ot.prototype.create)}}class Ot{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(At,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Ct(n,o,t)}}const At=/\{\$([^}]+)}/g;function Pt(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(It(n)&&It(o)){if(!Pt(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function It(e){return null!==e&&"object"===typeof e}function Dt(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Mt(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function Rt(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Lt{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Ft),void 0===r.error&&(r.error=Ft),void 0===r.complete&&(r.complete=Ft);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(CG){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(CG){"undefined"!==typeof console&&console.error&&console.error(CG)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ft(){}function Ut(e){return e&&e._delegate?e._delegate:e}class Bt{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Vt="[DEFAULT]";class zt{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new bt;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(CG){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(CG){if(r)return null;throw CG}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Vt})}catch(CG){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(CG){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===Vt?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(o){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt;return this.component?this.component.multipleInstances?e:Vt:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class qt{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new zt(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Ht=[];var Wt;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Wt||(Wt={}));const Kt={debug:Wt.DEBUG,verbose:Wt.VERBOSE,info:Wt.INFO,warn:Wt.WARN,error:Wt.ERROR,silent:Wt.SILENT},Gt=Wt.INFO,Yt={[Wt.DEBUG]:"log",[Wt.VERBOSE]:"log",[Wt.INFO]:"info",[Wt.WARN]:"warn",[Wt.ERROR]:"error"},Xt=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Yt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};class Qt{constructor(e){this.name=e,this._logLevel=Gt,this._logHandler=Xt,this._userLogHandler=null,Ht.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Wt))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Kt[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Wt.DEBUG,...t),this._logHandler(this,Wt.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Wt.VERBOSE,...t),this._logHandler(this,Wt.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Wt.INFO,...t),this._logHandler(this,Wt.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Wt.WARN,...t),this._logHandler(this,Wt.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Wt.ERROR,...t),this._logHandler(this,Wt.ERROR,...t)}}let $t,Jt;const Zt=new WeakMap,en=new WeakMap,tn=new WeakMap,nn=new WeakMap,rn=new WeakMap;let on={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return en.get(e);if("objectStoreNames"===t)return e.objectStoreNames||tn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ln(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function an(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Jt||(Jt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(cn(this),n),ln(Zt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ln(e.apply(cn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(cn(this),t,...r);return tn.set(o,t.sort?t.sort():[t]),ln(o)}}function sn(e){return"function"===typeof e?an(e):(e instanceof IDBTransaction&&function(e){if(en.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});en.set(e,t)}(e),((e,t)=>t.some(t=>e instanceof t))(e,$t||($t=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,on):e)}function ln(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(ln(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(t=>{t instanceof IDBCursor&&Zt.set(t,e)}).catch(()=>{}),rn.set(t,e),t}(e);if(nn.has(e))return nn.get(e);const t=sn(e);return t!==e&&(nn.set(e,t),rn.set(t,e)),t}const cn=e=>rn.get(e);const un=["get","getKey","getAll","getAllKeys","count"],dn=["put","add","delete","clear"],hn=new Map;function fn(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(hn.get(t))return hn.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=dn.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!un.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var a=arguments.length,s=new Array(a>1?a-1:0),l=1;l<a;l++)s[l-1]=arguments[l];return r&&(o=o.index(s.shift())),(await Promise.all([o[n](...s),i&&t.done]))[0]};return hn.set(t,o),o}on=(e=>lt(lt({},e),{},{get:(t,n,r)=>fn(t,n)||e.get(t,n,r),has:(t,n)=>!!fn(t,n)||e.has(t,n)}))(on);class pn{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const mn="@firebase/app",gn="0.14.3",yn=new Qt("@firebase/app"),vn="@firebase/app-compat",bn="@firebase/analytics-compat",xn="@firebase/analytics",wn="@firebase/app-check-compat",jn="@firebase/app-check",Sn="@firebase/auth",Nn="@firebase/auth-compat",En="@firebase/database",kn="@firebase/data-connect",Tn="@firebase/database-compat",_n="@firebase/functions",Cn="@firebase/functions-compat",On="@firebase/installations",An="@firebase/installations-compat",Pn="@firebase/messaging",In="@firebase/messaging-compat",Dn="@firebase/performance",Mn="@firebase/performance-compat",Rn="@firebase/remote-config",Ln="@firebase/remote-config-compat",Fn="@firebase/storage",Un="@firebase/storage-compat",Bn="@firebase/firestore",Vn="@firebase/ai",zn="@firebase/firestore-compat",qn="firebase",Hn="[DEFAULT]",Wn={[mn]:"fire-core",[vn]:"fire-core-compat",[xn]:"fire-analytics",[bn]:"fire-analytics-compat",[jn]:"fire-app-check",[wn]:"fire-app-check-compat",[Sn]:"fire-auth",[Nn]:"fire-auth-compat",[En]:"fire-rtdb",[kn]:"fire-data-connect",[Tn]:"fire-rtdb-compat",[_n]:"fire-fn",[Cn]:"fire-fn-compat",[On]:"fire-iid",[An]:"fire-iid-compat",[Pn]:"fire-fcm",[In]:"fire-fcm-compat",[Dn]:"fire-perf",[Mn]:"fire-perf-compat",[Rn]:"fire-rc",[Ln]:"fire-rc-compat",[Fn]:"fire-gcs",[Un]:"fire-gcs-compat",[Bn]:"fire-fst",[zn]:"fire-fst-compat",[Vn]:"fire-vertex","fire-js":"fire-js",[qn]:"fire-js-all"},Kn=new Map,Gn=new Map,Yn=new Map;function Xn(e,t){try{e.container.addComponent(t)}catch(CG){yn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),CG)}}function Qn(e){const t=e.name;if(Yn.has(t))return yn.debug("There were multiple attempts to register component ".concat(t,".")),!1;Yn.set(t,e);for(const n of Kn.values())Xn(n,e);for(const n of Gn.values())Xn(n,e);return!0}function $n(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Jn(e){return null!==e&&void 0!==e&&void 0!==e.settings}const Zn=new Ot("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class er{constructor(e,t,n){this._isDeleted=!1,this._options=lt({},e),this._config=lt({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Bt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zn.create("app-deleted",{appName:this._name})}}const tr="12.3.0";function nr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=lt({name:Hn,automaticDataCollectionEnabled:!0},t),i=r.name;if("string"!==typeof i||!i)throw Zn.create("bad-app-name",{appName:String(i)});if(n||(n=yt()),!n)throw Zn.create("no-options");const o=Kn.get(i);if(o){if(Pt(n,o.options)&&Pt(r,o.config))return o;throw Zn.create("duplicate-app",{appName:i})}const a=new qt(i);for(const l of Yn.values())a.addComponent(l);const s=new er(n,r,a);return Kn.set(i,s),s}function rr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hn;const t=Kn.get(e);if(!t&&e===Hn&&yt())return nr();if(!t)throw Zn.create("no-app",{appName:e});return t}function ir(e,t,n){var r;let i=null!==(r=Wn[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void yn.warn(e.join(" "))}Qn(new Bt("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}const or="firebase-heartbeat-store";let ar=null;function sr(){return ar||(ar=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),s=ln(a);return r&&a.addEventListener("upgradeneeded",e=>{r(ln(a.result),e.oldVersion,e.newVersion,ln(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),s.then(e=>{o&&e.addEventListener("close",()=>o()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),s}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(or)}catch(CG){console.warn(CG)}}}).catch(e=>{throw Zn.create("idb-open",{originalErrorMessage:e.message})})),ar}async function lr(e,t){try{const n=(await sr()).transaction(or,"readwrite"),r=n.objectStore(or);await r.put(t,cr(e)),await n.done}catch(CG){if(CG instanceof Ct)yn.warn(CG.message);else{const t=Zn.create("idb-set",{originalErrorMessage:null===CG||void 0===CG?void 0:CG.message});yn.warn(t.message)}}}function cr(e){return"".concat(e.name,"!").concat(e.options.appId)}class ur{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new hr(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{var e;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=dr();var t;if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats))if(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(CG){yn.warn(CG)}}async getHeartbeatsHeader(){try{var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=dr(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),fr(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),fr(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=ht(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(CG){return yn.warn(CG),""}}}function dr(){return(new Date).toISOString().substring(0,10)}class hr{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!_t()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await sr()).transaction(or),n=await t.objectStore(or).get(cr(e));return await t.done,n}catch(CG){if(CG instanceof Ct)yn.warn(CG.message);else{const t=Zn.create("idb-get",{originalErrorMessage:null===CG||void 0===CG?void 0:CG.message});yn.warn(t.message)}}}(this.app);return null!==e&&void 0!==e&&e.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return lr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return lr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function fr(e){return ht(JSON.stringify({version:2,heartbeats:e})).length}var pr;pr="",Qn(new Bt("platform-logger",e=>new pn(e),"PRIVATE")),Qn(new Bt("heartbeat",e=>new ur(e),"PRIVATE")),ir(mn,gn,pr),ir(mn,gn,"esm2020"),ir("fire-js","");const mr=["providerId"],gr=["uid","auth","stsTokenManager"],yr=["providerId","signInMethod"];function vr(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const br=vr,xr=new Ot("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),wr=new Qt("@firebase/auth");function jr(e){if(wr.logLevel<=Wt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];wr.error("Auth (".concat(tr,"): ").concat(e),...n)}}function Sr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Tr(e,...n)}function Nr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Tr(e,...n)}function Er(e,t,n){const r=lt(lt({},br()),{},{[t]:n});return new Ot("auth","Firebase",r).create(t,{appName:e.name})}function kr(e){return Er(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Tr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return xr.create(e,...n)}function _r(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Tr(t,...r)}}function Cr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw jr(t),new Error(t)}function Or(e,t){e||Cr(t)}function Ar(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Pr(){return"http:"===Ir()||"https:"===Ir()}function Ir(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Dr(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Pr()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Mr{constructor(e,t){this.shortDelay=e,this.longDelay=t,Or(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Et())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return Dr()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Rr(e,t){Or(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Lr{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Cr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Cr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Cr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Fr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ur=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Br=new Mr(3e4,6e4);function Vr(e,t){return e.tenantId&&!t.tenantId?lt(lt({},t),{},{tenantId:e.tenantId}):t}async function zr(e,t,n,r){return qr(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const a=Dt(lt({key:e.config.apiKey},o)).slice(1),s=await e._getAdditionalHeaders();s["Content-Type"]="application/json",e.languageCode&&(s["X-Firebase-Locale"]=e.languageCode);const l=lt({method:t,headers:s},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&xt(e.emulatorConfig.host)&&(l.credentials="include"),Lr.fetch()(await Wr(e,e.config.apiHost,n,a),l)})}async function qr(e,t,n){e._canInitEmulator=!1;const r=lt(lt({},Fr),t);try{const t=new Gr(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Yr(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Yr(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw Yr(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw Yr(e,"user-disabled",o);const s=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw Er(e,s,a);Sr(e,s)}}catch(CG){if(CG instanceof Ct)throw CG;Sr(e,"network-request-failed",{message:String(CG)})}}async function Hr(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await zr(e,t,n,r,i);return"mfaPendingCredential"in o&&Sr(e,"multi-factor-auth-required",{_serverResponse:o}),o}async function Wr(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r),o=e,a=o.config.emulator?Rr(e.config,i):"".concat(e.config.apiScheme,"://").concat(i);if(Ur.includes(n)&&(await o._persistenceManagerAvailable,"COOKIE"===o._getPersistenceType())){return o._getPersistence()._getFinalTarget(a).toString()}return a}function Kr(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Gr{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(Nr(this.auth,"network-request-failed")),Br.get())})}}function Yr(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Nr(e,t,r);return i.customData._tokenResponse=n,i}function Xr(e){return void 0!==e&&void 0!==e.enterprise}class Qr{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Kr(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function $r(e,t){return zr(e,"GET","/v2/recaptchaConfig",Vr(e,t))}async function Jr(e,t){return zr(e,"POST","/v1/accounts:lookup",t)}function Zr(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(CG){}}function ei(e){return 1e3*Number(e)}function ti(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return jr("JWT malformed, contained fewer than 3 sections"),null;try{const e=ft(n);return e?JSON.parse(e):(jr("Failed to decode base64 JWT payload"),null)}catch(CG){return jr("Caught error parsing JWT payload as JSON",null===CG||void 0===CG?void 0:CG.toString()),null}}function ni(e){const t=ti(e);return _r(t,"internal-error"),_r("undefined"!==typeof t.exp,"internal-error"),_r("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function ri(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(CG){throw CG instanceof Ct&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(CG)&&e.auth.currentUser===e&&await e.auth.signOut(),CG}}class ii{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{var t;this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(CG){return void((null===CG||void 0===CG?void 0:CG.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class oi{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zr(this.lastLoginAt),this.creationTime=Zr(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ai(e){var t;const n=e.auth,r=await e.getIdToken(),i=await ri(e,Jr(n,{idToken:r}));_r(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const a=null!==(t=o.providerUserInfo)&&void 0!==t&&t.length?si(o.providerUserInfo):[],s=(l=e.providerData,c=a,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&o.passwordHash)&&!(null!==s&&void 0!==s&&s.length),h=!!u&&d,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new oi(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function si(e){return e.map(e=>{let{providerId:t}=e,n=rt(e,mr);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class li{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_r(e.idToken,"internal-error"),_r("undefined"!==typeof e.idToken,"internal-error"),_r("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):ni(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){_r(0!==e.length,"internal-error");const t=ni(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(_r(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await qr(e,{},async()=>{const n=Dt({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=await Wr(e,r,"/v1/token","key=".concat(i)),a=await e._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const s={method:"POST",headers:a,body:n};return e.emulatorConfig&&xt(e.emulatorConfig.host)&&(s.credentials="include"),Lr.fetch()(o,s)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new li;return n&&(_r("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(_r("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(_r("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new li,this.toJSON())}_performRefresh(){return Cr("not implemented")}}function ci(e,t){_r("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class ui{constructor(e){let{uid:t,auth:n,stsTokenManager:r}=e,i=rt(e,gr);this.providerId="firebase",this.proactiveRefresh=new ii(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new oi(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await ri(this,this.stsTokenManager.getToken(this.auth,e));return _r(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Ut(e),r=await n.getIdToken(t),i=ti(r);_r(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,a=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Zr(ei(i.auth_time)),issuedAtTime:Zr(ei(i.iat)),expirationTime:Zr(ei(i.exp)),signInProvider:a||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Ut(e);await ai(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(_r(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>lt({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ui(lt(lt({},this),{},{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){_r(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await ai(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jn(this.auth.app))return Promise.reject(kr(this.auth));const e=await this.getIdToken();return await ri(this,async function(e,t){return zr(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return lt(lt({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>lt({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{},{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,a,s,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(s=t._redirectEventId)&&void 0!==s?s:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:b,isAnonymous:x,providerData:w,stsTokenManager:j}=t;_r(v&&j,e,"internal-error");const S=li.fromJSON(this.name,j);_r("string"===typeof v,e,"internal-error"),ci(u,e.name),ci(d,e.name),_r("boolean"===typeof b,e,"internal-error"),_r("boolean"===typeof x,e,"internal-error"),ci(h,e.name),ci(f,e.name),ci(p,e.name),ci(m,e.name),ci(g,e.name),ci(y,e.name);const N=new ui({uid:v,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:x,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:S,createdAt:g,lastLoginAt:y});return w&&Array.isArray(w)&&(N.providerData=w.map(e=>lt({},e))),m&&(N._redirectEventId=m),N}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new li;r.updateFromServerResponse(t);const i=new ui({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await ai(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];_r(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?si(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length),a=new li;a.updateFromIdToken(n);const s=new ui({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new oi(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length)};return Object.assign(s,l),s}}const di=new Map;function hi(e){Or(e instanceof Function,"Expected a class definition");let t=di.get(e);return t?(Or(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,di.set(e,t),t)}class fi{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}fi.type="NONE";const pi=fi;function mi(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class gi{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=mi(this.userKey,r.apiKey,i),this.fullPersistenceKey=mi("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await Jr(this.auth,{idToken:e}).catch(()=>{});return t?ui._fromGetAccountInfoResponse(this.auth,t,e):null}return ui._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new gi(hi(pi),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||hi(pi);const o=mi(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(o);if(t){let n;if("string"===typeof t){const r=await Jr(e,{idToken:t}).catch(()=>{});if(!r)break;n=await ui._fromGetAccountInfoResponse(e,r,t)}else n=ui._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const s=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&s.length?(i=s[0],a&&await i._set(o,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(o)}catch(t){}})),new gi(i,e,n)):new gi(i,e,n)}}function yi(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(wi(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(vi(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Si(t))return"Blackberry";if(Ni(t))return"Webos";if(bi(t))return"Safari";if((t.includes("chrome/")||xi(t))&&!t.includes("edge/"))return"Chrome";if(ji(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function vi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et();return/firefox\//i.test(e)}function bi(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function xi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et();return/crios\//i.test(e)}function wi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et();return/iemobile/i.test(e)}function ji(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et();return/android/i.test(e)}function Si(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et();return/blackberry/i.test(e)}function Ni(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et();return/webos/i.test(e)}function Ei(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ki(){return function(){const e=Et();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Ti(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et();return Ei(e)||ji(e)||Ni(e)||Si(e)||/windows phone/i.test(e)||wi(e)}function _i(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=yi(Et());break;case"Worker":t="".concat(yi(Et()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(tr,"/").concat(r)}class Ci{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(CG){r(CG)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(CG){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===CG||void 0===CG?void 0:CG.message})}}}class Oi{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(n=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==n?n:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,a;const s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=null===(t=s.meetsMinPasswordLength)||void 0===t||t),s.isValid&&(s.isValid=null===(n=s.meetsMaxPasswordLength)||void 0===n||n),s.isValid&&(s.isValid=null===(r=s.containsLowercaseLetter)||void 0===r||r),s.isValid&&(s.isValid=null===(i=s.containsUppercaseLetter)||void 0===i||i),s.isValid&&(s.isValid=null===(o=s.containsNumericCharacter)||void 0===o||o),s.isValid&&(s.isValid=null===(a=s.containsNonAlphanumericCharacter)||void 0===a||a),s}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Ai{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ii(this),this.idTokenSubscription=new Ii(this),this.beforeStateQueue=new Ci(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xr,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=hi(t)),this._initializationPromise=this.queue(async()=>{var n,r,i;if(!this._deleted&&(this.persistenceManager=await gi.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null!==(r=this._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(CG){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Jr(this,{idToken:e}),n=await ui._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Jn(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,r=!1;if(e&&this.config.authDomain){var i,o;await this.getOrInitRedirectPersistenceManager();const t=null===(i=this.redirectUser)||void 0===i?void 0:i._redirectEventId,a=null===(o=n)||void 0===o?void 0:o._redirectEventId,s=await this.tryRedirectSignIn(e);t&&t!==a||null===s||void 0===s||!s.user||(n=s.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(CG){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(CG))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return _r(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(CG){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ai(e)}catch(CG){if((null===CG||void 0===CG?void 0:CG.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Jn(this.app))return Promise.reject(kr(this));const t=e?Ut(e):null;return t&&_r(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&_r(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Jn(this.app)?Promise.reject(kr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Jn(this.app)?Promise.reject(kr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hi(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return zr(e,"GET","/v2/passwordPolicy",Vr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Oi(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ot("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return zr(e,"POST","/v2/accounts:revokeToken",Vr(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&hi(e)||this._popupRedirectResolver;_r(t,this,"argument-error"),this.redirectPersistenceManager=await gi.create(this,[hi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(_r(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _r(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_i(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(Jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return null!==t&&void 0!==t&&t.error&&function(e){if(wr.logLevel<=Wt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];wr.warn("Auth (".concat(tr,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Pi(e){return Ut(e)}class Ii{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Lt(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return _r(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Di={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Mi(e){return Di.loadJS(e)}function Ri(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Li{constructor(){this.enterprise=new Fi}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Fi{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Ui="NO_RECAPTCHA";class Bi{constructor(e){this.type="recaptcha-enterprise",this.auth=Pi(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Xr(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(Ui)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Li).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{$r(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new Qr(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&Xr(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Di.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Mi(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function Vi(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o=new Bi(e);let a;if(i)a=Ui;else try{a=await o.verify(n)}catch(l){a=await o.verify(n,!0)}const s=lt({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in s){const e=s.phoneEnrollmentInfo.phoneNumber,t=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in s){const e=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return s}return r?Object.assign(s,{captchaResp:a}):Object.assign(s,{captchaResponse:a}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function zi(e,t,n,r,i){if("EMAIL_PASSWORD_PROVIDER"===i){var o;if(null!==(o=e._getRecaptchaConfig())&&void 0!==o&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Vi(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Vi(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}if("PHONE_PROVIDER"===i){var a;if(null!==(a=e._getRecaptchaConfig())&&void 0!==a&&a.isProviderEnabled("PHONE_PROVIDER")){const i=await Vi(e,t,n);return r(e,i).catch(async i=>{var o;if("AUDIT"===(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.getProviderEnforcementState("PHONE_PROVIDER"))&&(i.code==="auth/".concat("missing-recaptcha-token")||i.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const i=await Vi(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)})}{const i=await Vi(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function qi(e){const t=Pi(e),n=await $r(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Qr(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new Bi(t).verify()}}function Hi(e,t,n){const r=Pi(e);_r(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!(null===n||void 0===n||!n.disableWarnings),o=Wi(t),{host:a,port:s}=function(e){const t=Wi(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Ki(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Ki(t)}}}(t),l=null===s?"":":".concat(s),c={url:"".concat(o,"//").concat(a).concat(l,"/")},u=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return _r(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void _r(Pt(c,r.config.emulator)&&Pt(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,xt(a)?(wt("".concat(o,"//").concat(a).concat(l)),Nt("Auth",!0)):i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Wi(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ki(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Gi{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Cr("not implemented")}_getIdTokenResponse(e){return Cr("not implemented")}_linkToIdToken(e,t){return Cr("not implemented")}_getReauthenticationResolver(e){return Cr("not implemented")}}async function Yi(e,t){return zr(e,"POST","/v1/accounts:signUp",t)}async function Xi(e,t){return Hr(e,"POST","/v1/accounts:signInWithPassword",Vr(e,t))}async function Qi(e,t){return zr(e,"POST","/v1/accounts:sendOobCode",Vr(e,t))}async function $i(e,t){return Qi(e,t)}class Ji extends Gi{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Ji(e,t,"password")}static _fromEmailAndCode(e,t){return new Ji(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if(null!==t&&void 0!==t&&t.email&&null!==t&&void 0!==t&&t.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return zi(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Xi,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Hr(e,"POST","/v1/accounts:signInWithEmailLink",Vr(e,t))}(e,{email:this._email,oobCode:this._password});default:Sr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return zi(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Yi,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Hr(e,"POST","/v1/accounts:signInWithEmailLink",Vr(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Sr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Zi(e,t){return Hr(e,"POST","/v1/accounts:signInWithIdp",Vr(e,t))}class eo extends Gi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new eo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Sr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=rt(t,yr);if(!n||!r)return null;const o=new eo(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return Zi(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Zi(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Zi(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Dt(t)}return e}}async function to(e,t){return zr(e,"POST","/v1/accounts:sendVerificationCode",Vr(e,t))}const no={USER_NOT_FOUND:"user-not-found"};class ro extends Gi{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new ro({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new ro({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Hr(e,"POST","/v1/accounts:signInWithPhoneNumber",Vr(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Hr(e,"POST","/v1/accounts:signInWithPhoneNumber",Vr(e,t));if(n.temporaryProof)throw Yr(e,"account-exists-with-different-credential",n);return n}(e,lt({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Hr(e,"POST","/v1/accounts:signInWithPhoneNumber",Vr(e,lt(lt({},t),{},{operation:"REAUTH"})),no)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new ro({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class io{constructor(e){var t,n,r,i,o,a;const s=Mt(Rt(e)),l=null!==(t=s.apiKey)&&void 0!==t?t:null,c=null!==(n=s.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=s.mode)&&void 0!==r?r:null);_r(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=s.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=s.lang)&&void 0!==o?o:null,this.tenantId=null!==(a=s.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=Mt(Rt(e)).link,n=t?Mt(Rt(t)).deep_link_id:null,r=Mt(Rt(e)).deep_link_id;return(r?Mt(Rt(r)).link:null)||r||n||t||e}(e);try{return new io(t)}catch(n){return null}}}class oo{constructor(){this.providerId=oo.PROVIDER_ID}static credential(e,t){return Ji._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=io.parseLink(t);return _r(n,"argument-error"),Ji._fromEmailAndCode(e,n.code,n.tenantId)}}oo.PROVIDER_ID="password",oo.EMAIL_PASSWORD_SIGN_IN_METHOD="password",oo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ao{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class so extends ao{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class lo extends so{constructor(){super("facebook.com")}static credential(e){return eo._fromParams({providerId:lo.PROVIDER_ID,signInMethod:lo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lo.credentialFromTaggedObject(e)}static credentialFromError(e){return lo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return lo.credential(t.oauthAccessToken)}catch(n){return null}}}lo.FACEBOOK_SIGN_IN_METHOD="facebook.com",lo.PROVIDER_ID="facebook.com";class co extends so{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return eo._fromParams({providerId:co.PROVIDER_ID,signInMethod:co.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return co.credentialFromTaggedObject(e)}static credentialFromError(e){return co.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return co.credential(n,r)}catch(i){return null}}}co.GOOGLE_SIGN_IN_METHOD="google.com",co.PROVIDER_ID="google.com";class uo extends so{constructor(){super("github.com")}static credential(e){return eo._fromParams({providerId:uo.PROVIDER_ID,signInMethod:uo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return uo.credentialFromTaggedObject(e)}static credentialFromError(e){return uo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return uo.credential(t.oauthAccessToken)}catch(n){return null}}}uo.GITHUB_SIGN_IN_METHOD="github.com",uo.PROVIDER_ID="github.com";class ho extends so{constructor(){super("twitter.com")}static credential(e,t){return eo._fromParams({providerId:ho.PROVIDER_ID,signInMethod:ho.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ho.credentialFromTaggedObject(e)}static credentialFromError(e){return ho.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return ho.credential(n,r)}catch(i){return null}}}async function fo(e,t){return Hr(e,"POST","/v1/accounts:signUp",Vr(e,t))}ho.TWITTER_SIGN_IN_METHOD="twitter.com",ho.PROVIDER_ID="twitter.com";class po{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await ui._fromIdTokenResponse(e,n,r),o=mo(n);return new po({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=mo(n);return new po({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function mo(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class go extends Ct{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,go.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new go(e,t,n,r)}}function yo(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw go._fromErrorAndOperation(e,n,t,r);throw n})}async function vo(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await ri(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return po._forOperation(e,"link",r)}async function bo(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Jn(r.app))return Promise.reject(kr(r));const i="reauthenticate";try{const o=await ri(e,yo(r,i,t,e),n);_r(o.idToken,r,"internal-error");const a=ti(o.idToken);_r(a,r,"internal-error");const{sub:s}=a;return _r(e.uid===s,r,"user-mismatch"),po._forOperation(e,i,o)}catch(CG){throw(null===CG||void 0===CG?void 0:CG.code)==="auth/".concat("user-not-found")&&Sr(r,"user-mismatch"),CG}}async function xo(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Jn(e.app))return Promise.reject(kr(e));const r="signIn",i=await yo(e,r,t),o=await po._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function wo(e,t){return xo(Pi(e),t)}function jo(e,t,n){var r;_r((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),_r("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),_r("undefined"===typeof n.linkDomain||n.linkDomain.length>0,e,"invalid-hosting-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.linkDomain=n.linkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(_r(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(_r(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function So(e){const t=Pi(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function No(e,t,n){if(Jn(e.app))return Promise.reject(kr(e));const r=Pi(e),i=zi(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",fo,"EMAIL_PASSWORD_PROVIDER"),o=await i.catch(t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&So(e),t}),a=await po._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function Eo(e,t){return zr(e,"POST","/v2/accounts/mfaEnrollment:start",Vr(e,t))}new WeakMap;const ko="__sak";class To{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ko,"1"),this.storage.removeItem(ko),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class _o extends To{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ti(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);ki()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}_o.type="LOCAL";const Co=_o;function Oo(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),i=RegExp("".concat(r,"=([^;]+)"));return null!==(t=null===(n=document.cookie.match(i))||void 0===n?void 0:n[1])&&void 0!==t?t:null}function Ao(e){const t="http:"===window.location.protocol;return"".concat(t?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}class Po{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=Ao(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return Oo(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=Ao(e);document.cookie="".concat(t,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=Ao(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=Oo(n);const i=setInterval(()=>{const e=Oo(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(i))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}Po.type="COOKIE";class Io extends To{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Io.type="SESSION";const Do=Io;class Mo{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new Mo(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(null===o||void 0===o||!o.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(o).map(async e=>e(t.origin,i)),s=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Ro(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Mo.receivers=[];class Lo{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise((a,s)=>{const l=Ro("",20);r.port1.start();const c=setTimeout(()=>{s(new Error("unsupported_event"))},n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{s(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),s(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}function Fo(){return window}function Uo(){return"undefined"!==typeof Fo().WorkerGlobalScope&&"function"===typeof Fo().importScripts}const Bo="firebaseLocalStorageDb",Vo="firebaseLocalStorage",zo="fbase_key";class qo{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ho(e,t){return e.transaction([Vo],t?"readwrite":"readonly").objectStore(Vo)}function Wo(){const e=indexedDB.open(Bo,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Vo,{keyPath:zo})}catch(CG){n(CG)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(Vo)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Bo);return new qo(e).toPromise()}(),t(await Wo()))})})}async function Ko(e,t,n){const r=Ho(e,!0).put({[zo]:t,value:n});return new qo(r).toPromise()}function Go(e,t){const n=Ho(e,!0).delete(t);return new qo(n).toPromise()}class Yo{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Wo()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(CG){if(t++>3)throw CG;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Uo()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Mo._getInstance(Uo()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){var e;if(null===(e=navigator)||void 0===e||!e.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new Lo(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&null!==(e=n[0])&&void 0!==e&&e.fulfilled&&null!==(t=n[0])&&void 0!==t&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=navigator)||void 0===e||null===(e=e.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Wo();return await Ko(e,ko,"1"),await Go(e,ko),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Ko(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=Ho(e,!1).get(t),r=await new qo(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Go(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Ho(e,!1).getAll();return new qo(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Yo.type="LOCAL";const Xo=Yo;function Qo(e,t){return zr(e,"POST","/v2/accounts/mfaSignIn:start",Vr(e,t))}Ri("rcb"),new Mr(3e4,6e4);const $o="recaptcha";async function Jo(e,t,n){if(!e._getRecaptchaConfig())try{await qi(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){_r("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},o=zi(e,r,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===Ui){_r((null===n||void 0===n?void 0:n.type)===$o,e,"argument-error");return Eo(e,await Zo(e,t,n))}return Eo(e,t)},"PHONE_PROVIDER");return(await o.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{var r;_r("signin"===t.type,e,"internal-error");const o=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;_r(o,e,"missing-multi-factor-info");const a={mfaPendingCredential:t.credential,mfaEnrollmentId:o,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},s=zi(e,a,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===Ui){_r((null===n||void 0===n?void 0:n.type)===$o,e,"argument-error");return Qo(e,await Zo(e,t,n))}return Qo(e,t)},"PHONE_PROVIDER");return(await s.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=zi(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===Ui){_r((null===n||void 0===n?void 0:n.type)===$o,e,"argument-error");return to(e,await Zo(e,t,n))}return to(e,t)},"PHONE_PROVIDER");return(await r.catch(e=>Promise.reject(e))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function Zo(e,t,n){_r(n.type===$o,e,"argument-error");const r=await n.verify();_r("string"===typeof r,e,"argument-error");const i=lt({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,o=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:o}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class ea{constructor(e){this.providerId=ea.PROVIDER_ID,this.auth=Pi(e)}verifyPhoneNumber(e,t){return Jo(this.auth,e,Ut(t))}static credential(e,t){return ro._fromVerification(e,t)}static credentialFromResult(e){const t=e;return ea.credentialFromTaggedObject(t)}static credentialFromError(e){return ea.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?ro._fromTokenResponse(n,r):null}}function ta(e,t){return t?hi(t):(_r(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}ea.PROVIDER_ID="phone",ea.PHONE_SIGN_IN_METHOD="phone";class na extends Gi{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Zi(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Zi(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Zi(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ra(e){return xo(e.auth,new na(e),e.bypassAuthState)}function ia(e){const{auth:t,user:n}=e;return _r(n,t,"internal-error"),bo(n,new na(e),e.bypassAuthState)}async function oa(e){const{auth:t,user:n}=e;return _r(n,t,"internal-error"),vo(n,new na(e),e.bypassAuthState)}class aa{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(CG){this.reject(CG)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:a}=e;if(o)return void this.reject(o);const s={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(s))}catch(CG){this.reject(CG)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ra;case"linkViaPopup":case"linkViaRedirect":return oa;case"reauthViaPopup":case"reauthViaRedirect":return ia;default:Sr(this.auth,"internal-error")}}resolve(e){Or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const sa=new Mr(2e3,1e4);class la extends aa{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,la.currentPopupAction&&la.currentPopupAction.cancel(),la.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _r(e,this.auth,"internal-error"),e}async onExecution(){Or(1===this.filter.length,"Popup operations only handle one event");const e=Ro();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Nr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Nr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,la.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t;null!==(t=this.authWindow)&&void 0!==t&&null!==(t=t.window)&&void 0!==t&&t.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Nr(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,sa.get())};e()}}la.currentPopupAction=null;const ca=new Map;class ua extends aa{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=ca.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=fa(t),r=ha(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(CG){e=()=>Promise.reject(CG)}ca.set(this.auth._key(),e)}return this.bypassAuthState||ca.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function da(e,t){ca.set(e._key(),t)}function ha(e){return hi(e._redirectPersistence)}function fa(e){return mi("pendingRedirect",e.config.apiKey,e.name)}async function pa(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Jn(e.app))return Promise.reject(kr(e));const r=Pi(e),i=ta(r,t),o=new ua(r,i,n),a=await o.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class ma{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ya(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!ya(e)){var n;const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Nr(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ga(e))}saveEventToCache(e){this.cachedEventUids.add(ga(e)),this.lastProcessedEventTime=Date.now()}}function ga(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function ya(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const va=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ba=/^https?/;async function xa(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return zr(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(wa(r))return}catch(n){}Sr(e,"unauthorized-domain")}function wa(e){const t=Ar(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!ba.test(n))return!1;if(va.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const ja=new Mr(3e4,6e4);function Sa(){const e=Fo().___jsl;if(null!==e&&void 0!==e&&e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Na(e){return new Promise((t,n)=>{var r,i;function o(){Sa(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Sa(),n(Nr(e,"network-request-failed"))},timeout:ja.get()})}if(null!==(r=Fo().gapi)&&void 0!==r&&null!==(r=r.iframes)&&void 0!==r&&r.Iframe)t(gapi.iframes.getContext());else{if(null===(i=Fo().gapi)||void 0===i||!i.load){const t=Ri("iframefcb");return Fo()[t]=()=>{gapi.load?o():n(Nr(e,"network-request-failed"))},Mi("".concat(Di.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}o()}}).catch(e=>{throw Ea=null,e})}let Ea=null;const ka=new Mr(5e3,15e3),Ta={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_a=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ca(e){const t=e.config;_r(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Rr(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:tr},i=_a.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat(Dt(r).slice(1))}async function Oa(e){const t=await function(e){return Ea=Ea||Na(e),Ea}(e),n=Fo().gapi;return _r(n,e,"internal-error"),t.open({where:document.body,url:Ca(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ta,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Nr(e,"network-request-failed"),o=Fo().setTimeout(()=>{r(i)},ka.get());function a(){Fo().clearTimeout(o),n(t)}t.ping(a).then(a,()=>{r(i)})}))}const Aa={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Pa{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(CG){}}}function Ia(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=lt(lt({},Aa),{},{width:r.toString(),height:i.toString(),top:o,left:a}),c=Et().toLowerCase();n&&(s=xi(c)?"_blank":n),vi(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return Ei(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et())&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==s)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new Pa(null);const d=window.open(t||"",s,u);_r(d,e,"popup-blocked");try{d.focus()}catch(CG){}return new Pa(d)}const Da="__/auth/handler",Ma="emulator/auth/handler",Ra=encodeURIComponent("fac");async function La(e,t,n,r,i,o){_r(e.config.authDomain,e,"auth-domain-config-required"),_r(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:tr,eventId:i};if(t instanceof ao){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))a[e]=t}if(t instanceof so){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const s=a;for(const u of Object.keys(s))void 0===s[u]&&delete s[u];const l=await e._getAppCheckToken(),c=l?"#".concat(Ra,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Da);return Rr(t,Ma)}(e),"?").concat(Dt(s).slice(1)).concat(c)}const Fa="webStorageSupport";const Ua=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Do,this._completeRedirectFn=pa,this._overrideRedirectResult=da}async _openPopup(e,t,n,r){var i;Or(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Ia(e,await La(e,t,n,Ar(),r),Ro())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Fo().location.href=e}(await La(e,t,n,Ar(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Or(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await Oa(e),n=new ma(e);return t.register("authEvent",t=>{_r(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Fa,{type:Fa},n=>{var r;const i=null===n||void 0===n||null===(r=n[0])||void 0===r?void 0:r[Fa];void 0!==i&&t(!!i),Sr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=xa(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Ti()||bi()||Ei()}};var Ba="@firebase/auth",Va="1.11.0";class za{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){_r(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const qa=vt("authIdTokenMaxAge")||300;let Ha=null;var Wa,Ka;Wa={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Nr("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Di=Wa,Ka="Browser",Qn(new Bt("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;_r(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:s,clientPlatform:Ka,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_i(Ka)},c=new Ai(r,i,o,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(hi);null!==t&&void 0!==t&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Qn(new Bt("auth-internal",e=>(e=>new za(e))(Pi(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),ir(Ba,Va,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Ka)),ir(Ba,Va,"esm2020");var Ga,Ya,Xa="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Qa={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}function n(e,t,n){n||(n=0);const r=Array(16);if("string"===typeof t)for(var i=0;i<16;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;i<16;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];let o,a=e.g[3];o=t+(a^n&(i^a))+r[0]+3614090360&4294967295,o=a+(i^(t=n+(o<<7&4294967295|o>>>25))&(n^i))+r[1]+3905402710&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[2]+606105819&4294967295,o=n+(t^(i=a+(o<<17&4294967295|o>>>15))&(a^t))+r[3]+3250441966&4294967295,o=t+(a^(n=i+(o<<22&4294967295|o>>>10))&(i^a))+r[4]+4118548399&4294967295,o=a+(i^(t=n+(o<<7&4294967295|o>>>25))&(n^i))+r[5]+1200080426&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[6]+2821735955&4294967295,o=n+(t^(i=a+(o<<17&4294967295|o>>>15))&(a^t))+r[7]+4249261313&4294967295,o=t+(a^(n=i+(o<<22&4294967295|o>>>10))&(i^a))+r[8]+1770035416&4294967295,o=a+(i^(t=n+(o<<7&4294967295|o>>>25))&(n^i))+r[9]+2336552879&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[10]+4294925233&4294967295,o=n+(t^(i=a+(o<<17&4294967295|o>>>15))&(a^t))+r[11]+2304563134&4294967295,o=t+(a^(n=i+(o<<22&4294967295|o>>>10))&(i^a))+r[12]+1804603682&4294967295,o=a+(i^(t=n+(o<<7&4294967295|o>>>25))&(n^i))+r[13]+4254626195&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[14]+2792965006&4294967295,o=n+(t^(i=a+(o<<17&4294967295|o>>>15))&(a^t))+r[15]+1236535329&4294967295,o=t+(i^a&((n=i+(o<<22&4294967295|o>>>10))^i))+r[1]+4129170786&4294967295,o=a+(n^i&((t=n+(o<<5&4294967295|o>>>27))^n))+r[6]+3225465664&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[11]+643717713&4294967295,o=n+(a^t&((i=a+(o<<14&4294967295|o>>>18))^a))+r[0]+3921069994&4294967295,o=t+(i^a&((n=i+(o<<20&4294967295|o>>>12))^i))+r[5]+3593408605&4294967295,o=a+(n^i&((t=n+(o<<5&4294967295|o>>>27))^n))+r[10]+38016083&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[15]+3634488961&4294967295,o=n+(a^t&((i=a+(o<<14&4294967295|o>>>18))^a))+r[4]+3889429448&4294967295,o=t+(i^a&((n=i+(o<<20&4294967295|o>>>12))^i))+r[9]+568446438&4294967295,o=a+(n^i&((t=n+(o<<5&4294967295|o>>>27))^n))+r[14]+3275163606&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[3]+4107603335&4294967295,o=n+(a^t&((i=a+(o<<14&4294967295|o>>>18))^a))+r[8]+1163531501&4294967295,o=t+(i^a&((n=i+(o<<20&4294967295|o>>>12))^i))+r[13]+2850285829&4294967295,o=a+(n^i&((t=n+(o<<5&4294967295|o>>>27))^n))+r[2]+4243563512&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[7]+1735328473&4294967295,o=n+(a^t&((i=a+(o<<14&4294967295|o>>>18))^a))+r[12]+2368359562&4294967295,o=t+((n=i+(o<<20&4294967295|o>>>12))^i^a)+r[5]+4294588738&4294967295,o=a+((t=n+(o<<4&4294967295|o>>>28))^n^i)+r[8]+2272392833&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[11]+1839030562&4294967295,o=n+((i=a+(o<<16&4294967295|o>>>16))^a^t)+r[14]+4259657740&4294967295,o=t+((n=i+(o<<23&4294967295|o>>>9))^i^a)+r[1]+2763975236&4294967295,o=a+((t=n+(o<<4&4294967295|o>>>28))^n^i)+r[4]+1272893353&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[7]+4139469664&4294967295,o=n+((i=a+(o<<16&4294967295|o>>>16))^a^t)+r[10]+3200236656&4294967295,o=t+((n=i+(o<<23&4294967295|o>>>9))^i^a)+r[13]+681279174&4294967295,o=a+((t=n+(o<<4&4294967295|o>>>28))^n^i)+r[0]+3936430074&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[3]+3572445317&4294967295,o=n+((i=a+(o<<16&4294967295|o>>>16))^a^t)+r[6]+76029189&4294967295,o=t+((n=i+(o<<23&4294967295|o>>>9))^i^a)+r[9]+3654602809&4294967295,o=a+((t=n+(o<<4&4294967295|o>>>28))^n^i)+r[12]+3873151461&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[15]+530742520&4294967295,o=n+((i=a+(o<<16&4294967295|o>>>16))^a^t)+r[2]+3299628645&4294967295,o=t+(i^((n=i+(o<<23&4294967295|o>>>9))|~a))+r[0]+4096336452&4294967295,o=a+(n^((t=n+(o<<6&4294967295|o>>>26))|~i))+r[7]+1126891415&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[14]+2878612391&4294967295,o=n+(a^((i=a+(o<<15&4294967295|o>>>17))|~t))+r[5]+4237533241&4294967295,o=t+(i^((n=i+(o<<21&4294967295|o>>>11))|~a))+r[12]+1700485571&4294967295,o=a+(n^((t=n+(o<<6&4294967295|o>>>26))|~i))+r[3]+2399980690&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[10]+4293915773&4294967295,o=n+(a^((i=a+(o<<15&4294967295|o>>>17))|~t))+r[1]+2240044497&4294967295,o=t+(i^((n=i+(o<<21&4294967295|o>>>11))|~a))+r[8]+1873313359&4294967295,o=a+(n^((t=n+(o<<6&4294967295|o>>>26))|~i))+r[15]+4264355552&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[6]+2734768916&4294967295,o=n+(a^((i=a+(o<<15&4294967295|o>>>17))|~t))+r[13]+1309151649&4294967295,o=t+(i^((n=i+(o<<21&4294967295|o>>>11))|~a))+r[4]+4149444226&4294967295,o=a+(n^((t=n+(o<<6&4294967295|o>>>26))|~i))+r[11]+3174756917&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[2]+718787259&4294967295,o=n+(a^((i=a+(o<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function r(e,t){this.h=t;const n=[];let r=!0;for(let i=e.length-1;i>=0;i--){const o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.F=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.D=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.v=function(e,t){void 0===t&&(t=e.length);const r=t-this.blockSize,i=this.C;let o=this.h,a=0;for(;a<t;){if(0==o)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(i[o++]=e.charCodeAt(a++),o==this.blockSize){n(this,i),o=0;break}}else for(;a<t;)if(i[o++]=e[a++],o==this.blockSize){n(this,i),o=0;break}}this.h=o,this.o+=t},t.prototype.A=function(){var e=Array((this.h<56?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;t=8*this.o;for(var n=e.length-8;n<e.length;++n)e[n]=255&t,t/=256;for(this.v(e),e=Array(16),t=0,n=0;n<4;++n)for(let r=0;r<32;r+=8)e[t++]=this.g[n]>>>r&255;return e};var i={};function o(e){return-128<=e&&e<128?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],e<0?-1:0)}):new r([0|e],e<0?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return s;if(e<0)return h(a(-e));const t=[];let n=1;for(let r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new r(t,0)}var s=o(0),l=o(1),c=o(16777216);function u(e){if(0!=e.h)return!1;for(let t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){const t=e.g.length,n=[];for(let r=0;r<t;r++)n[r]=~e.g[r];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(s,s);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(e.g.length>30){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;r.l(e)<=0;)n=y(n),r=y(r);var i=v(n,1),o=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=o.add(r);c.l(e)<=0&&(i=i.add(n),o=c),r=v(r,1),n=v(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=s;e.l(t)>=0;){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=(r=Math.ceil(Math.log(n)/Math.LN2))<=48?1:Math.pow(2,r-48),c=(o=a(n)).j(t);d(c)||c.l(e)>0;)c=(o=a(n-=r)).j(t);u(o)&&(o=l),i=i.add(o),e=f(e,c)}return new m(i,e)}function y(e){const t=e.g.length+1,n=[];for(let r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new r(n,e.h)}function v(e,t){const n=t>>5;t%=32;const i=e.g.length-n,o=[];for(let r=0;r<i;r++)o[r]=t>0?e.i(r+n)>>>t|e.i(r+n+1)<<32-t:e.i(r+n);return new r(o,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();let e=0,t=1;for(let n=0;n<this.g.length;n++){const r=this.i(n);e+=(r>=0?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if((e=e||10)<2||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);const t=a(Math.pow(e,6));var n=this;let r="";for(;;){const i=g(n,t).g;let o=(((n=f(n,i.j(t))).g.length>0?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return o+r;for(;o.length<6;)o="0"+o;r=o+r}},e.i=function(e){return e<0?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){const t=Math.max(this.g.length,e.g.length),n=[];let i=0;for(let r=0;r<=t;r++){let t=i+(65535&this.i(r))+(65535&e.i(r)),o=(t>>>16)+(this.i(r)>>>16)+(e.i(r)>>>16);i=o>>>16,t&=65535,o&=65535,n[r]=o<<16|t}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return s;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(this.l(c)<0&&e.l(c)<0)return a(this.m()*e.m());const t=this.g.length+e.g.length,n=[];for(var i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(let t=0;t<e.g.length;t++){const r=this.i(i)>>>16,o=65535&this.i(i),a=e.i(t)>>>16,s=65535&e.i(t);n[2*i+2*t]+=o*s,p(n,2*i+2*t),n[2*i+2*t+1]+=r*s,p(n,2*i+2*t+1),n[2*i+2*t+1]+=o*a,p(n,2*i+2*t+1),n[2*i+2*t+2]+=r*a,p(n,2*i+2*t+2)}for(e=0;e<t;e++)n[e]=n[2*e+1]<<16|n[2*e];for(e=t;e<2*t;e++)n[e]=0;return new r(n,0)},e.B=function(e){return g(this,e).h},e.and=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new r(n,this.h&e.h)},e.or=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new r(n,this.h|e.h)},e.xor=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.A,t.prototype.reset=t.prototype.u,t.prototype.update=t.prototype.v,Ya=Qa.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.B,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if((n=n||10)<2||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(t.indexOf("-")>=0)throw Error('number format error: interior "-" character');const r=a(Math.pow(n,8));let i=s;for(let s=0;s<t.length;s+=8){var o=Math.min(8,t.length-s);const e=parseInt(t.substring(s,s+o),n);o<8?(o=a(Math.pow(n,o)),i=i.j(o).add(a(e))):(i=i.j(r),i=i.add(a(e)))}return i},Ga=Qa.Integer=r}).apply("undefined"!==typeof Xa?Xa:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var $a,Ja,Za,es,ts,ns,rs,is,os="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},as={};(function(){var e,t=Object.defineProperty;var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof os&&os];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function r(e,r){if(r)e:{var i=n;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];if(!(a in i))break e;i=i[a]}(r=r(o=i[e=e[e.length-1]]))!=o&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}r("Symbol.dispose",function(e){return e||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(e){return e||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(e){return e||function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push([t,e[t]]);return n}});var i=i||{},o=this||self;function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function s(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){return(l=s).apply(null,arguments)}function c(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function u(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Ob=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}var d="undefined"!==typeof AsyncContext&&"function"===typeof AsyncContext.Snapshot?e=>e&&AsyncContext.Snapshot.wrap(e):e=>e;function h(e){const t=e.length;if(t>0){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let r=1;r<arguments.length;r++){const t=arguments[r];var n=typeof t;if("array"==(n="object"!=n?n:t?Array.isArray(t)?"array":n:"null")||"object"==n&&"number"==typeof t.length){n=e.length||0;const r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){o.setTimeout(()=>{throw e},0)}function m(){var e=x;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var g=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return this.h>0?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new y,e=>e.reset());class y{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let v,b=!1,x=new class{constructor(){this.h=this.g=null}add(e,t){const n=g.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},w=()=>{const e=Promise.resolve(void 0);v=()=>{e.then(j)}};function j(){for(var e;e=m();){try{e.h.call(e.g)}catch(UC){p(UC)}var t=g;t.j(e),t.h<100&&(t.h++,e.next=t.g,t.g=e)}b=!1}function S(){this.u=this.u,this.C=this.C}function N(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}S.prototype.u=!1,S.prototype.dispose=function(){this.u||(this.u=!0,this.N())},S.prototype[Symbol.dispose]=function(){this.dispose()},S.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},N.prototype.h=function(){this.defaultPrevented=!0};var E=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};o.addEventListener("test",e,t),o.removeEventListener("test",e,t)}catch(UC){}return e}();function k(e){return/^[\s\xa0]*$/.test(e)}function T(e,t){N.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e&&this.init(e,t)}u(T,N),T.prototype.init=function(e,t){const n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.g=t,(t=e.relatedTarget)||("mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement)),this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=e.pointerType,this.state=e.state,this.i=e,e.defaultPrevented&&T.Z.h.call(this)},T.prototype.h=function(){T.Z.h.call(this);const e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var _="closure_listenable_"+(1e6*Math.random()|0),C=0;function O(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++C,this.da=this.fa=!1}function A(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function P(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function I(e){const t={};for(const n in e)t[n]=e[n];return t}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<D.length;t++)n=D[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function R(e){this.src=e,this.g={},this.h=0}function L(e,t){const n=t.type;if(n in e.g){var r,i=e.g[n],o=Array.prototype.indexOf.call(i,t,void 0);(r=o>=0)&&Array.prototype.splice.call(i,o,1),r&&(A(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function F(e,t,n,r){for(let i=0;i<e.length;++i){const o=e[i];if(!o.da&&o.listener==t&&o.capture==!!n&&o.ha==r)return i}return-1}R.prototype.add=function(e,t,n,r,i){const o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);const a=F(e,t,r,i);return a>-1?(t=e[a],n||(t.fa=!1)):((t=new O(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var U="closure_lm_"+(1e6*Math.random()|0),B={};function V(e,t,n,r,i){if(r&&r.once)return q(e,t,n,r,i);if(Array.isArray(t)){for(let o=0;o<t.length;o++)V(e,t[o],n,r,i);return null}return n=Q(n),e&&e[_]?e.J(t,n,a(r)?!!r.capture:!!r,i):z(e,t,n,!1,r,i)}function z(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");const s=a(i)?!!i.capture:!!i;let l=Y(e);if(l||(e[U]=l=new R(e)),(n=l.add(t,n,r,s,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=G;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)E||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(K(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function q(e,t,n,r,i){if(Array.isArray(t)){for(let o=0;o<t.length;o++)q(e,t[o],n,r,i);return null}return n=Q(n),e&&e[_]?e.K(t,n,a(r)?!!r.capture:!!r,i):z(e,t,n,!0,r,i)}function H(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)H(e,t[o],n,r,i);else r=a(r)?!!r.capture:!!r,n=Q(n),e&&e[_]?(e=e.i,(o=String(t).toString())in e.g&&((n=F(t=e.g[o],n,r,i))>-1&&(A(t[n]),Array.prototype.splice.call(t,n,1),0==t.length&&(delete e.g[o],e.h--)))):e&&(e=Y(e))&&(t=e.g[t.toString()],e=-1,t&&(e=F(t,n,r,i)),(n=e>-1?t[e]:null)&&W(n))}function W(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[_])L(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(K(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Y(t))?(L(n,e),0==n.h&&(n.src=null,t[U]=null)):A(e)}}}function K(e){return e in B?B[e]:B[e]="on"+e}function G(e,t){if(e.da)e=!0;else{t=new T(t,this);const n=e.listener,r=e.ha||e.src;e.fa&&W(e),e=n.call(r,t)}return e}function Y(e){return(e=e[U])instanceof R?e:null}var X="__closure_events_fn_"+(1e9*Math.random()>>>0);function Q(e){return"function"===typeof e?e:(e[X]||(e[X]=function(t){return e.handleEvent(t)}),e[X])}function $(){S.call(this),this.i=new R(this),this.M=this,this.G=null}function J(e,t){var n,r=e.G;if(r)for(n=[];r;r=r.G)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new N(t,e);else if(t instanceof N)t.target=t.target||e;else{var i=t;M(t=new N(r,e),i)}let o,a;if(i=!0,n)for(a=n.length-1;a>=0;a--)o=t.g=n[a],i=Z(o,r,!0,t)&&i;if(o=t.g=e,i=Z(o,r,!0,t)&&i,i=Z(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)o=t.g=n[a],i=Z(o,r,!1,t)&&i}function Z(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();let i=!0;for(let o=0;o<t.length;++o){const a=t[o];if(a&&!a.da&&a.capture==n){const t=a.listener,n=a.ha||a.src;a.fa&&L(e.i,a),i=!1!==t.call(n,r)&&i}}return i&&!r.defaultPrevented}function ee(e){e.g=function(e,t){if("function"!==typeof e){if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=l(e.handleEvent,e)}return Number(t)>2147483647?-1:o.setTimeout(e,t||0)}(()=>{e.g=null,e.i&&(e.i=!1,ee(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}u($,S),$.prototype[_]=!0,$.prototype.removeEventListener=function(e,t,n,r){H(this,e,t,n,r)},$.prototype.N=function(){if($.Z.N.call(this),this.i){var e=this.i;for(const t in e.g){const n=e.g[t];for(let e=0;e<n.length;e++)A(n[e]);delete e.g[t],e.h--}}this.G=null},$.prototype.J=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},$.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class te extends S{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ee(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ne(e){S.call(this),this.h=e,this.g={}}u(ne,S);var re=[];function ie(e){P(e.g,function(e,t){this.g.hasOwnProperty(t)&&W(e)},e),e.g={}}ne.prototype.N=function(){ne.Z.N.call(this),ie(this)},ne.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var oe=o.JSON.stringify,ae=o.JSON.parse,se=class{stringify(e){return o.JSON.stringify(e,void 0)}parse(e){return o.JSON.parse(e,void 0)}};function le(){}function ce(){}var ue={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function de(){N.call(this,"d")}function he(){N.call(this,"c")}u(de,N),u(he,N);var fe={},pe=null;function me(){return pe=pe||new $}function ge(e){N.call(this,fe.Ia,e)}function ye(e){const t=me();J(t,new ge(t))}function ve(e,t){N.call(this,fe.STAT_EVENT,e),this.stat=t}function be(e){const t=me();J(t,new ve(t,e))}function xe(e,t){N.call(this,fe.Ja,e),this.size=t}function we(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){e()},t)}function je(){this.g=!0}function Se(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{const o=JSON.parse(t);if(o)for(e=0;e<o.length;e++)if(Array.isArray(o[e])){var n=o[e];if(!(n.length<2)){var r=n[1];if(Array.isArray(r)&&!(r.length<1)){var i=r[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(let e=1;e<r.length;e++)r[e]=""}}}return oe(o)}catch(o){return t}}(e,n)+(r?" "+r:"")})}fe.Ia="serverreachability",u(ge,N),fe.STAT_EVENT="statevent",u(ve,N),fe.Ja="timingevent",u(xe,N),je.prototype.ua=function(){this.g=!1},je.prototype.info=function(){};var Ne,Ee={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ke={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"};function Te(){}function _e(e){return encodeURIComponent(String(e))}function Ce(e){var t=1;e=e.split(":");const n=[];for(;t>0&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Oe(e,t,n,r){this.j=e,this.i=t,this.l=n,this.S=r||1,this.V=new ne(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ae}function Ae(){this.i=null,this.g="",this.h=!1}u(Te,le),Te.prototype.g=function(){return new XMLHttpRequest},Ne=new Te;var Pe={},Ie={};function De(e,t,n){e.M=1,e.A=ot(et(t)),e.u=n,e.R=!0,Me(e,null)}function Me(e,t){e.F=Date.now(),Fe(e),e.B=et(e.A);var n=e.B,r=e.S;Array.isArray(r)||(r=[String(r)]),bt(n.i,"t",r),e.C=0,n=e.j.L,e.h=new Ae,e.g=an(e.j,n?t:null,!e.u),e.P>0&&(e.O=new te(l(e.Y,e,e.g),e.P)),t=e.V,n=e.g,r=e.ba;var i="readystatechange";Array.isArray(i)||(i&&(re[0]=i.toString()),i=re);for(let o=0;o<i.length;o++){const e=V(n,i[o],r||t.handleEvent,!1,t.h||t);if(!e)break;t.g[e.key]=e}t=e.J?I(e.J):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.B,e.v,e.u,t)):(e.v="GET",e.g.ea(e.B,e.v,null,t)),ye(),function(e,t,n,r,i,o){e.info(function(){if(e.g)if(o){var a="",s=o.split("&");for(let e=0;e<s.length;e++){var l=s[e].split("=");if(l.length>1){const e=l[0];l=l[1];const t=e.split("_");a=t.length>=2&&"type"==t[1]?a+(e+"=")+l+"&":a+(e+"=redacted&")}}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a})}(e.i,e.v,e.B,e.l,e.S,e.u)}function Re(e){return!!e.g&&("GET"==e.v&&2!=e.M&&e.j.Aa)}function Le(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ie:(n=Number(t.substring(n,r)),isNaN(n)?Pe:(r+=1)+n>t.length?Ie:(t=t.slice(r,r+n),e.C=r+n,t))}function Fe(e){e.T=Date.now()+e.H,Ue(e,e.H)}function Ue(e,t){if(null!=e.D)throw Error("WatchDog timer not null");e.D=we(l(e.aa,e),t)}function Be(e){e.D&&(o.clearTimeout(e.D),e.D=null)}function Ve(e){0==e.j.I||e.K||en(e.j,e)}function ze(e){Be(e);var t=e.O;t&&"function"==typeof t.dispose&&t.dispose(),e.O=null,ie(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.dispose())}function qe(e,t){try{var n=e.j;if(0!=n.I&&(n.g==e||Ye(n.h,e)))if(!e.L&&Ye(n.h,e)&&3==n.I){try{var r=n.Ba.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.v){if(n.g){if(!(n.g.F+3e3<e.F))break e;Zt(n),qt(n)}Qt(n),be(18)}}else n.xa=i[1],0<n.xa-n.K&&i[2]<37500&&n.F&&0==n.A&&!n.C&&(n.C=we(l(n.Va,n),6e3));Ge(n.h)<=1&&n.ta&&(n.ta=void 0)}else nn(n,11)}else if((e.L||n.g==e)&&Zt(n),!k(t))for(i=n.Ba.g.parse(t),t=0;t<i.length;t++){let l=i[t];const u=l[0];if(!(u<=n.K))if(n.K=u,l=l[1],2==n.I)if("c"==l[0]){n.M=l[1],n.ba=l[2];const t=l[3];null!=t&&(n.ka=t,n.j.info("VER="+n.ka));const i=l[4];null!=i&&(n.za=i,n.j.info("SVER="+n.za));const u=l[5];null!=u&&"number"===typeof u&&u>0&&(r=1.5*u,n.O=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.h;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(Xe(o,o.h),o.h=null))}if(r.G){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.wa=e,it(r.J,r.G,e))}}n.I=3,n.l&&n.l.ra(),n.aa&&(n.T=Date.now()-e.F,n.j.info("Handshake RTT: "+n.T+"ms"));var a=e;if((r=n).na=on(r,r.L?r.ba:null,r.W),a.L){Qe(r.h,a);var s=a,c=r.O;c&&(s.H=c),s.D&&(Be(s),Fe(s)),r.g=a}else Xt(r);n.i.length>0&&Wt(n)}else"stop"!=l[0]&&"close"!=l[0]||nn(n,7);else 3==n.I&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?nn(n,7):zt(n):"noop"!=l[0]&&n.l&&n.l.qa(l),n.A=0)}ye()}catch(u){}}Oe.prototype.ba=function(e){e=e.target;const t=this.O;t&&3==Ft(e)?t.j():this.Y(e)},Oe.prototype.Y=function(e){try{if(e==this.g)e:{const l=Ft(this.g),c=this.g.ya();this.g.ca();if(!(l<3)&&(3!=l||this.g&&(this.h.h||this.g.la()||Ut(this.g)))){this.K||4!=l||7==c||ye(),Be(this);var t=this.g.ca();this.X=t;var n=function(e){if(!Re(e))return e.g.la();const t=Ut(e.g);if(""===t)return"";let n="";const r=t.length,i=4==Ft(e.g);if(!e.h.i){if("undefined"===typeof TextDecoder)return ze(e),Ve(e),"";e.h.i=new o.TextDecoder}for(let o=0;o<r;o++)e.h.h=!0,n+=e.h.i.decode(t[o],{stream:!(i&&o==r-1)});return t.length=0,e.h.g+=n,e.C=0,e.h.g}(this);if(this.o=200==t,function(e,t,n,r,i,o,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a})}(this.i,this.v,this.B,this.l,this.S,l,t),this.o){if(this.U&&!this.L){t:{if(this.g){var r,i=this.g;if((r=i.g?i.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(r)){var a=r;break t}}a=null}if(!(e=a)){this.o=!1,this.m=3,be(12),ze(this),Ve(this);break e}Se(this.i,this.l,e,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,qe(this,e)}if(this.R){let t;for(e=!0;!this.K&&this.C<n.length;){if(t=Le(this,n),t==Ie){4==l&&(this.m=4,be(14),e=!1),Se(this.i,this.l,null,"[Incomplete Response]");break}if(t==Pe){this.m=4,be(15),Se(this.i,this.l,n,"[Invalid Chunk]"),e=!1;break}Se(this.i,this.l,t,null),qe(this,t)}if(Re(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=l||0!=n.length||this.h.h||(this.m=1,be(16),e=!1),this.o=this.o&&e,e){if(n.length>0&&!this.W){this.W=!0;var s=this.j;s.g==this&&s.aa&&!s.P&&(s.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),$t(s),s.P=!0,be(11))}}else Se(this.i,this.l,n,"[Invalid Chunked Response]"),ze(this),Ve(this)}else Se(this.i,this.l,n,null),qe(this,n);4==l&&ze(this),this.o&&!this.K&&(4==l?en(this.j,this):(this.o=!1,Fe(this)))}else(function(e){const t={};e=(e.g&&Ft(e)>=2&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(k(e[r]))continue;var n=Ce(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==t&&n.indexOf("Unknown SID")>0?(this.m=3,be(12)):(this.m=0,be(13)),ze(this),Ve(this)}}}catch(Bs){}},Oe.prototype.cancel=function(){this.K=!0,ze(this)},Oe.prototype.aa=function(){this.D=null;const e=Date.now();e-this.T>=0?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.B),2!=this.M&&(ye(),be(17)),ze(this),this.m=2,Ve(this)):Ue(this,this.T-e)};var He=class{constructor(e,t){this.g=e,this.map=t}};function We(e){this.l=e||10,o.PerformanceNavigationTiming?e=(e=o.performance.getEntriesByType("navigation")).length>0&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ke(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ge(e){return e.h?1:e.g?e.g.size:0}function Ye(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Xe(e,t){e.g?e.g.add(t):e.h=t}function Qe(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function $e(e){if(null!=e.h)return e.i.concat(e.h.G);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.G);return t}return h(e.i)}We.prototype.cancel=function(){if(this.i=$e(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Je=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ze(e){let t;this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1,e instanceof Ze?(this.l=e.l,tt(this,e.j),this.o=e.o,this.g=e.g,nt(this,e.u),this.h=e.h,rt(this,xt(e.i)),this.m=e.m):e&&(t=String(e).match(Je))?(this.l=!1,tt(this,t[1]||"",!0),this.o=at(t[2]||""),this.g=at(t[3]||"",!0),nt(this,t[4]),this.h=at(t[5]||"",!0),rt(this,t[6]||"",!0),this.m=at(t[7]||"")):(this.l=!1,this.i=new pt(null,this.l))}function et(e){return new Ze(e)}function tt(e,t,n){e.j=n?at(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function nt(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.u=t}else e.u=null}function rt(e,t,n){t instanceof pt?(e.i=t,function(e,t){t&&!e.j&&(mt(e),e.i=null,e.g.forEach(function(e,t){const n=t.toLowerCase();t!=n&&(gt(this,t),bt(this,n,e))},e)),e.j=t}(e.i,e.l)):(n||(t=st(t,ht)),e.i=new pt(t,e.l))}function it(e,t,n){e.i.set(t,n)}function ot(e){return it(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function at(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function st(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,lt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function lt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ze.prototype.toString=function(){const e=[];var t=this.j;t&&e.push(st(t,ct,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(st(t,ct,!0),"@"),e.push(_e(n).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.u)&&e.push(":",String(n))),(n=this.h)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(st(n,"/"==n.charAt(0)?dt:ut,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",st(n,ft)),e.join("")},Ze.prototype.resolve=function(e){const t=et(this);let n=!!e.j;n?tt(t,e.j):n=!!e.o,n?t.o=e.o:n=!!e.g,n?t.g=e.g:n=null!=e.u;var r=e.h;if(n)nt(t,e.u);else if(n=!!e.h){if("/"!=r.charAt(0))if(this.g&&!this.h)r="/"+r;else{var i=t.h.lastIndexOf("/");-1!=i&&(r=t.h.slice(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");const e=[];for(let t=0;t<i.length;){const n=i[t++];"."==n?r&&t==i.length&&e.push(""):".."==n?((e.length>1||1==e.length&&""!=e[0])&&e.pop(),r&&t==i.length&&e.push("")):(e.push(n),r=!0)}r=e.join("/")}else r=i}return n?t.h=r:n=""!==e.i.toString(),n?rt(t,xt(e.i)):n=!!e.m,n&&(t.m=e.m),t};var ct=/[#\/\?@]/g,ut=/[#\?:]/g,dt=/[#\?]/g,ht=/[#\?@]/g,ft=/#/g;function pt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function mt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(let n=0;n<e.length;n++){const r=e[n].indexOf("=");let i,o=null;r>=0?(i=e[n].substring(0,r),o=e[n].substring(r+1)):i=e[n],t(i,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function gt(e,t){mt(e),t=wt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function yt(e,t){return mt(e),t=wt(e,t),e.g.has(t)}function vt(e,t){mt(e);let n=[];if("string"===typeof t)yt(e,t)&&(n=n.concat(e.g.get(wt(e,t))));else for(e=Array.from(e.g.values()),t=0;t<e.length;t++)n=n.concat(e[t]);return n}function bt(e,t,n){gt(e,t),n.length>0&&(e.i=null,e.g.set(wt(e,t),h(n)),e.h+=n.length)}function xt(e){const t=new pt;return t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),t}function wt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function jt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(o){}}function St(){this.g=new se}function Nt(e){this.i=e.Sb||null,this.h=e.ab||!1}function Et(e,t){$.call(this),this.H=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}function kt(e){e.j.read().then(e.Ma.bind(e)).catch(e.ga.bind(e))}function Tt(e){e.readyState=4,e.l=null,e.j=null,e.B=null,_t(e)}function _t(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Ct(e){let t="";return P(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Ot(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ct(n),"string"===typeof e?null!=n&&_e(n):it(e,t,n))}function At(e){$.call(this),this.headers=new Map,this.L=e||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}(e=pt.prototype).add=function(e,t){mt(this),this.i=null,e=wt(this,e);let n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){mt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.set=function(e,t){return mt(this),this.i=null,yt(this,e=wt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&(e=vt(this,e)).length>0?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(let r=0;r<t.length;r++){var n=t[r];const i=_e(n);n=vt(this,n);for(let t=0;t<n.length;t++){let r=i;""!==n[t]&&(r+="="+_e(n[t])),e.push(r)}}return this.i=e.join("&")},u(Nt,le),Nt.prototype.g=function(){return new Et(this.i,this.h)},u(Et,$),(e=Et.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.F=e,this.D=t,this.readyState=1,_t(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const t={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};e&&(t.body=e),(this.H||o).fetch(new Request(this.D,t)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&4!=this.readyState&&(this.g=!1,Tt(this)),this.readyState=0},e.Pa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,_t(this)),this.g&&(this.readyState=3,_t(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if("undefined"!==typeof o.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;kt(this)}else e.text().then(this.Oa.bind(this),this.ga.bind(this))},e.Ma=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.B.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Tt(this):_t(this),3==this.readyState&&kt(this)}},e.Oa=function(e){this.g&&(this.response=this.responseText=e,Tt(this))},e.Na=function(e){this.g&&(this.response=e,Tt(this))},e.ga=function(){this.g&&Tt(this)},e.setRequestHeader=function(e,t){this.A.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Et.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),u(At,$);var Pt=/^https?$/i,It=["POST","PUT"];function Dt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.o=5,Mt(e),Lt(e)}function Mt(e){e.A||(e.A=!0,J(e,"complete"),J(e,"error"))}function Rt(e){if(e.h&&"undefined"!=typeof i)if(e.v&&4==Ft(e))setTimeout(e.Ca.bind(e),0);else if(J(e,"readystatechange"),4==Ft(e)){e.h=!1;try{const i=e.ca();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===i){let t=String(e.D).match(Je)[1]||null;!t&&o.self&&o.self.location&&(t=o.self.location.protocol.slice(0,-1)),r=!Pt.test(t?t.toLowerCase():"")}n=r}if(n)J(e,"complete"),J(e,"success");else{e.o=6;try{var a=Ft(e)>2?e.g.statusText:""}catch(s){a=""}e.l=a+" ["+e.ca()+"]",Mt(e)}}finally{Lt(e)}}}function Lt(e,t){if(e.g){e.m&&(clearTimeout(e.m),e.m=null);const r=e.g;e.g=null,t||J(e,"ready");try{r.onreadystatechange=null}catch(n){}}}function Ft(e){return e.g?e.g.readyState:0}function Ut(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.F){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Bt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Vt(e){this.za=0,this.i=[],this.j=new je,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Bt("failFast",!1,e),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Bt("baseRetryDelayMs",5e3,e),this.Za=Bt("retryDelaySeedMs",1e4,e),this.Ta=Bt("forwardChannelMaxRetries",2,e),this.va=Bt("forwardChannelRequestTimeoutMs",2e4,e),this.ma=e&&e.xmlHttpFactory||void 0,this.Ua=e&&e.Rb||void 0,this.Aa=e&&e.useFetchStreams||!1,this.O=void 0,this.L=e&&e.supportsCrossDomainXhr||!1,this.M="",this.h=new We(e&&e.concurrentRequestLimit),this.Ba=new St,this.S=e&&e.fastHandshake||!1,this.R=e&&e.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=e&&e.Pb||!1,e&&e.ua&&this.j.ua(),e&&e.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&e&&e.detectBufferingProxy||!1,this.ia=void 0,e&&e.longPollingTimeout&&e.longPollingTimeout>0&&(this.ia=e.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}function zt(e){if(Ht(e),3==e.I){var t=e.V++,n=et(e.J);if(it(n,"SID",e.M),it(n,"RID",t),it(n,"TYPE","terminate"),Gt(e,n),(t=new Oe(e,e.j,t)).M=2,t.A=ot(et(n)),n=!1,o.navigator&&o.navigator.sendBeacon)try{n=o.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&o.Image&&((new Image).src=t.A,n=!0),n||(t.g=an(t.j,null),t.g.ea(t.A)),t.F=Date.now(),Fe(t)}rn(e)}function qt(e){e.g&&($t(e),e.g.cancel(),e.g=null)}function Ht(e){qt(e),e.v&&(o.clearTimeout(e.v),e.v=null),Zt(e),e.h.cancel(),e.m&&("number"===typeof e.m&&o.clearTimeout(e.m),e.m=null)}function Wt(e){if(!Ke(e.h)&&!e.m){e.m=!0;var t=e.Ea;v||w(),b||(v(),b=!0),x.add(t,e),e.D=0}}function Kt(e,t){var n;n=t?t.l:e.V++;const r=et(e.J);it(r,"SID",e.M),it(r,"RID",n),it(r,"AID",e.K),Gt(e,r),e.u&&e.o&&Ot(r,e.u,e.o),n=new Oe(e,e.j,n,e.D+1),null===e.u&&(n.J=e.o),t&&(e.i=t.G.concat(e.i)),t=Yt(e,n,1e3),n.H=Math.round(.5*e.va)+Math.round(.5*e.va*Math.random()),Xe(e.h,n),De(n,r,t)}function Gt(e,t){e.H&&P(e.H,function(e,n){it(t,n,e)}),e.l&&P({},function(e,n){it(t,n,e)})}function Yt(e,t,n){n=Math.min(e.i.length,n);const r=e.l?l(e.l.Ka,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?n>0?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let l=!0;for(let c=0;c<n;c++){var o=i[c].g;const n=i[c].map;if((o-=t)<0)t=Math.max(0,i[c].g-100),l=!1;else try{o="req"+o+"_"||0;try{var s=n instanceof Map?n:Object.entries(n);for(const[t,n]of s){let r=n;a(n)&&(r=oe(n)),e.push(o+t+"="+encodeURIComponent(r))}}catch(ls){throw e.push(o+"type="+encodeURIComponent("_badmap")),ls}}catch(ls){r&&r(n)}}if(l){s=e.join("&");break e}}s=void 0}return e=e.i.splice(0,n),t.G=e,s}function Xt(e){if(!e.g&&!e.v){e.Y=1;var t=e.Da;v||w(),b||(v(),b=!0),x.add(t,e),e.A=0}}function Qt(e){return!(e.g||e.v||e.A>=3)&&(e.Y++,e.v=we(l(e.Da,e),tn(e,e.A)),e.A++,!0)}function $t(e){null!=e.B&&(o.clearTimeout(e.B),e.B=null)}function Jt(e){e.g=new Oe(e,e.j,"rpc",e.Y),null===e.u&&(e.g.J=e.o),e.g.P=0;var t=et(e.na);it(t,"RID","rpc"),it(t,"SID",e.M),it(t,"AID",e.K),it(t,"CI",e.F?"0":"1"),!e.F&&e.ia&&it(t,"TO",e.ia),it(t,"TYPE","xmlhttp"),Gt(e,t),e.u&&e.o&&Ot(t,e.u,e.o),e.O&&(e.g.H=e.O);var n=e.g;e=e.ba,n.M=1,n.A=ot(et(t)),n.u=null,n.R=!0,Me(n,e)}function Zt(e){null!=e.C&&(o.clearTimeout(e.C),e.C=null)}function en(e,t){var n=null;if(e.g==t){Zt(e),$t(e),e.g=null;var r=2}else{if(!Ye(e.h,t))return;n=t.G,Qe(e.h,t),r=1}if(0!=e.I)if(t.o)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.F;var i=e.D;J(r=me(),new xe(r,n)),Wt(e)}else Xt(e);else if(3==(i=t.m)||0==i&&t.X>0||!(1==r&&function(e,t){return!(Ge(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.G.concat(e.i),!0):!(1==e.I||2==e.I||e.D>=(e.Sa?0:e.Ta))&&(e.m=we(l(e.Ea,e,t),tn(e,e.D)),e.D++,!0))}(e,t)||2==r&&Qt(e)))switch(n&&n.length>0&&(t=e.h,t.i=t.i.concat(n)),i){case 1:nn(e,5);break;case 4:nn(e,10);break;case 3:nn(e,6);break;default:nn(e,2)}}function tn(e,t){let n=e.Qa+Math.floor(Math.random()*e.Za);return e.isActive()||(n*=2),n*t}function nn(e,t){if(e.j.info("Error code "+t),2==t){var n=l(e.bb,e),r=e.Ua;const t=!r;r=new Ze(r||"//www.google.com/images/cleardot.gif"),o.location&&"http"==o.location.protocol||tt(r,"https"),ot(r),t?function(e,t){const n=new je;if(o.Image){const r=new Image;r.onload=c(jt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=c(jt,n,"TestLoadImage: error",!1,t,r),r.onabort=c(jt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=c(jt,n,"TestLoadImage: timeout",!1,t,r),o.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new je;const n=new AbortController,r=setTimeout(()=>{n.abort(),jt(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?jt(0,0,!0,t):jt(0,0,!1,t)}).catch(()=>{clearTimeout(r),jt(0,0,!1,t)})}(r.toString(),n)}else be(2);e.I=0,e.l&&e.l.pa(t),rn(e),Ht(e)}function rn(e){if(e.I=0,e.ja=[],e.l){const t=$e(e.h);0==t.length&&0==e.i.length||(f(e.ja,t),f(e.ja,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.oa()}}function on(e,t,n){var r=n instanceof Ze?et(n):new Ze(n);if(""!=r.g)t&&(r.g=t+"."+r.g),nt(r,r.u);else{var i=o.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;const e=new Ze(null);r&&tt(e,r),t&&(e.g=t),i&&nt(e,i),n&&(e.h=n),r=e}return n=e.G,t=e.wa,n&&t&&it(r,n,t),it(r,"VER",e.ka),Gt(e,r),r}function an(e,t,n){if(t&&!e.L)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Aa&&!e.ma?new At(new Nt({ab:n})):new At(e.ma)).Fa(e.L),t}function sn(){}function ln(){}function cn(e,t){$.call(this),this.g=new Vt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.sa&&(e?e["X-WebChannel-Client-Profile"]=t.sa:e={"X-WebChannel-Client-Profile":t.sa}),this.g.U=e,(e=t&&t.Qb)&&!k(e)&&(this.g.u=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!k(t)&&(this.g.G=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new hn(this)}function un(e){de.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function dn(){he.call(this),this.status=1}function hn(e){this.g=e}(e=At.prototype).Fa=function(e){this.H=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ne.g(),this.g.onreadystatechange=d(l(this.Ca,this));try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void Dt(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=o.FormData&&e instanceof o.FormData,!(Array.prototype.indexOf.call(It,t,void 0)>=0)||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(e),this.v=!1}catch(a){Dt(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=e||7,J(this,"complete"),J(this,"abort"),Lt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Lt(this,!0)),At.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Rt(this):this.Xa())},e.Xa=function(){Rt(this)},e.isActive=function(){return!!this.g},e.ca=function(){try{return Ft(this)>2?this.g.status:-1}catch(zC){return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch(zC){return""}},e.La=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ae(t)}},e.ya=function(){return this.o},e.Ha=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Vt.prototype).ka=8,e.I=1,e.connect=function(e,t,n,r){be(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.J=on(this,null,this.W),Wt(this)},e.Ea=function(e){if(this.m)if(this.m=null,1==this.I){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const i=new Oe(this,this.j,e);let o=this.o;if(this.U&&(o?(o=I(o),M(o,this.U)):o=this.U),null!==this.u||this.R||(i.J=o,o=null),this.S)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if((t+=r)>4096){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Yt(this,i,t),it(n=et(this.J),"RID",e),it(n,"CVER",22),this.G&&it(n,"X-HTTP-Session-Id",this.G),Gt(this,n),o&&(this.R?t="headers="+_e(Ct(o))+"&"+t:this.u&&Ot(n,this.u,o)),Xe(this.h,i),this.Ra&&it(n,"TYPE","init"),this.S?(it(n,"$req",t),it(n,"SID","null"),i.U=!0,De(i,n,null)):De(i,n,t),this.I=2}}else 3==this.I&&(e?Kt(this,e):0==this.i.length||Ke(this.h)||Kt(this))},e.Da=function(){if(this.v=null,Jt(this),this.aa&&!(this.P||null==this.g||this.T<=0)){var e=4*this.T;this.j.info("BP detection timer enabled: "+e),this.B=we(l(this.Wa,this),e)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,be(10),qt(this),Jt(this))},e.Va=function(){null!=this.C&&(this.C=null,qt(this),Qt(this),be(19))},e.bb=function(e){e?(this.j.info("Successfully pinged google.com"),be(2)):(this.j.info("Failed to ping google.com"),be(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=sn.prototype).ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){},ln.prototype.g=function(e,t){return new cn(e,t)},u(cn,$),cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){zt(this.g)},cn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=oe(e),e=n);t.i.push(new He(t.Ya++,e)),3==t.I&&Wt(t)},cn.prototype.N=function(){this.g.l=null,delete this.j,zt(this.g),delete this.g,cn.Z.N.call(this)},u(un,de),u(dn,he),u(hn,sn),hn.prototype.ra=function(){J(this.g,"a")},hn.prototype.qa=function(e){J(this.g,new un(e))},hn.prototype.pa=function(e){J(this.g,new dn)},hn.prototype.oa=function(){J(this.g,"b")},ln.prototype.createWebChannel=ln.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,is=as.createWebChannelTransport=function(){return new ln},rs=as.getStatEventTarget=function(){return me()},ns=as.Event=fe,ts=as.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ee.NO_ERROR=0,Ee.TIMEOUT=8,Ee.HTTP_ERROR=6,es=as.ErrorCode=Ee,ke.COMPLETE="complete",Za=as.EventType=ke,ce.EventType=ue,ue.OPEN="a",ue.CLOSE="b",ue.ERROR="c",ue.MESSAGE="d",$.prototype.listen=$.prototype.J,Ja=as.WebChannel=ce,as.FetchXmlHttpFactory=Nt,At.prototype.listenOnce=At.prototype.K,At.prototype.getLastError=At.prototype.Ha,At.prototype.getLastErrorCode=At.prototype.ya,At.prototype.getStatus=At.prototype.ca,At.prototype.getResponseJson=At.prototype.La,At.prototype.getResponseText=At.prototype.la,At.prototype.send=At.prototype.ea,At.prototype.setWithCredentials=At.prototype.Fa,$a=as.XhrIo=At}).apply("undefined"!==typeof os?os:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const ss="@firebase/firestore",ls="4.9.2";class cs{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cs.UNAUTHENTICATED=new cs(null),cs.GOOGLE_CREDENTIALS=new cs("google-credentials-uid"),cs.FIRST_PARTY=new cs("first-party-uid"),cs.MOCK_USER=new cs("mock-user");let us="12.3.0";const ds=new Qt("@firebase/firestore");function hs(){return ds.logLevel}function fs(e){if(ds.logLevel<=Wt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(gs);ds.debug("Firestore (".concat(us,"): ").concat(e),...i)}}function ps(e){if(ds.logLevel<=Wt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(gs);ds.error("Firestore (".concat(us,"): ").concat(e),...i)}}function ms(e){if(ds.logLevel<=Wt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(gs);ds.warn("Firestore (".concat(us,"): ").concat(e),...i)}}function gs(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function ys(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,vs(e,r,n)}function vs(e,t,n){let r="FIRESTORE (".concat(us,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw ps(r),new Error(r)}function bs(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||vs(t,i,r)}function xs(e,t){return e}const ws={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class js extends Ct{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Ss{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Ns{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Es{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(cs.UNAUTHENTICATED))}shutdown(){}}class ks{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Ts{constructor(e){this.t=e,this.currentUser=cs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){bs(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Ss;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ss,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},a=e=>{fs("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(fs("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ss)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(fs("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(bs("string"==typeof t.accessToken,31837,{l:t}),new Ns(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return bs(null===e||"string"==typeof e,2055,{h:e}),new cs(e)}}class _s{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=cs.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Cs{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new _s(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(cs.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Os{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class As{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Jn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){bs(void 0===this.o,3512);const n=e=>{null!=e.error&&fs("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,fs("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{fs("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):fs("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Os(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(bs("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new Os(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Ps(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Is{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=Ps(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function Ds(e,t){return e<t?-1:e>t?1:0}function Ms(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.charAt(r),i=t.charAt(r);if(n!==i)return Fs(n)===Fs(i)?Ds(n,i):Fs(n)?1:-1}return Ds(e.length,t.length)}const Rs=55296,Ls=57343;function Fs(e){const t=e.charCodeAt(0);return t>=Rs&&t<=Ls}function Us(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const Bs="__name__";class Vs{constructor(e,t,n){void 0===t?t=0:t>e.length&&ys(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&ys(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Vs.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Vs?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=Vs.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return Ds(e.length,t.length)}static compareSegments(e,t){const n=Vs.isNumericId(e),r=Vs.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?Vs.extractNumericId(e).compare(Vs.extractNumericId(t)):Ms(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ga.fromString(e.substring(4,e.length-2))}}class zs extends Vs{construct(e,t,n){return new zs(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new js(ws.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new zs(e)}static emptyPath(){return new zs([])}}const qs=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Hs extends Vs{construct(e,t,n){return new Hs(e,t,n)}static isValidIdentifier(e){return qs.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Hs.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Bs}static keyField(){return new Hs([Bs])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new js(ws.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new js(ws.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new js(ws.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new js(ws.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Hs(t)}static emptyPath(){return new Hs([])}}class Ws{constructor(e){this.path=e}static fromPath(e){return new Ws(zs.fromString(e))}static fromName(e){return new Ws(zs.fromString(e).popFirst(5))}static empty(){return new Ws(zs.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===zs.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return zs.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ws(new zs(e.slice()))}}function Ks(e,t,n){if(!n)throw new js(ws.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Gs(e){if(!Ws.isDocumentKey(e))throw new js(ws.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Ys(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function Xs(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":ys(12329,{type:typeof e})}function Qs(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new js(ws.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xs(e);throw new js(ws.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function $s(e,t){const n={typeString:e};return t&&(n.value=t),n}function Js(e,t){if(!Ys(e))throw new js(ws.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,o="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n="JSON missing required field: '".concat(r,"'");break}const a=e[r];if(i&&typeof a!==i){n="JSON field '".concat(r,"' must be a ").concat(i,".");break}if(void 0!==o&&a!==o.value){n="Expected '".concat(r,"' field to equal '").concat(o.value,"'");break}}if(n)throw new js(ws.INVALID_ARGUMENT,n);return!0}const Zs=-62135596800,el=1e6;class tl{static now(){return tl.fromMillis(Date.now())}static fromDate(e){return tl.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*el);return new tl(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new js(ws.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new js(ws.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Zs)throw new js(ws.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new js(ws.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/el}_compareTo(e){return this.seconds===e.seconds?Ds(this.nanoseconds,e.nanoseconds):Ds(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:tl._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Js(e,tl._jsonSchema))return new tl(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Zs;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}tl._jsonSchemaVersion="firestore/timestamp/1.0",tl._jsonSchema={type:$s("string",tl._jsonSchemaVersion),seconds:$s("number"),nanoseconds:$s("number")};class nl{static fromTimestamp(e){return new nl(e)}static min(){return new nl(new tl(0,0))}static max(){return new nl(new tl(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const rl=-1;class il{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}il.UNKNOWN_ID=-1;function ol(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=nl.fromTimestamp(1e9===r?new tl(n+1,0):new tl(n,r));return new sl(i,Ws.empty(),t)}function al(e){return new sl(e.readTime,e.key,rl)}class sl{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new sl(nl.min(),Ws.empty(),rl)}static max(){return new sl(nl.max(),Ws.empty(),rl)}}function ll(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Ws.comparator(e.documentKey,t.documentKey),0!==n?n:Ds(e.largestBatchId,t.largestBatchId))}const cl="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ul{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function dl(e){if(e.code!==ws.FAILED_PRECONDITION||e.message!==cl)throw e;fs("LocalStore","Unexpectedly lost primary lease")}class hl{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ys(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new hl((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof hl?t:hl.resolve(t)}catch(e){return hl.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):hl.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):hl.reject(t)}static resolve(e){return new hl((t,n)=>{t(e)})}static reject(e){return new hl((t,n)=>{n(e)})}static waitFor(e){return new hl((t,n)=>{let r=0,i=0,o=!1;e.forEach(e=>{++r,e.next(()=>{++i,o&&i===r&&t()},e=>n(e))}),o=!0,i===r&&t()})}static or(e){let t=hl.resolve(!1);for(const n of e)t=t.next(e=>e?hl.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new hl((n,r)=>{const i=e.length,o=new Array(i);let a=0;for(let s=0;s<i;s++){const l=s;t(e[l]).next(e=>{o[l]=e,++a,a===i&&n(o)},e=>r(e))}})}static doWhile(e,t){return new hl((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function fl(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function pl(e){return"IndexedDbTransactionError"===e.name}class ml{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ml.ce=-1;const gl=-1;function yl(e){return null==e}function vl(e){return 0===e&&1/e==-1/0}function bl(e){return"number"==typeof e&&Number.isInteger(e)&&!vl(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const xl="\x01";function wl(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Sl(t)),t=jl(e.get(n),t);return Sl(t)}function jl(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case xl:n+="\x01\x11";break;default:n+=t}}return n}function Sl(e){return e+xl+"\x01"}const Nl="remoteDocuments",El="owner",kl="mutationQueues",Tl="mutations";const _l="documentMutations",Cl="remoteDocumentsV14",Ol="remoteDocumentGlobal",Al="targets",Pl="targetDocuments",Il="targetGlobal",Dl="collectionParents",Ml="clientMetadata",Rl="bundles",Ll="namedQueries",Fl="indexConfiguration",Ul="indexState",Bl="indexEntries",Vl="documentOverlays",zl="globals",ql=[kl,Tl,_l,Nl,Al,El,Il,Pl,Ml,Ol,Dl,Rl,Ll],Hl=[kl,Tl,_l,Cl,Al,El,Il,Pl,Ml,Ol,Dl,Rl,Ll,Vl],Wl=Hl,Kl=[...Wl,Fl,Ul,Bl];function Gl(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Yl(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Xl(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Ql{constructor(e,t){this.comparator=e,this.root=t||Jl.EMPTY}insert(e,t){return new Ql(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Jl.BLACK,null,null))}remove(e){return new Ql(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jl.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $l(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $l(this.root,e,this.comparator,!1)}getReverseIterator(){return new $l(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $l(this.root,e,this.comparator,!0)}}class $l{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jl{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Jl.RED,this.left=null!=r?r:Jl.EMPTY,this.right=null!=i?i:Jl.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Jl(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Jl.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Jl.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jl.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jl.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ys(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ys(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ys(27949);return e+(this.isRed()?0:1)}}Jl.EMPTY=null,Jl.RED=!0,Jl.BLACK=!1,Jl.EMPTY=new class{constructor(){this.size=0}get key(){throw ys(57766)}get value(){throw ys(16141)}get color(){throw ys(16727)}get left(){throw ys(29726)}get right(){throw ys(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new Jl(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Zl{constructor(e){this.comparator=e,this.data=new Ql(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ec(this.data.getIterator())}getIteratorFrom(e){return new ec(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Zl))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Zl(this.comparator);return t.data=e,t}}class ec{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class tc{constructor(e){this.fields=e,e.sort(Hs.comparator)}static empty(){return new tc([])}unionWith(e){let t=new Zl(Hs.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new tc(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Us(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class nc extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class rc{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new nc("Invalid base64 string: "+e):e}}(e);return new rc(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new rc(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ds(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rc.EMPTY_BYTE_STRING=new rc("");const ic=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oc(e){if(bs(!!e,39018),"string"==typeof e){let t=0;const n=ic.exec(e);if(bs(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ac(e.seconds),nanos:ac(e.nanos)}}function ac(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function sc(e){return"string"==typeof e?rc.fromBase64String(e):rc.fromUint8Array(e)}const lc="server_timestamp",cc="__type__",uc="__previous_value__",dc="__local_write_time__";function hc(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[cc])||void 0===t?void 0:t.stringValue)===lc}function fc(e){const t=e.mapValue.fields[uc];return hc(t)?fc(t):t}function pc(e){const t=oc(e.mapValue.fields[dc].timestampValue);return new tl(t.seconds,t.nanos)}class mc{constructor(e,t,n,r,i,o,a,s,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=s,this.useFetchStreams=l,this.isUsingEmulator=c}}const gc="(default)";class yc{constructor(e,t){this.projectId=e,this.database=t||gc}static empty(){return new yc("","")}get isDefaultDatabase(){return this.database===gc}isEqual(e){return e instanceof yc&&e.projectId===this.projectId&&e.database===this.database}}const vc="__type__",bc="__max__",xc={mapValue:{fields:{__type__:{stringValue:bc}}}},wc="__vector__",jc="value";function Sc(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?hc(e)?4:Uc(e)?9007199254740991:Lc(e)?10:11:ys(28295,{value:e})}function Nc(e,t){if(e===t)return!0;const n=Sc(e);if(n!==Sc(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return pc(e).isEqual(pc(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=oc(e.timestampValue),r=oc(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return sc(e.bytesValue).isEqual(sc(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ac(e.geoPointValue.latitude)===ac(t.geoPointValue.latitude)&&ac(e.geoPointValue.longitude)===ac(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ac(e.integerValue)===ac(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=ac(e.doubleValue),r=ac(t.doubleValue);return n===r?vl(n)===vl(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Us(e.arrayValue.values||[],t.arrayValue.values||[],Nc);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Gl(n)!==Gl(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Nc(n[i],r[i])))return!1;return!0}(e,t);default:return ys(52216,{left:e})}}function Ec(e,t){return void 0!==(e.values||[]).find(e=>Nc(e,t))}function kc(e,t){if(e===t)return 0;const n=Sc(e),r=Sc(t);if(n!==r)return Ds(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ds(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=ac(e.integerValue||e.doubleValue),r=ac(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Tc(e.timestampValue,t.timestampValue);case 4:return Tc(pc(e),pc(t));case 5:return Ms(e.stringValue,t.stringValue);case 6:return function(e,t){const n=sc(e),r=sc(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Ds(n[i],r[i]);if(0!==e)return e}return Ds(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Ds(ac(e.latitude),ac(t.latitude));return 0!==n?n:Ds(ac(e.longitude),ac(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return _c(e.arrayValue,t.arrayValue);case 10:return function(e,t,n,r,i,o){const a=e.fields||{},s=t.fields||{},l=null===(n=a[jc])||void 0===n?void 0:n.arrayValue,c=null===(r=s[jc])||void 0===r?void 0:r.arrayValue,u=Ds((null===l||void 0===l||null===(i=l.values)||void 0===i?void 0:i.length)||0,(null===c||void 0===c||null===(o=c.values)||void 0===o?void 0:o.length)||0);return 0!==u?u:_c(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===xc.mapValue&&t===xc.mapValue)return 0;if(e===xc.mapValue)return 1;if(t===xc.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let a=0;a<r.length&&a<o.length;++a){const e=Ms(r[a],o[a]);if(0!==e)return e;const t=kc(n[r[a]],i[o[a]]);if(0!==t)return t}return Ds(r.length,o.length)}(e.mapValue,t.mapValue);default:throw ys(23264,{he:n})}}function Tc(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Ds(e,t);const n=oc(e),r=oc(t),i=Ds(n.seconds,r.seconds);return 0!==i?i:Ds(n.nanos,r.nanos)}function _c(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=kc(n[i],r[i]);if(e)return e}return Ds(n.length,r.length)}function Cc(e){return Oc(e)}function Oc(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=oc(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return sc(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Ws.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Oc(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Oc(e.fields[i]));return n+"}"}(e.mapValue):ys(61005,{value:e})}function Ac(e){switch(Sc(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=fc(e);return t?16+Ac(t):16;case 5:return 2*e.stringValue.length;case 6:return sc(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+Ac(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return Yl(e.fields,(e,n)=>{t+=e.length+Ac(n)}),t}(e.mapValue);default:throw ys(13486,{value:e})}}function Pc(e){return!!e&&"integerValue"in e}function Ic(e){return!!e&&"arrayValue"in e}function Dc(e){return!!e&&"nullValue"in e}function Mc(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Rc(e){return!!e&&"mapValue"in e}function Lc(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[vc])||void 0===t?void 0:t.stringValue)===wc}function Fc(e){if(e.geoPointValue)return{geoPointValue:lt({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:lt({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Yl(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Fc(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Fc(e.arrayValue.values[n]);return t}return lt({},e)}function Uc(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===bc}class Bc{constructor(e){this.value=e}static empty(){return new Bc({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Rc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fc(t)}setAll(e){let t=Hs.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Fc(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Rc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Nc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Rc(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Yl(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new Bc(Fc(this.value))}}function Vc(e){const t=[];return Yl(e.fields,(e,n)=>{const r=new Hs([e]);if(Rc(n)){const e=Vc(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new tc(t)}class zc{constructor(e,t,n,r,i,o,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new zc(e,0,nl.min(),nl.min(),nl.min(),Bc.empty(),0)}static newFoundDocument(e,t,n,r){return new zc(e,1,t,nl.min(),n,r,0)}static newNoDocument(e,t){return new zc(e,2,t,nl.min(),nl.min(),Bc.empty(),0)}static newUnknownDocument(e,t){return new zc(e,3,t,nl.min(),nl.min(),Bc.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(nl.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bc.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bc.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=nl.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof zc&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zc(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class qc{constructor(e,t){this.position=e,this.inclusive=t}}function Hc(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],a=e.position[i];if(r=o.field.isKeyField()?Ws.comparator(Ws.fromName(a.referenceValue),n.key):kc(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function Wc(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Nc(e.position[n],t.position[n]))return!1;return!0}class Kc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Gc(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Yc{}class Xc extends Yc{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new ru(e,t,n):"array-contains"===t?new su(e,n):"in"===t?new lu(e,n):"not-in"===t?new cu(e,n):"array-contains-any"===t?new uu(e,n):new Xc(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new iu(e,n):new ou(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(kc(t,this.value)):null!==t&&Sc(this.value)===Sc(t)&&this.matchesComparison(kc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ys(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qc extends Yc{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Qc(e,t)}matches(e){return $c(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function $c(e){return"and"===e.op}function Jc(e){return Zc(e)&&$c(e)}function Zc(e){for(const t of e.filters)if(t instanceof Qc)return!1;return!0}function eu(e){if(e instanceof Xc)return e.field.canonicalString()+e.op.toString()+Cc(e.value);if(Jc(e))return e.filters.map(e=>eu(e)).join(",");{const t=e.filters.map(e=>eu(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function tu(e,t){return e instanceof Xc?function(e,t){return t instanceof Xc&&e.op===t.op&&e.field.isEqual(t.field)&&Nc(e.value,t.value)}(e,t):e instanceof Qc?function(e,t){return t instanceof Qc&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&tu(n,t.filters[r]),!0)}(e,t):void ys(19439)}function nu(e){return e instanceof Xc?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Cc(e.value))}(e):e instanceof Qc?function(e){return e.op.toString()+" {"+e.getFilters().map(nu).join(" ,")+"}"}(e):"Filter"}class ru extends Xc{constructor(e,t,n){super(e,t,n),this.key=Ws.fromName(n.referenceValue)}matches(e){const t=Ws.comparator(e.key,this.key);return this.matchesComparison(t)}}class iu extends Xc{constructor(e,t){super(e,"in",t),this.keys=au("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class ou extends Xc{constructor(e,t){super(e,"not-in",t),this.keys=au("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function au(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>Ws.fromName(e.referenceValue))}class su extends Xc{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ic(t)&&Ec(t.arrayValue,this.value)}}class lu extends Xc{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ec(this.value.arrayValue,t)}}class cu extends Xc{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ec(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Ec(this.value.arrayValue,t)}}class uu extends Xc{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ic(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Ec(this.value.arrayValue,e))}}class du{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function hu(e){return new du(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function fu(e){const t=xs(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>eu(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),yl(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Cc(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Cc(e)).join(",")),t.Te=e}return t.Te}function pu(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Gc(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!tu(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Wc(e.startAt,t.startAt)&&Wc(e.endAt,t.endAt)}function mu(e){return Ws.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class gu{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function yu(e,t,n,r,i,o,a,s){return new gu(e,t,n,r,i,o,a,s)}function vu(e){return new gu(e)}function bu(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function xu(e){return null!==e.collectionGroup}function wu(e){const t=xs(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const i of t.explicitOrderBy)t.Ie.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Zl(Hs.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new Kc(r,n))}),e.has(Hs.keyField().canonicalString())||t.Ie.push(new Kc(Hs.keyField(),n))}return t.Ie}function ju(e){const t=xs(e);return t.Ee||(t.Ee=Su(t,wu(e))),t.Ee}function Su(e,t){if("F"===e.limitType)return hu(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new Kc(e.field,t)});const n=e.endAt?new qc(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new qc(e.startAt.position,e.startAt.inclusive):null;return hu(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Nu(e,t,n){return new gu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Eu(e,t){return pu(ju(e),ju(t))&&e.limitType===t.limitType}function ku(e){return"".concat(fu(ju(e)),"|lt:").concat(e.limitType)}function Tu(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>nu(e)).join(", "),"]")),yl(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Cc(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Cc(e)).join(",")),"Target(".concat(t,")")}(ju(e)),"; limitType=").concat(e.limitType,")")}function _u(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Ws.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of wu(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Hc(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,wu(e),t))&&!(e.endAt&&!function(e,t,n){const r=Hc(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,wu(e),t))}(e,t)}function Cu(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Ou(e){return(t,n)=>{let r=!1;for(const i of wu(e)){const e=Au(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Au(e,t,n){const r=e.field.isKeyField()?Ws.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?kc(r,i):ys(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ys(19790,{direction:e.dir})}}class Pu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Yl(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return Xl(this.inner)}size(){return this.innerSize}}const Iu=new Ql(Ws.comparator);function Du(){return Iu}const Mu=new Ql(Ws.comparator);function Ru(){let e=Mu;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Lu(e){let t=Mu;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function Fu(){return Bu()}function Uu(){return Bu()}function Bu(){return new Pu(e=>e.toString(),(e,t)=>e.isEqual(t))}const Vu=new Ql(Ws.comparator),zu=new Zl(Ws.comparator);function qu(){let e=zu;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Hu=new Zl(Ds);function Wu(){return Hu}function Ku(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vl(t)?"-0":t}}function Gu(e){return{integerValue:""+e}}function Yu(e,t){return bl(t)?Gu(t):Ku(e,t)}class Xu{constructor(){this._=void 0}}function Qu(e,t,n){return e instanceof Zu?function(e,t){const n={fields:{[cc]:{stringValue:lc},[dc]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&hc(t)&&(t=fc(t)),t&&(n.fields[uc]=t),{mapValue:n}}(n,t):e instanceof ed?td(e,t):e instanceof nd?rd(e,t):function(e,t){const n=Ju(e,t),r=od(n)+od(e.Ae);return Pc(n)&&Pc(e.Ae)?Gu(r):Ku(e.serializer,r)}(e,t)}function $u(e,t,n){return e instanceof ed?td(e,t):e instanceof nd?rd(e,t):n}function Ju(e,t){return e instanceof id?function(e){return Pc(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Zu extends Xu{}class ed extends Xu{constructor(e){super(),this.elements=e}}function td(e,t){const n=ad(t);for(const r of e.elements)n.some(e=>Nc(e,r))||n.push(r);return{arrayValue:{values:n}}}class nd extends Xu{constructor(e){super(),this.elements=e}}function rd(e,t){let n=ad(t);for(const r of e.elements)n=n.filter(e=>!Nc(e,r));return{arrayValue:{values:n}}}class id extends Xu{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function od(e){return ac(e.integerValue||e.doubleValue)}function ad(e){return Ic(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class sd{constructor(e,t){this.version=e,this.transformResults=t}}class ld{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ld}static exists(e){return new ld(void 0,e)}static updateTime(e){return new ld(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cd(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class ud{}function dd(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new wd(e.key,ld.none()):new gd(e.key,e.data,ld.none());{const n=e.data,r=Bc.empty();let i=new Zl(Hs.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new yd(e.key,r,new tc(i.toArray()),ld.none())}}function hd(e,t,n){e instanceof gd?function(e,t,n){const r=e.value.clone(),i=bd(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof yd?function(e,t,n){if(!cd(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=bd(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(vd(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function fd(e,t,n,r){return e instanceof gd?function(e,t,n,r){if(!cd(e.precondition,t))return n;const i=e.value.clone(),o=xd(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof yd?function(e,t,n,r){if(!cd(e.precondition,t))return n;const i=xd(e.fieldTransforms,r,t),o=t.data;return o.setAll(vd(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return cd(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function pd(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Ju(r.transform,e||null);null!=i&&(null===n&&(n=Bc.empty()),n.set(r.field,i))}return n||null}function md(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Us(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof ed&&t instanceof ed||e instanceof nd&&t instanceof nd?Us(e.elements,t.elements,Nc):e instanceof id&&t instanceof id?Nc(e.Ae,t.Ae):e instanceof Zu&&t instanceof Zu}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class gd extends ud{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class yd extends ud{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function vd(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function bd(e,t,n){const r=new Map;bs(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let i=0;i<n.length;i++){const o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,$u(a,s,n[i]))}return r}function xd(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,Qu(e,o,t))}return r}class wd extends ud{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jd extends ud{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Sd{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&hd(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=fd(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=fd(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Uu();return this.mutations.forEach(r=>{const i=e.get(r.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=t.has(r.key)?null:a;const s=dd(o,a);null!==s&&n.set(r.key,s),o.isValidDocument()||o.convertToNoDocument(nl.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),qu())}isEqual(e){return this.batchId===e.batchId&&Us(this.mutations,e.mutations,(e,t)=>md(e,t))&&Us(this.baseMutations,e.baseMutations,(e,t)=>md(e,t))}}class Nd{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){bs(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let r=Vu;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new Nd(e,t,n,r)}}class Ed{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class kd{constructor(e,t){this.count=e,this.unchangedNames=t}}var Td,_d;function Cd(e){switch(e){case ws.OK:return ys(64938);case ws.CANCELLED:case ws.UNKNOWN:case ws.DEADLINE_EXCEEDED:case ws.RESOURCE_EXHAUSTED:case ws.INTERNAL:case ws.UNAVAILABLE:case ws.UNAUTHENTICATED:return!1;case ws.INVALID_ARGUMENT:case ws.NOT_FOUND:case ws.ALREADY_EXISTS:case ws.PERMISSION_DENIED:case ws.FAILED_PRECONDITION:case ws.ABORTED:case ws.OUT_OF_RANGE:case ws.UNIMPLEMENTED:case ws.DATA_LOSS:return!0;default:return ys(15467,{code:e})}}function Od(e){if(void 0===e)return ps("GRPC error has no .code"),ws.UNKNOWN;switch(e){case Td.OK:return ws.OK;case Td.CANCELLED:return ws.CANCELLED;case Td.UNKNOWN:return ws.UNKNOWN;case Td.DEADLINE_EXCEEDED:return ws.DEADLINE_EXCEEDED;case Td.RESOURCE_EXHAUSTED:return ws.RESOURCE_EXHAUSTED;case Td.INTERNAL:return ws.INTERNAL;case Td.UNAVAILABLE:return ws.UNAVAILABLE;case Td.UNAUTHENTICATED:return ws.UNAUTHENTICATED;case Td.INVALID_ARGUMENT:return ws.INVALID_ARGUMENT;case Td.NOT_FOUND:return ws.NOT_FOUND;case Td.ALREADY_EXISTS:return ws.ALREADY_EXISTS;case Td.PERMISSION_DENIED:return ws.PERMISSION_DENIED;case Td.FAILED_PRECONDITION:return ws.FAILED_PRECONDITION;case Td.ABORTED:return ws.ABORTED;case Td.OUT_OF_RANGE:return ws.OUT_OF_RANGE;case Td.UNIMPLEMENTED:return ws.UNIMPLEMENTED;case Td.DATA_LOSS:return ws.DATA_LOSS;default:return ys(39323,{code:e})}}(_d=Td||(Td={}))[_d.OK=0]="OK",_d[_d.CANCELLED=1]="CANCELLED",_d[_d.UNKNOWN=2]="UNKNOWN",_d[_d.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_d[_d.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_d[_d.NOT_FOUND=5]="NOT_FOUND",_d[_d.ALREADY_EXISTS=6]="ALREADY_EXISTS",_d[_d.PERMISSION_DENIED=7]="PERMISSION_DENIED",_d[_d.UNAUTHENTICATED=16]="UNAUTHENTICATED",_d[_d.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_d[_d.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_d[_d.ABORTED=10]="ABORTED",_d[_d.OUT_OF_RANGE=11]="OUT_OF_RANGE",_d[_d.UNIMPLEMENTED=12]="UNIMPLEMENTED",_d[_d.INTERNAL=13]="INTERNAL",_d[_d.UNAVAILABLE=14]="UNAVAILABLE",_d[_d.DATA_LOSS=15]="DATA_LOSS";let Ad=null;function Pd(){return new TextEncoder}const Id=new Ga([4294967295,4294967295],0);function Dd(e){const t=Pd().encode(e),n=new Ya;return n.update(t),new Uint8Array(n.digest())}function Md(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Ga([n,r],0),new Ga([i,o],0)]}class Rd{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Ld("Invalid padding: ".concat(t));if(n<0)throw new Ld("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Ld("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Ld("Invalid padding when bitmap length is 0: ".concat(t));this.ge=8*e.length-t,this.pe=Ga.fromNumber(this.ge)}ye(e,t,n){let r=e.add(t.multiply(Ga.fromNumber(n)));return 1===r.compare(Id)&&(r=new Ga([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.ge)return!1;const t=Dd(e),[n,r]=Md(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);if(!this.we(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Rd(i,r,t);return n.forEach(e=>o.insert(e)),o}insert(e){if(0===this.ge)return;const t=Dd(e),[n,r]=Md(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Ld extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Fd{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Ud.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Fd(nl.min(),r,new Ql(Ds),Du(),qu())}}class Ud{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Ud(n,t,qu(),qu(),qu())}}class Bd{constructor(e,t,n,r){this.be=e,this.removedTargetIds=t,this.key=n,this.De=r}}class Vd{constructor(e,t){this.targetId=e,this.Ce=t}}class zd{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:rc.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class qd{constructor(){this.ve=0,this.Fe=Kd(),this.Me=rc.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=qu(),t=qu(),n=qu();return this.Fe.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:ys(38017,{changeType:i})}}),new Ud(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=Kd()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,bs(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Hd{constructor(e){this.Ge=e,this.ze=new Map,this.je=Du(),this.Je=Wd(),this.He=Wd(),this.Ye=new Ql(Ds)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:ys(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((e,n)=>{this.rt(n)&&t(n)})}st(e){const t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){const o=r.target;if(mu(o))if(0===n){const e=new Ws(o.path);this.et(t,e,zc.newNoDocument(e,nl.min()))}else bs(1===n,20013,{expectedCount:n});else{const r=this._t(t);if(r!==n){var i;const n=this.ut(e),o=n?this.ct(n,e,r):1;if(0!==o){this.it(t);const e=2===o?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,e)}null===(i=Ad)||void 0===i||i.lt(function(e,t,n,r,i,o,a,s,l,c){const u={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(u.bloomFilter={applied:0===i,hashCount:null!==(o=null===d||void 0===d?void 0:d.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(a=null===d||void 0===d||null===(s=d.bits)||void 0===s||null===(s=s.bitmap)||void 0===s?void 0:s.length)&&void 0!==a?a:0,padding:null!==(l=null===d||void 0===d||null===(c=d.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:e=>{var t;return null!==(t=null===r||void 0===r?void 0:r.mightContain(e))&&void 0!==t&&t}}),u}(r,e.Ce,this.Ge.ht(),n,o))}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,a;try{o=sc(n).toUint8Array()}catch(e){if(e instanceof nc)return ms("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new Rd(o,r,i)}catch(e){return ms(e instanceof Ld?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.ge?null:a}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.Ge.ht(),o="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(o)||(this.et(t,n,null),r++)}),r}Tt(e){const t=new Map;this.ze.forEach((n,r)=>{const i=this.ot(r);if(i){if(n.current&&mu(i.target)){const t=new Ws(i.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,zc.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.qe())}});let n=qu();this.He.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.ot(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.je.forEach((t,n)=>n.setReadTime(e));const r=new Fd(e,t,this.Ye,this.je,n);return this.je=Du(),this.Je=Wd(),this.He=Wd(),this.Ye=new Ql(Ds),r}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new qd,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Zl(Ds),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Zl(Ds),this.Je=this.Je.insert(e,t)),t}rt(e){const t=null!==this.ot(e);return t||fs("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new qd),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Wd(){return new Ql(Ws.comparator)}function Kd(){return new Ql(Ws.comparator)}const Gd={asc:"ASCENDING",desc:"DESCENDING"},Yd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Xd={and:"AND",or:"OR"};class Qd{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function $d(e,t){return e.useProto3Json||yl(t)?t:{value:t}}function Jd(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Zd(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function eh(e,t){return Jd(e,t.toTimestamp())}function th(e){return bs(!!e,49232),nl.fromTimestamp(function(e){const t=oc(e);return new tl(t.seconds,t.nanos)}(e))}function nh(e,t){return rh(e,t).canonicalString()}function rh(e,t){const n=function(e){return new zs(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function ih(e){const t=zs.fromString(e);return bs(Nh(t),10190,{key:t.toString()}),t}function oh(e,t){return nh(e.databaseId,t.path)}function ah(e,t){const n=ih(t);if(n.get(1)!==e.databaseId.projectId)throw new js(ws.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new js(ws.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ws(uh(n))}function sh(e,t){return nh(e.databaseId,t)}function lh(e){const t=ih(e);return 4===t.length?zs.emptyPath():uh(t)}function ch(e){return new zs(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function uh(e){return bs(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function dh(e,t,n){return{name:oh(e,t),fields:n.value.mapValue.fields}}function hh(e,t){let n;if(t instanceof gd)n={update:dh(e,t.key,t.value)};else if(t instanceof wd)n={delete:oh(e,t.key)};else if(t instanceof yd)n={update:dh(e,t.key,t.data),updateMask:Sh(t.fieldMask)};else{if(!(t instanceof jd))return ys(16599,{Vt:t.type});n={verify:oh(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof Zu)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ed)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof nd)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof id)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw ys(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:eh(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:ys(27497)}(e,t.precondition)),n}function fh(e,t){return{documents:[sh(e,t.path)]}}function ph(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=sh(e,i);const o=function(e){if(0!==e.length)return jh(Qc.create(e,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const a=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:xh(e.field),direction:yh(e.dir)}}(e))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const s=$d(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:i}}function mh(e){let t=lh(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){bs(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=gh(e);return t instanceof Qc&&Jc(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map(e=>function(e){return new Kc(wh(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let s=null;n.limit&&(s=function(e){let t;return t="object"==typeof e?e.value:e,yl(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new qc(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new qc(n,t)}(n.endAt)),yu(t,i,a,o,s,"F",l,c)}function gh(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=wh(e.unaryFilter.field);return Xc.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=wh(e.unaryFilter.field);return Xc.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=wh(e.unaryFilter.field);return Xc.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=wh(e.unaryFilter.field);return Xc.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ys(61313);default:return ys(60726)}}(e):void 0!==e.fieldFilter?function(e){return Xc.create(wh(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ys(58110);default:return ys(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Qc.create(e.compositeFilter.filters.map(e=>gh(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return ys(1026)}}(e.compositeFilter.op))}(e):ys(30097,{filter:e})}function yh(e){return Gd[e]}function vh(e){return Yd[e]}function bh(e){return Xd[e]}function xh(e){return{fieldPath:e.canonicalString()}}function wh(e){return Hs.fromServerFormat(e.fieldPath)}function jh(e){return e instanceof Xc?function(e){if("=="===e.op){if(Mc(e.value))return{unaryFilter:{field:xh(e.field),op:"IS_NAN"}};if(Dc(e.value))return{unaryFilter:{field:xh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Mc(e.value))return{unaryFilter:{field:xh(e.field),op:"IS_NOT_NAN"}};if(Dc(e.value))return{unaryFilter:{field:xh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xh(e.field),op:vh(e.op),value:e.value}}}(e):e instanceof Qc?function(e){const t=e.getFilters().map(e=>jh(e));return 1===t.length?t[0]:{compositeFilter:{op:bh(e.op),filters:t}}}(e):ys(54877,{filter:e})}function Sh(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Nh(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Eh{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:nl.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:nl.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:rc.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=s}withSequenceNumber(e){return new Eh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Eh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Eh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Eh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class kh{constructor(e){this.yt=e}}function Th(e){const t=mh({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Nu(t,t.limit,"L"):t}class _h{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(ac(e.integerValue));else if("doubleValue"in e){const n=ac(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),vl(n)?t.Mt(0):t.Mt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ft(t,20),"string"==typeof n&&(n=oc(n)),t.xt("".concat(n.seconds||"")),t.Mt(n.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(sc(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else"mapValue"in e?Uc(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):Lc(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):ys(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const n=e.fields||{};this.Ft(t,55);for(const r of Object.keys(n))this.Ot(r,t),this.Ct(n[r],t)}kt(e,t){var n;const r=e.fields||{};this.Ft(t,53);const i=jc,o=(null===(n=r[i].arrayValue)||void 0===n||null===(n=n.values)||void 0===n?void 0:n.length)||0;this.Ft(t,15),t.Mt(ac(o)),this.Ot(i,t),this.Ct(r[i],t)}Qt(e,t){const n=e.values||[];this.Ft(t,50);for(const r of n)this.Ct(r,t)}Lt(e,t){this.Ft(t,37),Ws.fromName(e).path.forEach(e=>{this.Ft(t,60),this.Ut(e,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}_h.Kt=new _h;class Ch{constructor(){this.Cn=new Oh}addToCollectionParentIndex(e,t){return this.Cn.add(t),hl.resolve()}getCollectionParents(e,t){return hl.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return hl.resolve()}deleteFieldIndex(e,t){return hl.resolve()}deleteAllFieldIndexes(e){return hl.resolve()}createTargetIndexes(e,t){return hl.resolve()}getDocumentsMatchingTarget(e,t){return hl.resolve(null)}getIndexType(e,t){return hl.resolve(0)}getFieldIndexes(e,t){return hl.resolve([])}getNextCollectionGroupToUpdate(e){return hl.resolve(null)}getMinOffset(e,t){return hl.resolve(sl.min())}getMinOffsetFromCollectionGroup(e,t){return hl.resolve(sl.min())}updateCollectionGroup(e,t,n){return hl.resolve()}updateIndexEntries(e,t){return hl.resolve()}}class Oh{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Zl(zs.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Zl(zs.comparator)).toArray()}}new Uint8Array(0);const Ah={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ph=41943040;class Ih{static withCacheSize(e){return new Ih(e,Ih.DEFAULT_COLLECTION_PERCENTILE,Ih.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}Ih.DEFAULT_COLLECTION_PERCENTILE=10,Ih.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ih.DEFAULT=new Ih(Ph,Ih.DEFAULT_COLLECTION_PERCENTILE,Ih.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ih.DISABLED=new Ih(-1,0,0);class Dh{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Dh(0)}static cr(){return new Dh(-1)}}const Mh="LruGarbageCollector",Rh=1048576;function Lh(e,t){let[n,r]=e,[i,o]=t;const a=Ds(n,i);return 0===a?Ds(r,o):a}class Fh{constructor(e){this.Ir=e,this.buffer=new Zl(Lh),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Lh(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Uh{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Vr(e){fs(Mh,"Garbage collection scheduled in ".concat(e,"ms")),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){pl(e)?fs(Mh,"Ignoring IndexedDB error during garbage collection: ",e):await dl(e)}await this.Vr(3e5)})}}class Bh{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return hl.resolve(ml.ce);const n=new Fh(t);return this.mr.forEachTarget(e,e=>n.Ar(e.sequenceNumber)).next(()=>this.mr.pr(e,e=>n.Ar(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(fs("LruGarbageCollector","Garbage collection skipped; disabled"),hl.resolve(Ah)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(fs("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),Ah):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,i,o,a,s,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(fs("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,a=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,s=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),hs()<=Wt.DEBUG&&fs("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(o-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(a-o)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-a)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-s)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),hl.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}function Vh(e,t){return new Bh(e,t)}class zh{constructor(){this.changes=new Pu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,zc.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?hl.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class qh{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Hh{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&fd(n.mutation,e,tc.empty(),tl.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,qu()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:qu();const r=Fu();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=Ru();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=Fu();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,qu()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=Du();const o=Bu(),a=Bu();return t.forEach((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof yd)?i=i.insert(t.key,t):void 0!==a?(o.set(t.key,a.mutation.getFieldMask()),fd(a.mutation,t,a.mutation.getFieldMask(),tl.now())):o.set(t.key,tc.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>o.set(e,t)),t.forEach((e,t)=>{var n;return a.set(e,new qh(t,null!==(n=o.get(e))&&void 0!==n?n:null))}),a))}recalculateAndSaveOverlays(e,t){const n=Bu();let r=new Ql((e,t)=>e-t),i=qu();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const o=t.get(e);if(null===o)return;let a=n.get(e)||tc.empty();a=i.applyToLocalView(o,a),n.set(e,a);const s=(r.get(i.batchId)||qu()).add(e);r=r.insert(i.batchId,s)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),s=r.key,l=r.value,c=Uu();l.forEach(e=>{if(!i.has(e)){const r=dd(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),o.push(this.documentOverlayCache.saveOverlays(e,s,c))}return hl.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Ws.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):xu(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):hl.resolve(Fu());let a=rl,s=i;return o.next(t=>hl.forEach(t,(t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?hl.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{s=s.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,s,t,qu())).next(e=>({batchId:a,changes:Lu(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ws(t)).next(e=>{let t=Ru();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=Ru();return this.indexManager.getCollectionParents(e,i).next(a=>hl.forEach(a,a=>{const s=function(e,t){return new gu(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,s,n,r).next(e=>{e.forEach((e,t)=>{o=o.insert(e,t)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,zc.newInvalidDocument(r)))});let n=Ru();return e.forEach((e,r)=>{const o=i.get(e);void 0!==o&&fd(o.mutation,r,tc.empty(),tl.now()),_u(t,r)&&(n=n.insert(e,r))}),n})}}class Wh{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return hl.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:th(e.createTime)}}(t)),hl.resolve()}getNamedQuery(e,t){return hl.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(e){return{name:e.name,query:Th(e.bundledQuery),readTime:th(e.readTime)}}(t)),hl.resolve()}}class Kh{constructor(){this.overlays=new Ql(Ws.comparator),this.qr=new Map}getOverlay(e,t){return hl.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Fu();return hl.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.St(e,t,r)}),hl.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.qr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.qr.delete(n)),hl.resolve()}getOverlaysForCollection(e,t,n){const r=Fu(),i=t.length+1,o=new Ws(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const e=a.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return hl.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Ql((e,t)=>e-t);const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Fu(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=Fu(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=r)););return hl.resolve(a)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Ed(t,n));let i=this.qr.get(t);void 0===i&&(i=qu(),this.qr.set(t,i)),this.qr.set(t,i.add(n.key))}}class Gh{constructor(){this.sessionToken=rc.EMPTY_BYTE_STRING}getSessionToken(e){return hl.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,hl.resolve()}}class Yh{constructor(){this.Qr=new Zl(Xh.$r),this.Ur=new Zl(Xh.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new Xh(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Gr(new Xh(e,t))}zr(e,t){e.forEach(e=>this.removeReference(e,t))}jr(e){const t=new Ws(new zs([])),n=new Xh(t,e),r=new Xh(t,e+1),i=[];return this.Ur.forEachInRange([n,r],e=>{this.Gr(e),i.push(e.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Ws(new zs([])),n=new Xh(t,e),r=new Xh(t,e+1);let i=qu();return this.Ur.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new Xh(e,0),n=this.Qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Xh{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Ws.comparator(e.key,t.key)||Ds(e.Yr,t.Yr)}static Kr(e,t){return Ds(e.Yr,t.Yr)||Ws.comparator(e.key,t.key)}}class Qh{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Zl(Xh.$r)}checkEmpty(e){return hl.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Sd(i,t,n,r);this.mutationQueue.push(o);for(const a of r)this.Zr=this.Zr.add(new Xh(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return hl.resolve(o)}lookupMutationBatch(e,t){return hl.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ei(n),i=r<0?0:r;return hl.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return hl.resolve(0===this.mutationQueue.length?gl:this.tr-1)}getAllMutationBatches(e){return hl.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Xh(t,0),r=new Xh(t,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([n,r],e=>{const t=this.Xr(e.Yr);i.push(t)}),hl.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Zl(Ds);return t.forEach(e=>{const t=new Xh(e,0),r=new Xh(e,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([t,r],e=>{n=n.add(e.Yr)})}),hl.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Ws.isDocumentKey(i)||(i=i.child(""));const o=new Xh(new Ws(i),0);let a=new Zl(Ds);return this.Zr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.Yr)),!0)},o),hl.resolve(this.ti(a))}ti(e){const t=[];return e.forEach(e=>{const n=this.Xr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){bs(0===this.ni(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Zr;return hl.forEach(t.mutations,r=>{const i=new Xh(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,t){const n=new Xh(t,0),r=this.Zr.firstAfterOrEqual(n);return hl.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,hl.resolve()}ni(e,t){return this.ei(e)}ei(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class $h{constructor(e){this.ri=e,this.docs=new Ql(Ws.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return hl.resolve(n?n.document.mutableCopy():zc.newInvalidDocument(t))}getEntries(e,t){let n=Du();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():zc.newInvalidDocument(e))}),hl.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Du();const o=t.path,a=new Ws(o.child("__id-9223372036854775808__")),s=this.docs.getIteratorFrom(a);for(;s.hasNext();){const{key:e,value:{document:a}}=s.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||ll(al(a),n)<=0||(r.has(a.key)||_u(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return hl.resolve(i)}getAllFromCollectionGroup(e,t,n,r){ys(9500)}ii(e,t){return hl.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new Jh(this)}getSize(e){return hl.resolve(this.size)}}class Jh extends zh{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)}),hl.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class Zh{constructor(e){this.persistence=e,this.si=new Pu(e=>fu(e),pu),this.lastRemoteSnapshotVersion=nl.min(),this.highestTargetId=0,this.oi=0,this._i=new Yh,this.targetCount=0,this.ai=Dh.ur()}forEachTarget(e,t){return this.si.forEach((e,n)=>t(n)),hl.resolve()}getLastRemoteSnapshotVersion(e){return hl.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return hl.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),hl.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),hl.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Dh(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,hl.resolve()}updateTargetData(e,t){return this.Pr(t),hl.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,hl.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),hl.waitFor(i).next(()=>r)}getTargetCount(e){return hl.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return hl.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),hl.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),hl.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),hl.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return hl.resolve(n)}containsKey(e,t){return hl.resolve(this._i.containsKey(t))}}class ef{constructor(e,t){this.ui={},this.overlays={},this.ci=new ml(0),this.li=!1,this.li=!0,this.hi=new Gh,this.referenceDelegate=e(this),this.Pi=new Zh(this),this.indexManager=new Ch,this.remoteDocumentCache=function(e){return new $h(e)}(e=>this.referenceDelegate.Ti(e)),this.serializer=new kh(t),this.Ii=new Wh(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Kh,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new Qh(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){fs("MemoryPersistence","Starting transaction:",e);const r=new tf(this.ci.next());return this.referenceDelegate.Ei(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ai(e,t){return hl.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,t)))}}class tf extends ul{constructor(e){super(),this.currentSequenceNumber=e}}class nf{constructor(e){this.persistence=e,this.Ri=new Yh,this.Vi=null}static mi(e){return new nf(e)}get fi(){if(this.Vi)return this.Vi;throw ys(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),hl.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),hl.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),hl.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(e=>this.fi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.fi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return hl.forEach(this.fi,n=>{const r=Ws.fromPath(n);return this.gi(e,r).next(e=>{e||t.removeEntry(r,nl.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return hl.or([()=>hl.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class rf{constructor(e,t){this.persistence=e,this.pi=new Pu(e=>wl(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=Vh(this,t)}static mi(e,t){return new rf(e,t)}Ei(){}di(e){return hl.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}wr(e){let t=0;return this.pr(e,e=>{t++}).next(()=>t)}pr(e,t){return hl.forEach(this.pi,(n,r)=>this.br(e,n,r).next(e=>e?hl.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ii(e,r=>this.br(e,r,t).next(e=>{e||(n++,i.removeEntry(r,nl.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),hl.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),hl.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),hl.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),hl.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ac(e.data.value)),t}br(e,t,n){return hl.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.pi.get(t);return hl.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class of{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(e,t){let n=qu(),r=qu();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new of(e,t.fromCache,n,r)}}class af{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class sf{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=Tt()?8:fl(Et())>0?6:4}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ys(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.ws(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new af;return this.Ss(e,t,n).next(r=>{if(i.result=r,this.Vs)return this.bs(e,t,n,r.size)})}).next(()=>i.result)}bs(e,t,n,r){return n.documentReadCount<this.fs?(hs()<=Wt.DEBUG&&fs("QueryEngine","SDK will not create cache indexes for query:",Tu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),hl.resolve()):(hs()<=Wt.DEBUG&&fs("QueryEngine","Query:",Tu(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.gs*r?(hs()<=Wt.DEBUG&&fs("QueryEngine","The SDK decides to create cache indexes for query:",Tu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ju(t))):hl.resolve())}ys(e,t){if(bu(t))return hl.resolve(null);let n=ju(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Nu(t,null,"F"),n=ju(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=qu(...r);return this.ps.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const o=this.Ds(t,r);return this.Cs(t,o,i,n.readTime)?this.ys(e,Nu(t,null,"F")):this.vs(e,o,t,n)}))})))}ws(e,t,n,r){return bu(t)||r.isEqual(nl.min())?hl.resolve(null):this.ps.getDocuments(e,n).next(i=>{const o=this.Ds(t,i);return this.Cs(t,o,n,r)?hl.resolve(null):(hs()<=Wt.DEBUG&&fs("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Tu(t)),this.vs(e,o,t,ol(r,rl)).next(e=>e))})}Ds(e,t){let n=new Zl(Ou(e));return t.forEach((t,r)=>{_u(e,r)&&(n=n.add(r))}),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,t,n){return hs()<=Wt.DEBUG&&fs("QueryEngine","Using full collection scan to execute query:",Tu(t)),this.ps.getDocumentsMatchingQuery(e,t,sl.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const lf="LocalStore";class cf{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new Ql(Ds),this.xs=new Pu(e=>fu(e),pu),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Hh(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function uf(e,t,n,r){return new cf(e,t,n,r)}async function df(e,t){const n=xs(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.Bs(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],o=[];let a=qu();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next(e=>({Ls:e,removedBatchIds:i,addedBatchIds:o}))})})}function hf(e){const t=xs(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function ff(e,t,n){let r=qu(),i=qu();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=Du();return n.forEach((n,o)=>{const a=e.get(n);o.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(nl.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):fs(lf,"Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),{ks:r,qs:i}})}function pf(e,t){const n=xs(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=gl),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function mf(e,t){const n=xs(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Pi.getTargetData(e,t).next(i=>i?(r=i,hl.resolve(r)):n.Pi.allocateTargetId(e).next(i=>(r=new Eh(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Pi.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.xs.set(t,e.targetId)),e})}async function gf(e,t,n){const r=xs(e),i=r.Ms.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!pl(e))throw e;fs(lf,"Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Ms=r.Ms.remove(t),r.xs.delete(i.target)}function yf(e,t,n){const r=xs(e);let i=nl.min(),o=qu();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=xs(e),i=r.xs.get(n);return void 0!==i?hl.resolve(r.Ms.get(i)):r.Pi.getTargetData(t,n)}(r,e,ju(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{o=e})}).next(()=>r.Fs.getDocumentsMatchingQuery(e,t,n?i:nl.min(),n?o:qu())).next(e=>(vf(r,Cu(t),e),{documents:e,Qs:o})))}function vf(e,t,n){let r=e.Os.get(t)||nl.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Os.set(t,r)}class bf{constructor(){this.activeTargetIds=Wu()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xf{constructor(){this.Mo=new bf,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new bf,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class wf{Oo(e){}shutdown(){}}const jf="ConnectivityMonitor";class Sf{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fs(jf,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){fs(jf,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Nf=null;function Ef(){return null===Nf?Nf=268435456+Math.round(2147483648*Math.random()):Nf++,"0x"+Nf.toString(16)}const kf="RestConnection",Tf={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _f{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko="projects/".concat(n,"/databases/").concat(r),this.Wo=this.databaseId.database===gc?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}Go(e,t,n,r,i){const o=Ef(),a=this.zo(e,t.toUriEncodedString());fs(kf,"Sending RPC '".concat(e,"' ").concat(o,":"),a,n);const s={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(s,r,i);const{host:l}=new URL(a),c=xt(l);return this.Jo(e,a,s,n,c).then(t=>(fs(kf,"Received RPC '".concat(e,"' ").concat(o,": "),t),t),t=>{throw ms(kf,"RPC '".concat(e,"' ").concat(o," failed with error: "),t,"url: ",a,"request:",n),t})}Ho(e,t,n,r,i,o){return this.Go(e,t,n,r,i)}jo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+us,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}zo(e,t){const n=Tf[e];return"".concat(this.Uo,"/v1/").concat(t,":").concat(n)}terminate(){}}class Cf{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Of="WebChannelConnection";class Af extends _f{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,i){const o=Ef();return new Promise((i,a)=>{const s=new $a;s.setWithCredentials(!0),s.listenOnce(Za.COMPLETE,()=>{try{switch(s.getLastErrorCode()){case es.NO_ERROR:const n=s.getResponseJson();fs(Of,"XHR for RPC '".concat(e,"' ").concat(o," received:"),JSON.stringify(n)),i(n);break;case es.TIMEOUT:fs(Of,"RPC '".concat(e,"' ").concat(o," timed out")),a(new js(ws.DEADLINE_EXCEEDED,"Request time out"));break;case es.HTTP_ERROR:const r=s.getStatus();if(fs(Of,"RPC '".concat(e,"' ").concat(o," failed with status:"),r,"response text:",s.getResponseText()),r>0){var t;let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);const n=null===(t=e)||void 0===t?void 0:t.error;if(n&&n.status&&n.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(ws).indexOf(t)>=0?t:ws.UNKNOWN}(n.status);a(new js(e,n.message))}else a(new js(ws.UNKNOWN,"Server responded with status "+s.getStatus()))}else a(new js(ws.UNAVAILABLE,"Connection failed."));break;default:ys(9055,{l_:e,streamId:o,h_:s.getLastErrorCode(),P_:s.getLastError()})}}finally{fs(Of,"RPC '".concat(e,"' ").concat(o," completed."))}});const l=JSON.stringify(r);fs(Of,"RPC '".concat(e,"' ").concat(o," sending request:"),r),s.send(t,"POST",l,n,15)})}T_(e,t,n){const r=Ef(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=is(),a=rs(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(s.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(s.useFetchStreams=!0),this.jo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;const c=i.join("");fs(Of,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),s);const u=o.createWebChannel(c,s);this.I_(u);let d=!1,h=!1;const f=new Cf({Yo:t=>{h?fs(Of,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(fs(Of,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),fs(Of,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},Zo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(u,Ja.EventType.OPEN,()=>{h||(fs(Of,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.o_())}),p(u,Ja.EventType.CLOSE,()=>{h||(h=!0,fs(Of,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.a_(),this.E_(u))}),p(u,Ja.EventType.ERROR,t=>{h||(h=!0,ms(Of,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),t.name,"Message:",t.message),f.a_(new js(ws.UNAVAILABLE,"The operation could not be completed")))}),p(u,Ja.EventType.MESSAGE,t=>{if(!h){var n;const i=t.data[0];bs(!!i,16349);const o=i,a=(null===o||void 0===o?void 0:o.error)||(null===(n=o[0])||void 0===n?void 0:n.error);if(a){fs(Of,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);const t=a.status;let n=function(e){const t=Td[e];if(void 0!==t)return Od(t)}(t),i=a.message;void 0===n&&(n=ws.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),h=!0,f.a_(new js(n,i)),u.close()}else fs(Of,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.u_(i)}}),p(a,ns.STAT_EVENT,t=>{t.stat===ts.PROXY?fs(Of,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===ts.NOPROXY&&fs(Of,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{f.__()},0),f}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function Pf(){return"undefined"!=typeof document?document:null}function If(e){return new Qd(e,!0)}class Df{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&fs("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.V_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Mf="PersistentStream";class Rf{constructor(e,t,n,r,i,o,a,s){this.Mi=e,this.S_=n,this.b_=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=s,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Df(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===ws.RESOURCE_EXHAUSTED?(ps(t.toString()),ps("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ws.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.D_===t&&this.G_(n,r)},t=>{e(()=>{const e=new js(ws.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)})})}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(e=>{n(()=>this.z_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.F_?this.J_(e):this.onNext(e))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return fs(Mf,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(fs(Mf,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Lf extends Rf{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:ys(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(bs(void 0===t||"string"==typeof t,58123),rc.fromBase64String(t||"")):(bs(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),rc.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,s=a&&function(e){const t=void 0===e.code?ws.UNKNOWN:Od(e.code);return new js(t,e.message||"")}(a);n=new zd(r,i,o,s||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=ah(e,r.document.name),o=th(r.document.updateTime),a=r.document.createTime?th(r.document.createTime):nl.min(),s=new Bc({mapValue:{fields:r.document.fields}}),l=zc.newFoundDocument(i,o,a,s),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Bd(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=ah(e,r.document),o=r.readTime?th(r.readTime):nl.min(),a=zc.newNoDocument(i,o),s=r.removedTargetIds||[];n=new Bd([],s,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=ah(e,r.document),o=r.removedTargetIds||[];n=new Bd([],o,i,null)}else{if(!("filter"in t))return ys(11601,{Rt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new kd(r,i),a=e.targetId;n=new Vd(a,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return nl.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?nl.min():t.readTime?th(t.readTime):nl.min()}(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=ch(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=mu(r)?{documents:fh(e,r)}:{query:ph(e,r).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Zd(e,t.resumeToken);const r=$d(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(nl.min())>0){n.readTime=Jd(e,t.snapshotVersion.toTimestamp());const r=$d(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ys(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=ch(this.serializer),t.removeTarget=e,this.q_(t)}}class Ff extends Rf{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return bs(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,bs(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){bs(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=function(e,t){return e&&e.length>0?(bs(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?th(e.updateTime):th(t);return n.isEqual(nl.min())&&(n=th(t)),new sd(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=th(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=ch(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>hh(this.serializer,e))};this.q_(t)}}class Uf{}class Bf extends Uf{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new js(ws.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[o,a]=i;return this.connection.Go(e,rh(t,n),r,o,a)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===ws.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new js(ws.UNKNOWN,e.toString())})}Ho(e,t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(o=>{let[a,s]=o;return this.connection.Ho(e,rh(t,n),r,a,s,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===ws.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new js(ws.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Vf{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.aa?(ps(t),this.aa=!1):fs("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const zf="RemoteStore";class qf{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(e=>{n.enqueueAndForget(async()=>{Jf(this)&&(fs(zf,"Restarting streams for network reachability change."),await async function(e){const t=xs(e);t.Ea.add(4),await Wf(t),t.Ra.set("Unknown"),t.Ea.delete(4),await Hf(t)}(this))})}),this.Ra=new Vf(n,r)}}async function Hf(e){if(Jf(e))for(const t of e.da)await t(!0)}async function Wf(e){for(const t of e.da)await t(!1)}function Kf(e,t){const n=xs(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),$f(n)?Qf(n):yp(n).O_()&&Yf(n,t))}function Gf(e,t){const n=xs(e),r=yp(n);n.Ia.delete(t),r.O_()&&Xf(n,t),0===n.Ia.size&&(r.O_()?r.L_():Jf(n)&&n.Ra.set("Unknown"))}function Yf(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(nl.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}yp(e).Y_(t)}function Xf(e,t){e.Va.Ue(t),yp(e).Z_(t)}function Qf(e){e.Va=new Hd({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),yp(e).start(),e.Ra.ua()}function $f(e){return Jf(e)&&!yp(e).x_()&&e.Ia.size>0}function Jf(e){return 0===xs(e).Ea.size}function Zf(e){e.Va=void 0}async function ep(e){e.Ra.set("Online")}async function tp(e){e.Ia.forEach((t,n)=>{Yf(e,t)})}async function np(e,t){Zf(e),$f(e)?(e.Ra.ha(t),Qf(e)):e.Ra.set("Unknown")}async function rp(e,t,n){if(e.Ra.set("Online"),t instanceof zd&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.Va.removeTarget(r))}(e,t)}catch(n){fs(zf,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await ip(e,n)}else if(t instanceof Bd?e.Va.Ze(t):t instanceof Vd?e.Va.st(t):e.Va.tt(t),!n.isEqual(nl.min()))try{const t=await hf(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Va.Tt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Ia.get(r);i&&e.Ia.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ia.get(t);if(!r)return;e.Ia.set(t,r.withResumeToken(rc.EMPTY_BYTE_STRING,r.snapshotVersion)),Xf(e,t);const i=new Eh(r.target,t,n,r.sequenceNumber);Yf(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){fs(zf,"Failed to raise snapshot:",t),await ip(e,t)}}async function ip(e,t,n){if(!pl(t))throw t;e.Ea.add(1),await Wf(e),e.Ra.set("Offline"),n||(n=()=>hf(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{fs(zf,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await Hf(e)})}function op(e,t){return t().catch(n=>ip(e,n,t))}async function ap(e){const t=xs(e),n=vp(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:gl;for(;sp(t);)try{const e=await pf(t.localStore,r);if(null===e){0===t.Ta.length&&n.L_();break}r=e.batchId,lp(t,e)}catch(e){await ip(t,e)}cp(t)&&up(t)}function sp(e){return Jf(e)&&e.Ta.length<10}function lp(e,t){e.Ta.push(t);const n=vp(e);n.O_()&&n.X_&&n.ea(t.mutations)}function cp(e){return Jf(e)&&!vp(e).x_()&&e.Ta.length>0}function up(e){vp(e).start()}async function dp(e){vp(e).ra()}async function hp(e){const t=vp(e);for(const n of e.Ta)t.ea(n.mutations)}async function fp(e,t,n){const r=e.Ta.shift(),i=Nd.from(r,t,n);await op(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await ap(e)}async function pp(e,t){t&&vp(e).X_&&await async function(e,t){if(function(e){return Cd(e)&&e!==ws.ABORTED}(t.code)){const n=e.Ta.shift();vp(e).B_(),await op(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await ap(e)}}(e,t),cp(e)&&up(e)}async function mp(e,t){const n=xs(e);n.asyncQueue.verifyOperationInProgress(),fs(zf,"RemoteStore received new credentials");const r=Jf(n);n.Ea.add(3),await Wf(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Hf(n)}async function gp(e,t){const n=xs(e);t?(n.Ea.delete(2),await Hf(n)):t||(n.Ea.add(2),await Wf(n),n.Ra.set("Unknown"))}function yp(e){return e.ma||(e.ma=function(e,t,n){const r=xs(e);return r.sa(),new Lf(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:ep.bind(null,e),t_:tp.bind(null,e),r_:np.bind(null,e),H_:rp.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),$f(e)?Qf(e):e.Ra.set("Unknown")):(await e.ma.stop(),Zf(e))})),e.ma}function vp(e){return e.fa||(e.fa=function(e,t,n){const r=xs(e);return r.sa(),new Ff(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:dp.bind(null,e),r_:pp.bind(null,e),ta:hp.bind(null,e),na:fp.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await ap(e)):(await e.fa.stop(),e.Ta.length>0&&(fs(zf,"Stopping write stream with ".concat(e.Ta.length," pending writes")),e.Ta=[]))})),e.fa}class bp{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Ss,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,a=new bp(e,t,o,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new js(ws.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xp(e,t){if(ps("AsyncQueue","".concat(t,": ").concat(e)),pl(e))return new js(ws.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class wp{static emptySet(e){return new wp(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Ws.comparator(t.key,n.key):(e,t)=>Ws.comparator(e.key,t.key),this.keyedMap=Ru(),this.sortedSet=new Ql(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof wp))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new wp;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class jp{constructor(){this.ga=new Ql(Ws.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?0!==e.type&&3===n.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==n.type?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ga=this.ga.remove(t):1===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):ys(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,n)=>{e.push(n)}),e}}class Sp{constructor(e,t,n,r,i,o,a,s,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach(e=>{o.push({type:0,doc:e})}),new Sp(e,t,wp.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Eu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Np{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Ep{constructor(){this.queries=kp(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=xs(e),r=n.queries;n.queries=kp(),r.forEach((e,n)=>{for(const r of n.Sa)r.onError(t)})}(this,new js(ws.ABORTED,"Firestore shutting down"))}}function kp(){return new Pu(e=>ku(e),Eu)}async function Tp(e,t){const n=xs(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.ba()&&t.Da()&&(r=2):(o=new Np,r=t.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=xp(e,"Initialization of query '".concat(Tu(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,o),o.Sa.push(t),t.va(n.onlineState),o.wa&&t.Fa(o.wa)&&Ap(n)}async function _p(e,t){const n=xs(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const e=o.Sa.indexOf(t);e>=0&&(o.Sa.splice(e,1),0===o.Sa.length?i=t.Da()?0:1:!o.ba()&&t.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Cp(e,t){const n=xs(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Fa(i)&&(r=!0);t.wa=i}}r&&Ap(n)}function Op(e,t,n){const r=xs(e),i=r.queries.get(t);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(t)}function Ap(e){e.Ca.forEach(e=>{e.next()})}var Pp,Ip;(Ip=Pp||(Pp={})).Ma="default",Ip.Cache="cache";class Dp{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Sp(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache)return!0;if(!this.Da())return!0;const n="Offline"!==t;return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=Sp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Pp.Cache}}class Mp{constructor(e){this.key=e}}class Rp{constructor(e){this.key=e}}class Lp{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=qu(),this.mutatedKeys=qu(),this.eu=Ou(e),this.tu=new wp(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new jp,r=t?t.tu:this.tu;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,a=!1;const s="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=_u(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.su(c,u)||(n.track({type:2,doc:u}),f=!0,(s&&this.eu(u,s)>0||l&&this.eu(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(s||l)&&(a=!0)),f&&(u?(o=o.add(u),i=h?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{tu:o,iu:n,Cs:a,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ys(20277,{Rt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc)),this.ou(n),r=null!==r&&void 0!==r&&r;const a=t&&!r?this._u():[],s=0===this.Xa.size&&this.current&&!r?1:0,l=s!==this.Za;return this.Za=s,0!==o.length||l?{snapshot:new Sp(this.query,e.tu,i,o,e.mutatedKeys,0===s,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tu:this.tu,iu:new jp,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=qu(),this.tu.forEach(e=>{this.uu(e.key)&&(this.Xa=this.Xa.add(e.key))});const t=[];return e.forEach(e=>{this.Xa.has(e)||t.push(new Rp(e))}),this.Xa.forEach(n=>{e.has(n)||t.push(new Mp(n))}),t}cu(e){this.Ya=e.Qs,this.Xa=qu();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Sp.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Za,this.hasCachedResults)}}const Fp="SyncEngine";class Up{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Bp{constructor(e){this.key=e,this.hu=!1}}class Vp{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Pu(e=>ku(e),Eu),this.Iu=new Map,this.Eu=new Set,this.du=new Ql(Ws.comparator),this.Au=new Map,this.Ru=new Yh,this.Vu={},this.mu=new Map,this.fu=Dh.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function zp(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=cm(e);let i;const o=r.Tu.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await Hp(r,t,n,!0),i}async function qp(e,t){const n=cm(e);await Hp(n,t,!0,!1)}async function Hp(e,t,n,r){const i=await mf(e.localStore,ju(t)),o=i.targetId,a=e.sharedClientState.addLocalQueryTarget(o,n);let s;return r&&(s=await Wp(e,t,o,"current"===a,i.resumeToken)),e.isPrimaryClient&&n&&Kf(e.remoteStore,i),s}async function Wp(e,t,n,r,i){e.pu=(t,n,r)=>async function(e,t,n,r){let i=t.view.ru(n);i.Cs&&(i=await yf(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.ru(n,i)}));const o=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,o,a);return rm(e,t.targetId,s.au),s.snapshot}(e,t,n,r);const o=await yf(e.localStore,t,!0),a=new Lp(t,o.Qs),s=a.ru(o.documents),l=Ud.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(s,e.isPrimaryClient,l);rm(e,n,c.au);const u=new Up(t,n,a);return e.Tu.set(t,u),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),c.snapshot}async function Kp(e,t,n){const r=xs(e),i=r.Tu.get(t),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter(e=>!Eu(e,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await gf(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Gf(r.remoteStore,i.targetId),tm(r,i.targetId)}).catch(dl)):(tm(r,i.targetId),await gf(r.localStore,i.targetId,!0))}async function Gp(e,t){const n=xs(e),r=n.Tu.get(t),i=n.Iu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Gf(n.remoteStore,r.targetId))}async function Yp(e,t){const n=xs(e);try{const e=await function(e,t){const n=xs(e),r=t.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];t.targetChanges.forEach((o,s)=>{const l=i.get(s);if(!l)return;a.push(n.Pi.removeMatchingKeys(e,o.removedDocuments,s).next(()=>n.Pi.addMatchingKeys(e,o.addedDocuments,s)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(rc.EMPTY_BYTE_STRING,nl.min()).withLastLimboFreeSnapshotVersion(nl.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,o)&&a.push(n.Pi.updateTargetData(e,c))});let s=Du(),l=qu();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),a.push(ff(e,o,t.documentUpdates).next(e=>{s=e.ks,l=e.qs})),!r.isEqual(nl.min())){const t=n.Pi.getLastRemoteSnapshotVersion(e).next(t=>n.Pi.setTargetsMetadata(e,e.currentSequenceNumber,r));a.push(t)}return hl.waitFor(a).next(()=>o.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,s,l)).next(()=>s)}).then(e=>(n.Ms=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Au.get(t);r&&(bs(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.hu=!0:e.modifiedDocuments.size>0?bs(r.hu,14607):e.removedDocuments.size>0&&(bs(r.hu,42227),r.hu=!1))}),await am(n,e,t)}catch(e){await dl(e)}}function Xp(e,t,n){const r=xs(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Tu.forEach((n,r)=>{const i=r.view.va(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=xs(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.Sa)i.va(t)&&(r=!0)}),r&&Ap(n)}(r.eventManager,t),e.length&&r.Pu.H_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Qp(e,t,n){const r=xs(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Au.get(t),o=i&&i.key;if(o){let e=new Ql(Ws.comparator);e=e.insert(o,zc.newNoDocument(o,nl.min()));const n=qu().add(o),i=new Fd(nl.min(),new Map,new Ql(Ds),e,n);await Yp(r,i),r.du=r.du.remove(o),r.Au.delete(t),om(r)}else await gf(r.localStore,t,!1).then(()=>tm(r,t,n)).catch(dl)}async function $p(e,t){const n=xs(e),r=t.batch.batchId;try{const e=await function(e,t){const n=xs(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let a=hl.resolve();return o.forEach(e=>{a=a.next(()=>r.getEntry(t,e)).next(t=>{const o=n.docVersions.get(e);bs(null!==o,48541),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),a.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=qu();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);em(n,r,null),Zp(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await am(n,e)}catch(e){await dl(e)}}async function Jp(e,t,n){const r=xs(e);try{const e=await function(e,t){const n=xs(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(bs(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);em(r,t,n),Zp(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await am(r,e)}catch(n){await dl(n)}}function Zp(e,t){(e.mu.get(t)||[]).forEach(e=>{e.resolve()}),e.mu.delete(t)}function em(e,t,n){const r=xs(e);let i=r.Vu[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Vu[r.currentUser.toKey()]=i}}function tm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(t=>{e.Ru.containsKey(t)||nm(e,t)})}function nm(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(Gf(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),om(e))}function rm(e,t,n){for(const r of n)r instanceof Mp?(e.Ru.addReference(r.key,t),im(e,r)):r instanceof Rp?(fs(Fp,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||nm(e,r.key)):ys(19791,{wu:r})}function im(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(fs(Fp,"New document in limbo: "+n),e.Eu.add(r),om(e))}function om(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new Ws(zs.fromString(t)),r=e.fu.next();e.Au.set(r,new Bp(n)),e.du=e.du.insert(n,r),Kf(e.remoteStore,new Eh(ju(vu(n.path)),r,"TargetPurposeLimboResolution",ml.ce))}}async function am(e,t,n){const r=xs(e),i=[],o=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach((e,s)=>{a.push(r.pu(s,t,n).then(e=>{if((e||n)&&r.isPrimaryClient){var t;const i=e?!e.fromCache:null===n||void 0===n||null===(t=n.targetChanges.get(s.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(s.targetId,i?"current":"not-current")}if(e){i.push(e);const t=of.As(s.targetId,e);o.push(t)}}))}),await Promise.all(a),r.Pu.H_(i),await async function(e,t){const n=xs(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>hl.forEach(t,t=>hl.forEach(t.Es,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>hl.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!pl(e))throw e;fs(lf,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ms.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ms=n.Ms.insert(e,i)}}}(r.localStore,o))}async function sm(e,t){const n=xs(e);if(!n.currentUser.isEqual(t)){fs(Fp,"User change. New user:",t.toKey());const e=await df(n.localStore,t);n.currentUser=t,function(e,t){e.mu.forEach(e=>{e.forEach(e=>{e.reject(new js(ws.CANCELLED,t))})}),e.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await am(n,e.Ls)}}function lm(e,t){const n=xs(e),r=n.Au.get(t);if(r&&r.hu)return qu().add(r.key);{let e=qu();const r=n.Iu.get(t);if(!r)return e;for(const t of r){const r=n.Tu.get(t);e=e.unionWith(r.view.nu)}return e}}function cm(e){const t=xs(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Yp.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=lm.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Qp.bind(null,t),t.Pu.H_=Cp.bind(null,t.eventManager),t.Pu.yu=Op.bind(null,t.eventManager),t}function um(e){const t=xs(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=$p.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Jp.bind(null,t),t}class dm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=If(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return uf(this.persistence,new sf,e.initialUser,this.serializer)}Cu(e){return new ef(nf.mi,this.serializer)}Du(e){return new xf}async terminate(){var e,t;null!==(e=this.gcScheduler)&&void 0!==e&&e.stop(),null!==(t=this.indexBackfillerScheduler)&&void 0!==t&&t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dm.provider={build:()=>new dm};class hm extends dm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){bs(this.persistence.referenceDelegate instanceof rf,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Uh(n,e.asyncQueue,t)}Cu(e){const t=void 0!==this.cacheSizeBytes?Ih.withCacheSize(this.cacheSizeBytes):Ih.DEFAULT;return new ef(e=>rf.mi(e,t),this.serializer)}}class fm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Xp(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=sm.bind(null,this.syncEngine),await gp(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Ep}createDatastore(e){const t=If(e.databaseInfo.databaseId),n=function(e){return new Af(e)}(e.databaseInfo);return function(e,t,n,r){return new Bf(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new qf(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>Xp(this.syncEngine,e,0),Sf.v()?new Sf:new wf)}createSyncEngine(e,t){return function(e,t,n,r,i,o,a){const s=new Vp(e,t,n,r,i,o);return a&&(s.gu=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=xs(e);fs(zf,"RemoteStore shutting down."),t.Ea.add(5),await Wf(t),t.Aa.shutdown(),t.Ra.set("Unknown")}(this.remoteStore),null!==(e=this.datastore)&&void 0!==e&&e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}fm.provider={build:()=>new fm};class pm{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ps("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const mm="FirestoreClient";class gm{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=cs.UNAUTHENTICATED,this.clientId=Is.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{fs(mm,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(fs(mm,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ss;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=xp(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function ym(e,t){e.asyncQueue.verifyOperationInProgress(),fs(mm,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await df(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function vm(e,t){e.asyncQueue.verifyOperationInProgress();const n=await bm(e);fs(mm,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>mp(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>mp(t.remoteStore,n)),e._onlineComponents=t}async function bm(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){fs(mm,"Using user provided OfflineComponentProvider");try{await ym(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===ws.FAILED_PRECONDITION||e.code===ws.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;ms("Error using user provided cache. Falling back to memory cache: "+n),await ym(e,new dm)}}else fs(mm,"Using default OfflineComponentProvider"),await ym(e,new hm(void 0));return e._offlineComponents}async function xm(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(fs(mm,"Using user provided OnlineComponentProvider"),await vm(e,e._uninitializedComponentsProvider._online)):(fs(mm,"Using default OnlineComponentProvider"),await vm(e,new fm))),e._onlineComponents}function wm(e){return xm(e).then(e=>e.syncEngine)}async function jm(e){const t=await xm(e),n=t.eventManager;return n.onListen=zp.bind(null,t.syncEngine),n.onUnlisten=Kp.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=qp.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Gp.bind(null,t.syncEngine),n}function Sm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Ss;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const o=new pm({next:s=>{o.Nu(),t.enqueueAndForget(()=>_p(e,a));const l=s.docs.has(n);!l&&s.fromCache?i.reject(new js(ws.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&s.fromCache&&r&&"server"===r.source?i.reject(new js(ws.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),a=new Dp(vu(n.path),o,{includeMetadataChanges:!0,qa:!0});return Tp(e,a)}(await jm(e),e.asyncQueue,t,n,r)),r.promise}function Nm(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Em=new Map,km="firestore.googleapis.com",Tm=!0;class _m{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new js(ws.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=km,this.ssl=Tm}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:Tm;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=Ph;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<Rh)throw new js(ws.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new js(ws.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Nm(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new js(ws.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new js(ws.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new js(ws.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Cm{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _m({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new js(ws.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new js(ws.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _m(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Es;switch(e.type){case"firstParty":return new Cs(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new js(ws.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Em.get(e);t&&(fs("ComponentProvider","Removing Datastore"),Em.delete(e),t.terminate())}(this),Promise.resolve()}}function Om(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=Qs(e,Cm);const i=xt(t),o=e._getSettings(),a=lt(lt({},o),{},{emulatorOptions:e._getEmulatorOptions()}),s="".concat(t,":").concat(n);i&&(wt("https://".concat(s)),Nt("Firestore",!0)),o.host!==km&&o.host!==s&&ms("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=lt(lt({},o),{},{host:s,ssl:i,emulatorOptions:r});if(!Pt(l,a)&&(e._setSettings(l),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=cs.MOCK_USER;else{var c;t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=lt({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ht(JSON.stringify({alg:"none",type:"JWT"})),ht(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(c=e._app)||void 0===c?void 0:c.options.projectId);const i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new js(ws.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new cs(i)}e._authCredentials=new ks(new Ns(t,n))}}class Am{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Am(this.firestore,e,this._query)}}class Pm{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Im(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pm(this.firestore,e,this._key)}toJSON(){return{type:Pm._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(Js(t,Pm._jsonSchema))return new Pm(e,n||null,new Ws(zs.fromString(t.referencePath)))}}Pm._jsonSchemaVersion="firestore/documentReference/1.0",Pm._jsonSchema={type:$s("string",Pm._jsonSchemaVersion),referencePath:$s("string")};class Im extends Am{constructor(e,t,n){super(e,t,vu(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pm(this.firestore,null,new Ws(e))}withConverter(e){return new Im(this.firestore,e,this._path)}}function Dm(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ut(e),1===arguments.length&&(t=Is.newId()),Ks("doc","path",t),e instanceof Cm){const n=zs.fromString(t,...r);return Gs(n),new Pm(e,null,new Ws(n))}{if(!(e instanceof Pm||e instanceof Im))throw new js(ws.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(zs.fromString(t,...r));return Gs(n),new Pm(e.firestore,e instanceof Im?e.converter:null,new Ws(n))}}const Mm="AsyncQueue";class Rm{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Df(this,"async_queue_retry"),this._c=()=>{const e=Pf();e&&fs(Mm,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=Pf();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Pf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new Ss;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(0!==this.Xu.length){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(CG){if(!pl(CG))throw CG;fs(Mm,"Operation failed with retryable error: "+CG)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,ps("INTERNAL UNHANDLED ERROR: ",Lm(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=bp.createAndSchedule(this,e,t,n,e=>this.hc(e));return this.tc.push(r),r}uc(){this.nc&&ys(47125,{Pc:Lm(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Lm(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}class Fm extends Cm{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Rm,this._persistenceKey=(null===r||void 0===r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Rm(e),this._firestoreClient=void 0,await e}}}function Um(e){if(e._terminated)throw new js(ws.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Bm(e),e._firestoreClient}function Bm(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new mc(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Nm(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new gm(e._authCredentials,e._appCheckCredentials,e._queue,o,e._componentsProvider&&function(e){const t=null===e||void 0===e?void 0:e._online.build();return{_offline:null===e||void 0===e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class Vm{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vm(rc.fromBase64String(e))}catch(e){throw new js(ws.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Vm(rc.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Vm._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Js(e,Vm._jsonSchema))return Vm.fromBase64String(e.bytes)}}Vm._jsonSchemaVersion="firestore/bytes/1.0",Vm._jsonSchema={type:$s("string",Vm._jsonSchemaVersion),bytes:$s("string")};class zm{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new js(ws.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Hs(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class qm{constructor(e){this._methodName=e}}class Hm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new js(ws.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new js(ws.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ds(this._lat,e._lat)||Ds(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Hm._jsonSchemaVersion}}static fromJSON(e){if(Js(e,Hm._jsonSchema))return new Hm(e.latitude,e.longitude)}}Hm._jsonSchemaVersion="firestore/geoPoint/1.0",Hm._jsonSchema={type:$s("string",Hm._jsonSchemaVersion),latitude:$s("number"),longitude:$s("number")};class Wm{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Wm._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Js(e,Wm._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new Wm(e.vectorValues);throw new js(ws.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Wm._jsonSchemaVersion="firestore/vectorValue/1.0",Wm._jsonSchema={type:$s("string",Wm._jsonSchemaVersion),vectorValues:$s("object")};const Km=/^__.*__$/;class Gm{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new yd(e,this.data,this.fieldMask,t,this.fieldTransforms):new gd(e,this.data,t,this.fieldTransforms)}}function Ym(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ys(40011,{Ac:e})}}class Xm{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Xm(lt(lt({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ag(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(0===e.length)throw this.Sc("Document fields must not be empty");if(Ym(this.Ac)&&Km.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Qm{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||If(e)}Cc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Xm({Ac:e,methodName:t,Dc:n,path:Hs.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $m(e){const t=e._freezeSettings(),n=If(e._databaseId);return new Qm(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Jm(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.Cc(o.merge||o.mergeFields?2:0,t,n,i);ng("Data must be an object, but it was:",a,r);const s=eg(r,a);let l,c;if(o.merge)l=new tc(a.fieldMask),c=a.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=rg(t,r,n);if(!a.contains(i))throw new js(ws.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));sg(e,i)||e.push(i)}l=new tc(e),c=a.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=a.fieldTransforms;return new Gm(new Bc(s),l,c)}function Zm(e,t){if(tg(e=Ut(e)))return ng("Unsupported field value:",t,e),eg(e,t);if(e instanceof qm)return function(e,t){if(!Ym(t.Ac))throw t.Sc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Sc("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&4!==t.Ac)throw t.Sc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Zm(i,t.wc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Ut(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Yu(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=tl.fromDate(e);return{timestampValue:Jd(t.serializer,n)}}if(e instanceof tl){const n=new tl(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Jd(t.serializer,n)}}if(e instanceof Hm)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Vm)return{bytesValue:Zd(t.serializer,e._byteString)};if(e instanceof Pm){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Sc("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:nh(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof Wm)return function(e,t){return{mapValue:{fields:{[vc]:{stringValue:wc},[jc]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Sc("VectorValues must only contain numeric values.");return Ku(t.serializer,e)})}}}}}}(e,t);throw t.Sc("Unsupported field value: ".concat(Xs(e)))}(e,t)}function eg(e,t){const n={};return Xl(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Yl(e,(e,r)=>{const i=Zm(r,t.mc(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function tg(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof tl||e instanceof Hm||e instanceof Vm||e instanceof Pm||e instanceof qm||e instanceof Wm)}function ng(e,t,n){if(!tg(n)||!Ys(n)){const r=Xs(n);throw"an object"===r?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function rg(e,t,n){if((t=Ut(t))instanceof zm)return t._internalPath;if("string"==typeof t)return og(e,t);throw ag("Field path arguments must be of type string or ",e,!1,void 0,n)}const ig=new RegExp("[~\\*/\\[\\]]");function og(e,t,n){if(t.search(ig)>=0)throw ag("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new zm(...t.split("."))._internalPath}catch(lT){throw ag("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function ag(e,t,n,r,i){const o=r&&!r.isEmpty(),a=void 0!==i;let s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=" in field ".concat(r)),a&&(l+=" in document ".concat(i)),l+=")"),new js(ws.INVALID_ARGUMENT,s+e+l)}function sg(e,t){return e.some(e=>e.isEqual(t))}class lg{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Pm(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new cg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ug("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class cg extends lg{data(){return super.data()}}function ug(e,t){return"string"==typeof t?og(e,t):t instanceof zm?t._internalPath:t._delegate._internalPath}class dg{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Sc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ac(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(sc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ys(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Yl(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t;const n=null===(t=e.fields)||void 0===t||null===(t=t[jc].arrayValue)||void 0===t||null===(t=t.values)||void 0===t?void 0:t.map(e=>ac(e.doubleValue));return new Wm(n)}convertGeoPoint(e){return new Hm(ac(e.latitude),ac(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=fc(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(pc(e));default:return null}}convertTimestamp(e){const t=oc(e);return new tl(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=zs.fromString(e);bs(Nh(n),9688,{name:e});const r=new yc(n.get(1),n.get(3)),i=new Ws(n.popFirst(5));return r.isEqual(t)||ps("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function hg(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class fg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class pg extends lg{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new mg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(ug("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new js(ws.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=pg._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}pg._jsonSchemaVersion="firestore/documentSnapshot/1.0",pg._jsonSchema={type:$s("string",pg._jsonSchemaVersion),bundleSource:$s("string","DocumentSnapshot"),bundleName:$s("string"),bundle:$s("string")};class mg extends pg{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class gg{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new fg(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new mg(this._firestore,this._userDataWriter,n.key,n,new fg(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new js(ws.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new mg(e._firestore,e._userDataWriter,n.doc.key,n.doc,new fg(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new mg(e._firestore,e._userDataWriter,t.doc.key,t.doc,new fg(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:yg(t.type),doc:r,oldIndex:i,newIndex:o}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new js(ws.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=gg._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Is.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function yg(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ys(61501,{type:e})}}function vg(e){e=Qs(e,Pm);const t=Qs(e.firestore,Fm);return Sm(Um(t),e._key).then(n=>jg(t,e,n))}gg._jsonSchemaVersion="firestore/querySnapshot/1.0",gg._jsonSchema={type:$s("string",gg._jsonSchemaVersion),bundleSource:$s("string","QuerySnapshot"),bundleName:$s("string"),bundle:$s("string")};class bg extends dg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vm(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Pm(this.firestore,null,t)}}function xg(e,t,n){e=Qs(e,Pm);const r=Qs(e.firestore,Fm),i=hg(e.converter,t,n);return wg(r,[Jm($m(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,ld.none())])}function wg(e,t){return function(e,t){const n=new Ss;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=um(e);try{const e=await function(e,t){const n=xs(e),r=tl.now(),i=t.reduce((e,t)=>e.add(t.key),qu());let o,a;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let s=Du(),l=qu();return n.Ns.getEntries(e,i).next(e=>{s=e,s.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,s)).next(i=>{o=i;const a=[];for(const e of t){const t=pd(e,o.get(e.key).overlayedDocument);null!=t&&a.push(new yd(e.key,t,Vc(t.value.mapValue),ld.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)}).next(t=>{a=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:a.batchId,changes:Lu(o)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Vu[e.currentUser.toKey()];r||(r=new Ql(Ds)),r=r.insert(t,n),e.Vu[e.currentUser.toKey()]=r}(r,e.batchId,n),await am(r,e.changes),await ap(r.remoteStore)}catch(e){const t=xp(e,"Failed to persist write");n.reject(t)}}(await wm(e),t,n)),n.promise}(Um(e),t)}function jg(e,t,n){const r=n.docs.get(t._key),i=new bg(e);return new pg(e,i,t._key,r,new fg(n.hasPendingWrites,n.fromCache),t.converter)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){us=e}(tr),Qn(new Bt("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),a=new Fm(new Ts(e.getProvider("auth-internal")),new As(o,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new js(ws.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yc(e.options.projectId,t)}(o,r),o);return i=lt({useFetchStreams:t},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),ir(ss,ls,e),ir(ss,ls,"esm2020")}();ir("firebase","12.3.0","app");const Sg=nr({apiKey:"AIzaSyA2rLcXVAmJZtHxN4TXy4qmKJFWlVf9TLA",authDomain:"sih2025-f718e.firebaseapp.com",projectId:"sih2025-f718e",storageBucket:"sih2025-f718e.firebasestorage.app",messagingSenderId:"753671979434",appId:"1:753671979434:web:c0eeca65cb54aaae88abd3"}),Ng=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rr();const t=$n(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=$n(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Pt(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Sr(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Ua,persistence:[Xo,Co,Do]}),r=vt("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&((new Date).getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>qa)return;const i=null===n||void 0===n?void 0:n.token;Ha!==i&&(Ha=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:"Bearer ".concat(i)}:{}}))})(e.toString());!function(e,t,n){Ut(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){Ut(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}const i=gt("auth");return i&&Hi(n,"http://".concat(i)),n}(Sg),Eg=function(e,t){const n="object"==typeof e?e:rr(),r="string"==typeof e?e:t||gc,i=$n(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=(e=>{const t=gt(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&Om(i,...e)}return i}(Sg);let kg=new Set,Tg=null;function _g(e){Tg=e;const t=new CustomEvent("authchange",{detail:{user:e}});window.dispatchEvent(t),kg.forEach(t=>{try{t(e)}catch(n){}})}function Cg(){return console.log("getCurrentUser called, returning:",Tg),Tg}function Og(e){return kg.add(e),()=>kg.delete(e)}async function Ag(e,t){if(!e||!t)throw new Error("Missing credentials");try{const n=await function(e,t,n){return Jn(e.app)?Promise.reject(kr(e)):wo(Ut(e),oo.credential(t,n)).catch(async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&So(e),t})}(Ng,e,t),r=n.user,i=(await vg(Dm(Eg,"users",r.uid))).data();console.log("Login - User data from Firestore:",i),console.log("Login - Email:",e);const o={uid:r.uid,email:r.email,role:(null===i||void 0===i?void 0:i.role)||Ig(e),name:(null===i||void 0===i?void 0:i.name)||r.displayName||e.split("@")[0],institution:(null===i||void 0===i?void 0:i.institution)||"",phone:(null===i||void 0===i?void 0:i.phone)||""};return console.log("Login - Final user profile:",o),_g(o),o}catch(n){throw new Error(n.message)}}async function Pg(){try{await function(e){return Ut(e).signOut()}(Ng),_g(null)}catch(e){throw new Error(e.message)}}function Ig(e){return e.includes("teacher")||e.includes("prof")||e.includes("faculty")?"teacher":e.includes("admin")||e.includes("administrator")?"admin":"student"}!function(e,t,n,r){Ut(e).onAuthStateChanged(t,n,r)}(Ng,async e=>{if(console.log("Firebase auth state changed:",e),e)try{const t=(await vg(Dm(Eg,"users",e.uid))).data();if(console.log("User data from Firestore:",t),t){const n={uid:e.uid,email:e.email,role:(null===t||void 0===t?void 0:t.role)||Ig(e.email),name:(null===t||void 0===t?void 0:t.name)||e.displayName||e.email.split("@")[0],institution:(null===t||void 0===t?void 0:t.institution)||"",phone:(null===t||void 0===t?void 0:t.phone)||""};console.log("Final user profile:",n),_g(n)}else{console.log("No user data found in Firestore, creating default profile");const t={name:e.displayName||e.email.split("@")[0],role:Ig(e.email),institution:"",phone:"",createdAt:(new Date).toISOString()};await xg(Dm(Eg,"users",e.uid),t);const n={uid:e.uid,email:e.email,role:t.role,name:t.name,institution:t.institution,phone:t.phone};console.log("Created default user profile:",n),_g(n)}}catch(t){console.error("Error fetching user data:",t);const n={uid:e.uid,email:e.email,role:Ig(e.email),name:e.displayName||e.email.split("@")[0],institution:"",phone:""};console.log("Using fallback profile:",n),_g(n)}else _g(null)});const Dg=function(){const[e,t]=(0,i.useState)(null),n=ee();return(0,i.useEffect)(()=>{const e=Cg();t(e);const n=Og(e=>{console.log("Auth state changed:",e),t(e)});return n},[]),(0,Fe.jsx)("nav",{className:"navbar navbar-expand-lg bg-white border-bottom sticky-top shadow-sm",children:(0,Fe.jsxs)("div",{className:"container",children:[(0,Fe.jsxs)(Ie,{className:"navbar-brand fw-bold d-flex align-items-center gap-2",to:"/",children:[(0,Fe.jsx)("i",{className:"bi bi-shield-fill-exclamation text-danger"}),(0,Fe.jsx)("span",{children:"D-Prep"})]}),(0,Fe.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#nav","aria-controls":"nav","aria-expanded":"false","aria-label":"Toggle navigation",children:(0,Fe.jsx)("span",{className:"navbar-toggler-icon"})}),(0,Fe.jsxs)("div",{className:"collapse navbar-collapse",id:"nav",children:[(0,Fe.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:[(!e||"student"===e.role)&&(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("li",{className:"nav-item",children:(0,Fe.jsxs)(De,{className:"nav-link",to:"/learn",children:[(0,Fe.jsx)("i",{className:"bi bi-mortarboard me-1"}),"Learn"]})}),(0,Fe.jsx)("li",{className:"nav-item",children:(0,Fe.jsxs)(De,{className:"nav-link",to:"/alerts",children:[(0,Fe.jsx)("i",{className:"bi bi-broadcast me-1"}),"Alerts"]})}),(0,Fe.jsx)("li",{className:"nav-item",children:(0,Fe.jsxs)(De,{className:"nav-link",to:"/drills",children:[(0,Fe.jsx)("i",{className:"bi bi-joystick me-1"}),"Drills"]})}),(0,Fe.jsx)("li",{className:"nav-item",children:(0,Fe.jsxs)(De,{className:"nav-link",to:"/disaster-simulation",children:[(0,Fe.jsx)("i",{className:"bi bi-shield-exclamation me-1"}),"Disaster Sim"]})}),(0,Fe.jsx)("li",{className:"nav-item",children:(0,Fe.jsxs)(De,{className:"nav-link",to:"/leaderboard",children:[(0,Fe.jsx)("i",{className:"bi bi-trophy me-1"}),"Leaderboard"]})}),(0,Fe.jsx)("li",{className:"nav-item",children:(0,Fe.jsxs)(De,{className:"nav-link",to:"/emergency",children:[(0,Fe.jsx)("i",{className:"bi bi-telephone me-1"}),"Emergency"]})})]}),"teacher"===(null===e||void 0===e?void 0:e.role)&&(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("li",{className:"nav-item",children:(0,Fe.jsxs)(De,{className:"nav-link",to:"/teacher",children:[(0,Fe.jsx)("i",{className:"bi bi-speedometer2 me-1"}),"Dashboard"]})}),(0,Fe.jsx)("li",{className:"nav-item",children:(0,Fe.jsxs)(De,{className:"nav-link",to:"/alerts",children:[(0,Fe.jsx)("i",{className:"bi bi-broadcast me-1"}),"Alerts"]})}),(0,Fe.jsx)("li",{className:"nav-item",children:(0,Fe.jsxs)(De,{className:"nav-link",to:"/drills",children:[(0,Fe.jsx)("i",{className:"bi bi-flag me-1"}),"Drills"]})}),(0,Fe.jsx)("li",{className:"nav-item",children:(0,Fe.jsxs)(De,{className:"nav-link",to:"/disaster-simulation",children:[(0,Fe.jsx)("i",{className:"bi bi-shield-exclamation me-1"}),"Disaster Sim"]})})]}),"admin"===(null===e||void 0===e?void 0:e.role)&&(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("li",{className:"nav-item",children:(0,Fe.jsxs)(De,{className:"nav-link",to:"/admin",children:[(0,Fe.jsx)("i",{className:"bi bi-speedometer2 me-1"}),"Dashboard"]})}),(0,Fe.jsx)("li",{className:"nav-item",children:(0,Fe.jsxs)(De,{className:"nav-link",to:"/alerts",children:[(0,Fe.jsx)("i",{className:"bi bi-broadcast me-1"}),"Alerts"]})})]})]}),(0,Fe.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[e?(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsxs)("span",{className:"small text-muted",children:[e.name," \xb7 ",e.role]}),(0,Fe.jsxs)("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>{Pg(),n("/login",{replace:!0})},children:[(0,Fe.jsx)("i",{className:"bi bi-box-arrow-right me-1"}),"Logout"]})]}):(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)(De,{to:"/login",className:"btn btn-outline-primary btn-sm",children:"Login"}),(0,Fe.jsx)(De,{to:"/signup",className:"btn btn-primary btn-sm",children:"Sign up"})]}),(0,Fe.jsx)(nt,{})]})]})]})})};const Mg=function(){return(0,Fe.jsx)("footer",{className:"border-top bg-white mt-5 pt-4",children:(0,Fe.jsxs)("div",{className:"container",children:[(0,Fe.jsxs)("div",{className:"row g-4",children:[(0,Fe.jsxs)("div",{className:"col-12 col-lg-4",children:[(0,Fe.jsxs)("div",{className:"d-flex align-items-center gap-2 mb-2",children:[(0,Fe.jsx)("i",{className:"bi bi-shield-fill-exclamation text-danger"}),(0,Fe.jsx)("span",{className:"fw-semibold",children:"D-Prep"})]}),(0,Fe.jsx)("div",{className:"text-muted small",children:"Preparedness for Indian schools and colleges \u2014 interactive learning, region alerts, and virtual drills to build resilient campuses."}),(0,Fe.jsxs)("div",{className:"d-flex gap-2 mt-3",children:[(0,Fe.jsx)("span",{className:"badge bg-primary-subtle text-primary border",children:"Education"}),(0,Fe.jsx)("span",{className:"badge bg-danger-subtle text-danger border",children:"Emergency"}),(0,Fe.jsx)("span",{className:"badge bg-success-subtle text-success border",children:"Readiness"})]})]}),(0,Fe.jsxs)("div",{className:"col-6 col-lg-2",children:[(0,Fe.jsx)("div",{className:"fw-semibold mb-2 small text-uppercase text-muted",children:"Solutions"}),(0,Fe.jsxs)("ul",{className:"list-unstyled small m-0 d-grid gap-1",children:[(0,Fe.jsx)("li",{children:(0,Fe.jsx)("a",{href:"/learn",className:"text-decoration-none text-muted",children:"Interactive Modules"})}),(0,Fe.jsx)("li",{children:(0,Fe.jsx)("a",{href:"/drills",className:"text-decoration-none text-muted",children:"Virtual Drills"})}),(0,Fe.jsx)("li",{children:(0,Fe.jsx)("a",{href:"/alerts",className:"text-decoration-none text-muted",children:"Region Alerts"})}),(0,Fe.jsx)("li",{children:(0,Fe.jsx)("a",{href:"/leaderboard",className:"text-decoration-none text-muted",children:"Gamified Leaderboard"})})]})]}),(0,Fe.jsxs)("div",{className:"col-6 col-lg-2",children:[(0,Fe.jsx)("div",{className:"fw-semibold mb-2 small text-uppercase text-muted",children:"Stakeholders"}),(0,Fe.jsxs)("ul",{className:"list-unstyled small m-0 d-grid gap-1",children:[(0,Fe.jsx)("li",{children:(0,Fe.jsx)("span",{className:"text-muted",children:"Students"})}),(0,Fe.jsx)("li",{children:(0,Fe.jsx)("span",{className:"text-muted",children:"Teachers & Staff"})}),(0,Fe.jsx)("li",{children:(0,Fe.jsx)("span",{className:"text-muted",children:"Administrators"})}),(0,Fe.jsx)("li",{children:(0,Fe.jsx)("span",{className:"text-muted",children:"Parents & Responders"})})]})]}),(0,Fe.jsxs)("div",{className:"col-12 col-lg-4",children:[(0,Fe.jsxs)("div",{className:"row g-3",children:[(0,Fe.jsxs)("div",{className:"col-12 col-md-6",children:[(0,Fe.jsx)("div",{className:"fw-semibold mb-2 small text-uppercase text-muted",children:"Emergency Tools"}),(0,Fe.jsxs)("ul",{className:"list-unstyled small m-0 d-grid gap-1",children:[(0,Fe.jsx)("li",{children:(0,Fe.jsx)("a",{href:"/emergency",className:"text-decoration-none text-muted",children:"SOS & Contacts"})}),(0,Fe.jsx)("li",{children:(0,Fe.jsx)("a",{href:"/alerts",className:"text-decoration-none text-muted",children:"Live Alerts"})}),(0,Fe.jsx)("li",{children:(0,Fe.jsx)("a",{href:"/drills",className:"text-decoration-none text-muted",children:"Drill Planner"})})]})]}),(0,Fe.jsxs)("div",{className:"col-12 col-md-6",children:[(0,Fe.jsx)("div",{className:"fw-semibold mb-2 small text-uppercase text-muted",children:"Compliance"}),(0,Fe.jsxs)("ul",{className:"list-unstyled small m-0 d-grid gap-1",children:[(0,Fe.jsx)("li",{children:(0,Fe.jsx)("a",{href:"#",className:"text-decoration-none text-muted",children:"NDMA Guidelines"})}),(0,Fe.jsx)("li",{children:(0,Fe.jsx)("a",{href:"#",className:"text-decoration-none text-muted",children:"UNDRR for Education"})}),(0,Fe.jsx)("li",{children:(0,Fe.jsx)("a",{href:"#",className:"text-decoration-none text-muted",children:"Safety Policies"})})]})]})]}),(0,Fe.jsxs)("form",{className:"mt-3 d-flex gap-2",onSubmit:e=>e.preventDefault(),children:[(0,Fe.jsx)("input",{className:"form-control form-control-sm",placeholder:"Subscribe for updates"}),(0,Fe.jsx)("button",{className:"btn btn-primary btn-sm",type:"submit",children:"Subscribe"})]})]})]}),(0,Fe.jsxs)("div",{className:"d-flex flex-column flex-md-row justify-content-between align-items-center gap-2 border-top mt-4 py-3",children:[(0,Fe.jsxs)("div",{className:"text-muted small",children:["\xa9 ",(new Date).getFullYear()," D-Prep \u2022 Building disaster-ready campuses"]}),(0,Fe.jsxs)("div",{className:"d-flex gap-3",children:[(0,Fe.jsx)("a",{href:"#",className:"text-decoration-none text-muted small",children:"Privacy"}),(0,Fe.jsx)("a",{href:"#",className:"text-decoration-none text-muted small",children:"Terms"}),(0,Fe.jsx)("a",{href:"#",className:"text-decoration-none text-muted small",children:"Accessibility"})]})]})]})})};function Rg(e){if("undefined"===typeof Proxy)return e;const t=new Map;return new Proxy(function(){return e(...arguments)},{get:(n,r)=>"create"===r?e:(t.has(r)||t.set(r,e(r)),t.get(r))})}function Lg(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}const Fg=e=>Array.isArray(e);function Ug(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Bg(e){return"string"===typeof e||Array.isArray(e)}function Vg(e){const t=[{},{}];return null===e||void 0===e||e.values.forEach((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()}),t}function zg(e,t,n,r){if("function"===typeof t){const[i,o]=Vg(r);t=t(void 0!==n?n:e.custom,i,o)}if("string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t){const[i,o]=Vg(r);t=t(void 0!==n?n:e.custom,i,o)}return t}function qg(e,t,n){const r=e.getProps();return zg(r,t,void 0!==n?n:r.custom,e)}const Hg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Wg=["initial",...Hg];function Kg(e){let t;return()=>(void 0===t&&(t=e()),t)}const Gg=Kg(()=>void 0!==window.ScrollTimeline);class Yg{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let n=0;n<this.animations.length;n++)this.animations[n][e]=t}attachTimeline(e,t){const n=this.animations.map(n=>Gg()&&n.attachTimeline?n.attachTimeline(e):"function"===typeof t?t(n):void 0);return()=>{n.forEach((e,t)=>{e&&e(),this.animations[t].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Xg extends Yg{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function Qg(e,t){return e?e[t]||e.default||e:void 0}const $g=2e4;function Jg(e){let t=0;let n=e.next(t);for(;!n.done&&t<$g;)t+=50,n=e.next(t);return t>=$g?1/0:t}function Zg(e){return"function"===typeof e}function ey(e,t){e.timeline=t,e.onfinish=null}const ty=e=>Array.isArray(e)&&"number"===typeof e[0],ny={linearEasing:void 0};function ry(e,t){const n=Kg(e);return()=>{var e;return null!==(e=ny[t])&&void 0!==e?e:n()}}const iy=ry(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(CG){return!1}return!0},"linearEasing"),oy=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r},ay=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r="";const i=Math.max(Math.round(t/n),2);for(let o=0;o<i;o++)r+=e(oy(0,i-1,o))+", ";return"linear(".concat(r.substring(0,r.length-2),")")};function sy(e){return Boolean("function"===typeof e&&iy()||!e||"string"===typeof e&&(e in cy||iy())||ty(e)||Array.isArray(e)&&e.every(sy))}const ly=e=>{let[t,n,r,i]=e;return"cubic-bezier(".concat(t,", ").concat(n,", ").concat(r,", ").concat(i,")")},cy={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ly([0,.65,.55,1]),circOut:ly([.55,0,1,.45]),backIn:ly([.31,.01,.66,-.59]),backOut:ly([.33,1.53,.69,.99])};function uy(e,t){return e?"function"===typeof e&&iy()?ay(e,t):ty(e)?ly(e):Array.isArray(e)?e.map(e=>uy(e,t)||cy.easeOut):cy[e]:void 0}const dy={x:!1,y:!1};function hy(){return dy.x||dy.y}function fy(e,t){const n=function(e,t,n){var r;if(e instanceof Element)return[e];if("string"===typeof e){let i=document;t&&(i=t.current);const o=null!==(r=null===n||void 0===n?void 0:n[e])&&void 0!==r?r:i.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}(e),r=new AbortController;return[n,lt(lt({passive:!0},t),{},{signal:r.signal}),()=>r.abort()]}function py(e){return t=>{"touch"===t.pointerType||hy()||e(t)}}const my=(e,t)=>!!t&&(e===t||my(e,t.parentElement)),gy=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary,yy=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const vy=new WeakSet;function by(e){return t=>{"Enter"===t.key&&e(t)}}function xy(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function wy(e){return gy(e)&&!hy()}function jy(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,i,o]=fy(e,n),a=e=>{const r=e.currentTarget;if(!wy(e)||vy.has(r))return;vy.add(r);const o=t(e),a=(e,t)=>{window.removeEventListener("pointerup",s),window.removeEventListener("pointercancel",l),wy(e)&&vy.has(r)&&(vy.delete(r),"function"===typeof o&&o(e,{success:t}))},s=e=>{a(e,n.useGlobalTarget||my(r,e.target))},l=e=>{a(e,!1)};window.addEventListener("pointerup",s,i),window.addEventListener("pointercancel",l,i)};return r.forEach(e=>{(function(e){return yy.has(e.tagName)||-1!==e.tabIndex})(e)||null!==e.getAttribute("tabindex")||(e.tabIndex=0);(n.useGlobalTarget?window:e).addEventListener("pointerdown",a,i),e.addEventListener("focus",e=>((e,t)=>{const n=e.currentTarget;if(!n)return;const r=by(()=>{if(vy.has(n))return;xy(n,"down");const e=by(()=>{xy(n,"up")});n.addEventListener("keyup",e,t),n.addEventListener("blur",()=>xy(n,"cancel"),t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)})(e,i),i)}),o}const Sy=e=>1e3*e,Ny=e=>e/1e3,Ey=e=>e;const ky=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ty=new Set(ky),_y=new Set(["width","height","top","left","right","bottom",...ky]),Cy=e=>Fg(e)?e[e.length-1]||0:e,Oy=!1,Ay=!1;const Py=["read","resolveKeyframes","update","preRender","render","postRender"];function Iy(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,a=Py.reduce((e,t)=>(e[t]=function(e){let t=new Set,n=new Set,r=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function s(t){o.has(t)&&(l.schedule(t),e()),t(a)}const l={schedule:function(e){const i=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&r?t:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&o.add(e),i.has(e)||i.add(e),e},cancel:e=>{n.delete(e),o.delete(e)},process:e=>{a=e,r?i=!0:(r=!0,[t,n]=[n,t],t.forEach(s),t.clear(),r=!1,i&&(i=!1,l.process(e)))}};return l}(o),e),{}),{read:s,resolveKeyframes:l,update:c,preRender:u,render:d,postRender:h}=a,f=()=>{const o=Ay?i.timestamp:performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(o-i.timestamp,40),1),i.timestamp=o,i.isProcessing=!0,s.process(i),l.process(i),c.process(i),u.process(i),d.process(i),h.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(f))},p=Py.reduce((t,o)=>{const s=a[o];return t[o]=function(t){let o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,i.isProcessing||e(f)),s.schedule(t,o,a)},t},{});return{schedule:p,cancel:e=>{for(let t=0;t<Py.length;t++)a[Py[t]].cancel(e)},state:i,steps:a}}const{schedule:Dy,cancel:My,state:Ry,steps:Ly}=Iy("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:Ey,!0);let Fy;function Uy(){Fy=void 0}const By={now:()=>(void 0===Fy&&By.set(Ry.isProcessing||Ay?Ry.timestamp:performance.now()),Fy),set:e=>{Fy=e,queueMicrotask(Uy)}};function Vy(e,t){-1===e.indexOf(t)&&e.push(t)}function zy(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class qy{constructor(){this.subscriptions=[]}add(e){return Vy(this.subscriptions,e),()=>zy(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let i=0;i<r;i++){const r=this.subscriptions[i];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Hy(e,t){return t?e*(1e3/t):0}const Wy={current:void 0};class Ky{constructor(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=By.now();t.updatedAt!==r&&t.setPrevFrameValue(),t.prev=t.current,t.setCurrent(e),t.current!==t.prev&&t.events.change&&t.events.change.notify(t.current),n&&t.events.renderRequest&&t.events.renderRequest.notify(t.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=By.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(e=>!isNaN(parseFloat(e)))(this.current))}setPrevFrameValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current;this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new qy);const n=this.events[e].add(t);return"change"===e?()=>{n(),Dy.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return Wy.current&&Wy.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=By.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return Hy(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Gy(e,t){return new Ky(e,t)}const Yy=["transitionEnd","transition"];function Xy(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Gy(n))}const Qy=e=>Boolean(e&&e.getVelocity);function $y(e,t){const n=e.getValue("willChange");if(function(e){return Boolean(Qy(e)&&e.add)}(n))return n.add(t)}const Jy=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Zy="data-"+Jy("framerAppearId");function ev(e){return e.props[Zy]}const tv=!1,nv=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function rv(e,t,n,r){if(e===t&&n===r)return Ey;const i=t=>function(e,t,n,r,i){let o,a,s=0;do{a=t+(n-t)/2,o=nv(a,r,i)-e,o>0?n=a:t=a}while(Math.abs(o)>1e-7&&++s<12);return a}(t,0,1,e,n);return e=>0===e||1===e?e:nv(i(e),t,r)}const iv=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,ov=e=>t=>1-e(1-t),av=rv(.33,1.53,.69,.99),sv=ov(av),lv=iv(sv),cv=e=>(e*=2)<1?.5*sv(e):.5*(2-Math.pow(2,-10*(e-1))),uv=e=>1-Math.sin(Math.acos(e)),dv=ov(uv),hv=iv(uv),fv=e=>/^0(?:[\0-\x08\x0E-\x1F!-\x2D\/-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+$/.test(e);function pv(e){return"number"===typeof e?0===e:null===e||("none"===e||"0"===e||fv(e))}const mv=(e,t,n)=>n>t?t:n<e?e:n,gv={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},yv=lt(lt({},gv),{},{transform:e=>mv(0,1,e)}),vv=lt(lt({},gv),{},{default:1}),bv=e=>Math.round(1e5*e)/1e5,xv=/-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/g;const wv=/^(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))$/i,jv=(e,t)=>n=>Boolean("string"===typeof n&&wv.test(n)&&n.startsWith(e)||t&&!function(e){return null==e}(n)&&Object.prototype.hasOwnProperty.call(n,t)),Sv=(e,t,n)=>r=>{if("string"!==typeof r)return r;const[i,o,a,s]=r.match(xv);return{[e]:parseFloat(i),[t]:parseFloat(o),[n]:parseFloat(a),alpha:void 0!==s?parseFloat(s):1}},Nv=lt(lt({},gv),{},{transform:e=>Math.round((e=>mv(0,255,e))(e))}),Ev={test:jv("rgb","red"),parse:Sv("red","green","blue"),transform:e=>{let{red:t,green:n,blue:r,alpha:i=1}=e;return"rgba("+Nv.transform(t)+", "+Nv.transform(n)+", "+Nv.transform(r)+", "+bv(yv.transform(i))+")"}};const kv={test:jv("#"),parse:function(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:Ev.transform},Tv=e=>({test:t=>"string"===typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>"".concat(t).concat(e)}),_v=Tv("deg"),Cv=Tv("%"),Ov=Tv("px"),Av=Tv("vh"),Pv=Tv("vw"),Iv=lt(lt({},Cv),{},{parse:e=>Cv.parse(e)/100,transform:e=>Cv.transform(100*e)}),Dv={test:jv("hsl","hue"),parse:Sv("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:r,alpha:i=1}=e;return"hsla("+Math.round(t)+", "+Cv.transform(bv(n))+", "+Cv.transform(bv(r))+", "+bv(yv.transform(i))+")"}},Mv={test:e=>Ev.test(e)||kv.test(e)||Dv.test(e),parse:e=>Ev.test(e)?Ev.parse(e):Dv.test(e)?Dv.parse(e):kv.parse(e),transform:e=>"string"===typeof e?e:e.hasOwnProperty("red")?Ev.transform(e):Dv.transform(e)},Rv=/(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))/gi;const Lv="number",Fv="color",Uv=/var[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)|#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\)|-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/gi;function Bv(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const a=t.replace(Uv,e=>(Mv.test(e)?(r.color.push(o),i.push(Fv),n.push(Mv.parse(e))):e.startsWith("var(")?(r.var.push(o),i.push("var"),n.push(e)):(r.number.push(o),i.push(Lv),n.push(parseFloat(e))),++o,"${}")).split("${}");return{values:n,split:a,indexes:r,types:i}}function Vv(e){return Bv(e).values}function zv(e){const{split:t,types:n}=Bv(e),r=t.length;return e=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],void 0!==e[o]){const t=n[o];i+=t===Lv?bv(e[o]):t===Fv?Mv.transform(e[o]):e[o]}return i}}const qv=e=>"number"===typeof e?0:e;const Hv={test:function(e){var t,n;return isNaN(e)&&"string"===typeof e&&((null===(t=e.match(xv))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(Rv))||void 0===n?void 0:n.length)||0)>0},parse:Vv,createTransformer:zv,getAnimatableNone:function(e){const t=Vv(e);return zv(e)(t.map(qv))}},Wv=new Set(["brightness","contrast","saturate","opacity"]);function Kv(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(xv)||[];if(!r)return e;const i=n.replace(r,"");let o=Wv.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+i+")"}const Gv=/\b([\x2Da-z]*)\((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\)/g,Yv=lt(lt({},Hv),{},{getAnimatableNone:e=>{const t=e.match(Gv);return t?t.map(Kv).join(" "):e}}),Xv={borderWidth:Ov,borderTopWidth:Ov,borderRightWidth:Ov,borderBottomWidth:Ov,borderLeftWidth:Ov,borderRadius:Ov,radius:Ov,borderTopLeftRadius:Ov,borderTopRightRadius:Ov,borderBottomRightRadius:Ov,borderBottomLeftRadius:Ov,width:Ov,maxWidth:Ov,height:Ov,maxHeight:Ov,top:Ov,right:Ov,bottom:Ov,left:Ov,padding:Ov,paddingTop:Ov,paddingRight:Ov,paddingBottom:Ov,paddingLeft:Ov,margin:Ov,marginTop:Ov,marginRight:Ov,marginBottom:Ov,marginLeft:Ov,backgroundPositionX:Ov,backgroundPositionY:Ov},Qv={rotate:_v,rotateX:_v,rotateY:_v,rotateZ:_v,scale:vv,scaleX:vv,scaleY:vv,scaleZ:vv,skew:_v,skewX:_v,skewY:_v,distance:Ov,translateX:Ov,translateY:Ov,translateZ:Ov,x:Ov,y:Ov,z:Ov,perspective:Ov,transformPerspective:Ov,opacity:yv,originX:Iv,originY:Iv,originZ:Ov},$v=lt(lt({},gv),{},{transform:Math.round}),Jv=lt(lt(lt({},Xv),Qv),{},{zIndex:$v,size:Ov,fillOpacity:yv,strokeOpacity:yv,numOctaves:$v}),Zv=lt(lt({},Jv),{},{color:Mv,backgroundColor:Mv,outlineColor:Mv,fill:Mv,stroke:Mv,borderColor:Mv,borderTopColor:Mv,borderRightColor:Mv,borderBottomColor:Mv,borderLeftColor:Mv,filter:Yv,WebkitFilter:Yv}),eb=e=>Zv[e];function tb(e,t){let n=eb(e);return n!==Yv&&(n=Hv),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const nb=new Set(["auto","none","0"]);const rb=e=>e===gv||e===Ov,ib=(e,t)=>parseFloat(e.split(", ")[t]),ob=(e,t)=>(n,r)=>{let{transform:i}=r;if("none"===i||!i)return 0;const o=i.match(/^matrix3d\(((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)\)$/);if(o)return ib(o[1],t);{const t=i.match(/^matrix\(((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)\)$/);return t?ib(t[1],e):0}},ab=new Set(["x","y","z"]),sb=ky.filter(e=>!ab.has(e));const lb={width:(e,t)=>{let{x:n}=e,{paddingLeft:r="0",paddingRight:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},height:(e,t)=>{let{y:n}=e,{paddingTop:r="0",paddingBottom:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:r}=t;return parseFloat(r)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:r}=t;return parseFloat(r)+(n.max-n.min)},x:ob(4,13),y:ob(5,14)};lb.translateX=lb.x,lb.translateY=lb.y;const cb=new Set;let ub=!1,db=!1;function hb(){if(db){const e=Array.from(cb).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),n=new Map;t.forEach(e=>{const t=function(e){const t=[];return sb.forEach(n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}(e);t.length&&(n.set(e,t),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();const t=n.get(e);t&&t.forEach(t=>{let[n,r]=t;var i;null===(i=e.getValue(n))||void 0===i||i.set(r)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)})}db=!1,ub=!1,cb.forEach(e=>e.complete()),cb.clear()}function fb(){cb.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(db=!0)})}class pb{constructor(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(cb.add(this),ub||(ub=!0,Dy.read(fb),Dy.resolveKeyframes(hb))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;for(let i=0;i<e.length;i++)if(null===e[i])if(0===i){const i=null===r||void 0===r?void 0:r.get(),o=e[e.length-1];if(void 0!==i)e[0]=i;else if(n&&t){const r=n.readValue(t,o);void 0!==r&&null!==r&&(e[0]=r)}void 0===e[0]&&(e[0]=o),r&&void 0===i&&r.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),cb.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,cb.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}let mb=Ey,gb=Ey;const yb=e=>/^-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)$/.test(e),vb=e=>t=>"string"===typeof t&&t.startsWith(e),bb=vb("--"),xb=vb("var(--"),wb=e=>!!xb(e)&&jb.test(e.split("/*")[0].trim()),jb=/var\(--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)$/i,Sb=/^var\(--(?:([\x2D0-9A-Z_a-z]+)|([\x2D0-9A-Z_a-z]+), ?([ #%\(\),-\.0-9A-Za-z]+))\)/;function Nb(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;gb(n<=4,'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.'));const[r,i]=function(e){const t=Sb.exec(e);if(!t)return[,];const[,n,r,i]=t;return["--".concat(null!==n&&void 0!==n?n:r),i]}(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const e=o.trim();return yb(e)?parseFloat(e):e}return wb(i)?Nb(i,t,n+1):i}const Eb=e=>t=>t.test(e),kb=[gv,Ov,Cv,_v,Pv,Av,{test:e=>"auto"===e,parse:e=>e}],Tb=e=>kb.find(Eb(e));class _b extends pb{constructor(e,t,n,r,i){super(e,t,n,r,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let s=0;s<e.length;s++){let n=e[s];if("string"===typeof n&&(n=n.trim(),wb(n))){const r=Nb(n,t.current);void 0!==r&&(e[s]=r),s===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!_y.has(n)||2!==e.length)return;const[r,i]=e,o=Tb(r),a=Tb(i);if(o!==a)if(rb(o)&&rb(a))for(let s=0;s<e.length;s++){const t=e[s];"string"===typeof t&&(e[s]=parseFloat(t))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let r=0;r<e.length;r++)pv(e[r])&&n.push(r);n.length&&function(e,t,n){let r,i=0;for(;i<e.length&&!r;){const t=e[i];"string"===typeof t&&!nb.has(t)&&Bv(t).values.length&&(r=e[i]),i++}if(r&&n)for(const o of t)e[o]=tb(n,r)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=lb[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];void 0!==r&&e.getValue(n,r).jump(r,!1)}measureEndState(){var e;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=r.length-1,a=r[o];r[o]=lb[n](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==a&&void 0===this.finalKeyframe&&(this.finalKeyframe=a),(null===(e=this.removedTransforms)||void 0===e?void 0:e.length)&&this.removedTransforms.forEach(e=>{let[n,r]=e;t.getValue(n).set(r)}),this.resolveNoneKeyframes()}}const Cb=(e,t)=>"zIndex"!==t&&(!("number"!==typeof e&&!Array.isArray(e))||!("string"!==typeof e||!Hv.test(e)&&"0"!==e||e.startsWith("url(")));function Ob(e,t,n,r){const i=e[0];if(null===i)return!1;if("display"===t||"visibility"===t)return!0;const o=e[e.length-1],a=Cb(i,t),s=Cb(o,t);return mb(a===s,"You are trying to animate ".concat(t,' from "').concat(i,'" to "').concat(o,'". ').concat(i," is not an animatable value - to enable this animation set ").concat(i," to a value animatable to ").concat(o," via the `style` property.")),!(!a||!s)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||Zg(n))&&r)}const Ab=e=>null!==e;function Pb(e,t,n){let{repeat:r,repeatType:i="loop"}=t;const o=e.filter(Ab),a=r&&"loop"!==i&&r%2===1?0:o.length-1;return a&&void 0!==n?n:o[a]}const Ib=["autoplay","delay","type","repeat","repeatDelay","repeatType"];class Db{constructor(e){let{autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:a="loop"}=e,s=rt(e,Ib);this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=By.now(),this.options=lt({autoplay:t,delay:n,type:r,repeat:i,repeatDelay:o,repeatType:a},s),this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt}get resolved(){return this._resolved||this.hasAttemptedResolve||(fb(),hb()),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=By.now(),this.hasAttemptedResolve=!0;const{name:n,type:r,velocity:i,delay:o,onComplete:a,onUpdate:s,isGenerator:l}=this.options;if(!l&&!Ob(e,n,r,i)){if(tv||!o)return s&&s(Pb(e,this.options,t)),a&&a(),void this.resolveFinishedPromise();this.options.duration=0}const c=this.initPlayback(e,t);!1!==c&&(this._resolved=lt({keyframes:e,finalKeyframe:t},c),this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Mb=(e,t,n)=>e+(t-e)*n;function Rb(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Lb(e,t){return n=>n>0?t:e}const Fb=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},Ub=[kv,Ev,Dv];function Bb(e){const t=(n=e,Ub.find(e=>e.test(n)));var n;if(mb(Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead.")),!Boolean(t))return!1;let r=t.parse(e);return t===Dv&&(r=function(e){let{hue:t,saturation:n,lightness:r,alpha:i}=e;t/=360,n/=100,r/=100;let o=0,a=0,s=0;if(n){const e=r<.5?r*(1+n):r+n-r*n,i=2*r-e;o=Rb(i,e,t+1/3),a=Rb(i,e,t),s=Rb(i,e,t-1/3)}else o=a=s=r;return{red:Math.round(255*o),green:Math.round(255*a),blue:Math.round(255*s),alpha:i}}(r)),r}const Vb=(e,t)=>{const n=Bb(e),r=Bb(t);if(!n||!r)return Lb(e,t);const i=lt({},n);return e=>(i.red=Fb(n.red,r.red,e),i.green=Fb(n.green,r.green,e),i.blue=Fb(n.blue,r.blue,e),i.alpha=Mb(n.alpha,r.alpha,e),Ev.transform(i))},zb=(e,t)=>n=>t(e(n)),qb=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(zb)},Hb=new Set(["none","hidden"]);function Wb(e,t){return n=>Mb(e,t,n)}function Kb(e){return"number"===typeof e?Wb:"string"===typeof e?wb(e)?Lb:Mv.test(e)?Vb:Xb:Array.isArray(e)?Gb:"object"===typeof e?Mv.test(e)?Vb:Yb:Lb}function Gb(e,t){const n=[...e],r=n.length,i=e.map((e,n)=>Kb(e)(e,t[n]));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}}function Yb(e,t){const n=lt(lt({},e),t),r={};for(const i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=Kb(e[i])(e[i],t[i]));return e=>{for(const t in r)n[t]=r[t](e);return n}}const Xb=(e,t)=>{const n=Hv.createTransformer(t),r=Bv(e),i=Bv(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Hb.has(e)&&!i.values.length||Hb.has(t)&&!r.values.length?function(e,t){return Hb.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):qb(Gb(function(e,t){var n;const r=[],i={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const a=t.types[o],s=e.indexes[a][i[a]],l=null!==(n=e.values[s])&&void 0!==n?n:0;r[o]=l,i[a]++}return r}(r,i),i.values),n):(mb(!0,"Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.")),Lb(e,t))};function Qb(e,t,n){if("number"===typeof e&&"number"===typeof t&&"number"===typeof n)return Mb(e,t,n);return Kb(e)(e,t)}function $b(e,t,n){const r=Math.max(t-5,0);return Hy(n-e(r),t-r)}const Jb={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Zb=.001;function ex(e){let t,n,{duration:r=Jb.duration,bounce:i=Jb.bounce,velocity:o=Jb.velocity,mass:a=Jb.mass}=e;mb(r<=Sy(Jb.maxDuration),"Spring duration must be 10 seconds or less");let s=1-i;s=mv(Jb.minDamping,Jb.maxDamping,s),r=mv(Jb.minDuration,Jb.maxDuration,Ny(r)),s<1?(t=e=>{const t=e*s,n=t*r,i=t-o,a=nx(e,s),l=Math.exp(-n);return Zb-i/a*l},n=e=>{const n=e*s*r,i=n*o+o,a=Math.pow(s,2)*Math.pow(e,2)*r,l=Math.exp(-n),c=nx(Math.pow(e,2),s);return(-t(e)+Zb>0?-1:1)*((i-a)*l)/c}):(t=e=>Math.exp(-e*r)*((e-o)*r+1)-.001,n=e=>Math.exp(-e*r)*(r*r*(o-e)));const l=function(e,t,n){let r=n;for(let i=1;i<tx;i++)r-=e(r)/t(r);return r}(t,n,5/r);if(r=Sy(r),isNaN(l))return{stiffness:Jb.stiffness,damping:Jb.damping,duration:r};{const e=Math.pow(l,2)*a;return{stiffness:e,damping:2*s*Math.sqrt(a*e),duration:r}}}const tx=12;function nx(e,t){return e*Math.sqrt(1-t*t)}const rx=["duration","bounce"],ix=["stiffness","damping","mass"];function ox(e,t){return t.some(t=>void 0!==e[t])}function ax(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jb.visualDuration,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Jb.bounce;const n="object"!==typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const o=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],s={done:!1,value:o},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:f}=function(e){let t=lt({velocity:Jb.velocity,stiffness:Jb.stiffness,damping:Jb.damping,mass:Jb.mass,isResolvedFromDuration:!1},e);if(!ox(e,ix)&&ox(e,rx))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(1.2*n),i=r*r,o=2*mv(.05,1,1-(e.bounce||0))*Math.sqrt(i);t=lt(lt({},t),{},{mass:Jb.mass,stiffness:i,damping:o})}else{const n=ex(e);t=lt(lt(lt({},t),n),{},{mass:Jb.mass}),t.isResolvedFromDuration=!0}return t}(lt(lt({},n),{},{velocity:-Ny(n.velocity||0)})),p=h||0,m=c/(2*Math.sqrt(l*u)),g=a-o,y=Ny(Math.sqrt(l/u)),v=Math.abs(g)<5;let b;if(r||(r=v?Jb.restSpeed.granular:Jb.restSpeed.default),i||(i=v?Jb.restDelta.granular:Jb.restDelta.default),m<1){const e=nx(y,m);b=t=>{const n=Math.exp(-m*y*t);return a-n*((p+m*y*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(1===m)b=e=>a-Math.exp(-y*e)*(g+(p+y*g)*e);else{const e=y*Math.sqrt(m*m-1);b=t=>{const n=Math.exp(-m*y*t),r=Math.min(e*t,300);return a-n*((p+m*y*g)*Math.sinh(r)+e*g*Math.cosh(r))/e}}const x={calculatedDuration:f&&d||null,next:e=>{const t=b(e);if(f)s.done=e>=d;else{let n=0;m<1&&(n=0===e?Sy(p):$b(b,e,t));const o=Math.abs(n)<=r,l=Math.abs(a-t)<=i;s.done=o&&l}return s.value=s.done?a:t,s},toString:()=>{const e=Math.min(Jg(x),$g),t=ay(t=>x.next(e*t).value,e,30);return e+"ms "+t}};return x}function sx(e){let{keyframes:t,velocity:n=0,power:r=.8,timeConstant:i=325,bounceDamping:o=10,bounceStiffness:a=500,modifyTarget:s,min:l,max:c,restDelta:u=.5,restSpeed:d}=e;const h=t[0],f={done:!1,value:h},p=e=>void 0===l?c:void 0===c||Math.abs(l-e)<Math.abs(c-e)?l:c;let m=r*n;const g=h+m,y=void 0===s?g:s(g);y!==g&&(m=y-h);const v=e=>-m*Math.exp(-e/i),b=e=>y+v(e),x=e=>{const t=v(e),n=b(e);f.done=Math.abs(t)<=u,f.value=f.done?y:n};let w,j;const S=e=>{var t;(t=f.value,void 0!==l&&t<l||void 0!==c&&t>c)&&(w=e,j=ax({keyframes:[f.value,p(f.value)],velocity:$b(b,e,f.value),damping:o,stiffness:a,restDelta:u,restSpeed:d}))};return S(0),{calculatedDuration:null,next:e=>{let t=!1;return j||void 0!==w||(t=!0,x(e),S(e)),void 0!==w&&e>=w?j.next(e-w):(!t&&x(e),f)}}}const lx=rv(.42,0,1,1),cx=rv(0,0,.58,1),ux=rv(.42,0,.58,1),dx={linear:Ey,easeIn:lx,easeInOut:ux,easeOut:cx,circIn:uv,circInOut:hv,circOut:dv,backIn:sv,backInOut:lv,backOut:av,anticipate:cv},hx=e=>{if(ty(e)){gb(4===e.length,"Cubic bezier arrays must contain four numerical values.");const[t,n,r,i]=e;return rv(t,n,r,i)}return"string"===typeof e?(gb(void 0!==dx[e],"Invalid easing type '".concat(e,"'")),dx[e]):e};function fx(e,t){let{clamp:n=!0,ease:r,mixer:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=e.length;if(gb(o===t.length,"Both input and output ranges must be the same length"),1===o)return()=>t[0];if(2===o&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=function(e,t,n){const r=[],i=n||Qb,o=e.length-1;for(let a=0;a<o;a++){let n=i(e[a],e[a+1]);if(t){const e=Array.isArray(t)?t[a]||Ey:t;n=qb(e,n)}r.push(n)}return r}(t,r,i),l=s.length,c=n=>{if(a&&n<e[0])return t[0];let r=0;if(l>1)for(;r<e.length-2&&!(n<e[r+1]);r++);const i=oy(e[r],e[r+1],n);return s[r](i)};return n?t=>c(mv(e[0],e[o-1],t)):c}function px(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=oy(0,t,r);e.push(Mb(n,1,i))}}(t,e.length-1),t}function mx(e){let{duration:t=300,keyframes:n,times:r,ease:i="easeInOut"}=e;const o=(e=>Array.isArray(e)&&"number"!==typeof e[0])(i)?i.map(hx):hx(i),a={done:!1,value:n[0]},s=function(e,t){return e.map(e=>e*t)}(r&&r.length===n.length?r:px(n),t),l=fx(s,n,{ease:Array.isArray(o)?o:(c=n,u=o,c.map(()=>u||ux).splice(0,c.length-1))});var c,u;return{calculatedDuration:t,next:e=>(a.value=l(e),a.done=e>=t,a)}}const gx=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:()=>Dy.update(t,!0),stop:()=>My(t),now:()=>Ry.isProcessing?Ry.timestamp:By.now()}},yx={decay:sx,inertia:sx,tween:mx,keyframes:mx,spring:ax},vx=e=>e/100;class bx extends Db{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.teardown();const{onStop:e}=this.options;e&&e()};const{name:t,motionValue:n,element:r,keyframes:i}=this.options,o=(null===r||void 0===r?void 0:r.KeyframeResolver)||pb;this.resolver=new o(i,(e,t)=>this.onKeyframesResolved(e,t),t,n,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:n=0,repeatDelay:r=0,repeatType:i,velocity:o=0}=this.options,a=Zg(t)?t:yx[t]||mx;let s,l;a!==mx&&"number"!==typeof e[0]&&(s=qb(vx,Qb(e[0],e[1])),e=[0,100]);const c=a(lt(lt({},this.options),{},{keyframes:e}));"mirror"===i&&(l=a(lt(lt({},this.options),{},{keyframes:[...e].reverse(),velocity:-o}))),null===c.calculatedDuration&&(c.calculatedDuration=Jg(c));const{calculatedDuration:u}=c,d=u+r;return{generator:c,mirroredGenerator:l,mapPercentToKeyframes:s,calculatedDuration:u,resolvedDuration:d,totalDuration:d*(n+1)-r}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),"paused"!==this.pendingPlayState&&e?this.state=this.pendingPlayState:this.pause()}tick(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{resolved:n}=this;if(!n){const{keyframes:e}=this.options;return{done:!0,value:e[e.length-1]}}const{finalKeyframe:r,generator:i,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:s,calculatedDuration:l,totalDuration:c,resolvedDuration:u}=n;if(null===this.startTime)return i.next(0);const{delay:d,repeat:h,repeatType:f,repeatDelay:p,onUpdate:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-c/this.speed,this.startTime)),t?this.currentTime=e:null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const g=this.currentTime-d*(this.speed>=0?1:-1),y=this.speed>=0?g<0:g>c;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=c);let v=this.currentTime,b=i;if(h){const e=Math.min(this.currentTime,c)/u;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,h+1);Boolean(t%2)&&("reverse"===f?(n=1-n,p&&(n-=p/u)):"mirror"===f&&(b=o)),v=mv(0,1,n)*u}const x=y?{done:!1,value:s[0]}:b.next(v);a&&(x.value=a(x.value));let{done:w}=x;y||null===l||(w=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const j=null===this.holdTime&&("finished"===this.state||"running"===this.state&&w);return j&&void 0!==r&&(x.value=Pb(s,this.options,r)),m&&m(x.value),j&&this.finish(),x}get duration(){const{resolved:e}=this;return e?Ny(e.calculatedDuration):0}get time(){return Ny(this.currentTime)}set time(e){e=Sy(e),this.currentTime=e,null!==this.holdTime||0===this.speed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Ny(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved)return void(this.pendingPlayState="running");if(this.isStopped)return;const{driver:e=gx,onPlay:t,startTime:n}=this.options;this.driver||(this.driver=e(e=>this.tick(e))),t&&t();const r=this.driver.now();null!==this.holdTime?this.startTime=r-this.holdTime:this.startTime?"finished"===this.state&&(this.startTime=r):this.startTime=null!==n&&void 0!==n?n:this.calcStartTime(),"finished"===this.state&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;this._resolved?(this.state="paused",this.holdTime=null!==(e=this.currentTime)&&void 0!==e?e:0):this.pendingPlayState="paused"}complete(){"running"!==this.state&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){null!==this.cancelTime&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const xx=new Set(["opacity","clipPath","filter","transform"]);const wx=Kg(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),jx=["onComplete","onUpdate","motionValue","element"],Sx=["motionValue","onUpdate","onComplete","element"];const Nx={anticipate:cv,backInOut:lv,circInOut:hv};class Ex extends Db{constructor(e){super(e);const{name:t,motionValue:n,element:r,keyframes:i}=this.options;this.resolver=new _b(i,(e,t)=>this.onKeyframesResolved(e,t),t,n,r),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:n=300,times:r,ease:i,type:o,motionValue:a,name:s,startTime:l}=this.options;if(!a.owner||!a.owner.current)return!1;var c;if("string"===typeof i&&iy()&&i in Nx&&(i=Nx[i]),Zg((c=this.options).type)||"spring"===c.type||!sy(c.ease)){const t=this.options,{onComplete:a,onUpdate:s,motionValue:l,element:c}=t,u=rt(t,jx),d=function(e,t){const n=new bx(lt(lt({},t),{},{keyframes:e,repeat:0,delay:0,isGenerator:!0}));let r={done:!1,value:e[0]};const i=[];let o=0;for(;!r.done&&o<2e4;)r=n.sample(o),i.push(r.value),o+=10;return{times:void 0,keyframes:i,duration:o-10,ease:"linear"}}(e,u);1===(e=d.keyframes).length&&(e[1]=e[0]),n=d.duration,r=d.times,i=d.ease,o="keyframes"}const u=function(e,t,n){let{delay:r=0,duration:i=300,repeat:o=0,repeatType:a="loop",ease:s="easeInOut",times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const c={[t]:n};l&&(c.offset=l);const u=uy(s,i);return Array.isArray(u)&&(c.easing=u),e.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:o+1,direction:"reverse"===a?"alternate":"normal"})}(a.owner.current,s,e,lt(lt({},this.options),{},{duration:n,times:r,ease:i}));return u.startTime=null!==l&&void 0!==l?l:this.calcStartTime(),this.pendingTimeline?(ey(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:n}=this.options;a.set(Pb(e,this.options,t)),n&&n(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:n,times:r,type:o,ease:i,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return Ny(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return Ny(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.currentTime=Sy(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(this._resolved){const{resolved:t}=this;if(!t)return Ey;const{animation:n}=t;ey(n,e)}else this.pendingTimeline=e;return Ey}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;"finished"===t.playState&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:n,duration:r,type:i,ease:o,times:a}=e;if("idle"===t.playState||"finished"===t.playState)return;if(this.time){const e=this.options,{motionValue:t,onUpdate:s,onComplete:l,element:c}=e,u=rt(e,Sx),d=new bx(lt(lt({},u),{},{keyframes:n,duration:r,type:i,ease:o,times:a,isGenerator:!0})),h=Sy(this.time);t.setWithVelocity(d.sample(h-10).value,d.sample(h).value,10)}const{onStop:s}=this.options;s&&s(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:o,type:a}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:s,transformTemplate:l}=t.owner.getProps();return wx()&&n&&xx.has(n)&&!s&&!l&&!r&&"mirror"!==i&&0!==o&&"inertia"!==a}}const kx={type:"spring",stiffness:500,damping:25,restSpeed:10},Tx={type:"keyframes",duration:.8},_x={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Cx=(e,t)=>{let{keyframes:n}=t;return n.length>2?Tx:Ty.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:kx:_x},Ox=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"];const Ax=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0;return a=>{const s=Qg(r,e)||{},l=s.delay||r.delay||0;let{elapsed:c=0}=r;c-=Sy(l);let u=lt(lt({keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity()},s),{},{delay:-c,onUpdate:e=>{t.set(e),s.onUpdate&&s.onUpdate(e)},onComplete:()=>{a(),s.onComplete&&s.onComplete()},name:e,motionValue:t,element:o?void 0:i});(function(e){let{when:t,delay:n,delayChildren:r,staggerChildren:i,staggerDirection:o,repeat:a,repeatType:s,repeatDelay:l,from:c,elapsed:u}=e,d=rt(e,Ox);return!!Object.keys(d).length})(s)||(u=lt(lt({},u),Cx(e,u))),u.duration&&(u.duration=Sy(u.duration)),u.repeatDelay&&(u.repeatDelay=Sy(u.repeatDelay)),void 0!==u.from&&(u.keyframes[0]=u.from);let d=!1;if((!1===u.type||0===u.duration&&!u.repeatDelay)&&(u.duration=0,0===u.delay&&(d=!0)),(tv||Oy)&&(d=!0,u.duration=0,u.delay=0),d&&!o&&void 0!==t.get()){const e=Pb(u.keyframes,s);if(void 0!==e)return Dy.update(()=>{u.onUpdate(e),u.onComplete()}),new Xg([])}return!o&&Ex.supports(u)?new Ex(u):new bx(u)}},Px=["transition","transitionEnd"];function Ix(e,t){let{protectedKeys:n,needsAnimating:r}=e;const i=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,i}function Dx(e,t){let{delay:n=0,transitionOverride:r,type:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var o;let{transition:a=e.getDefaultTransition(),transitionEnd:s}=t,l=rt(t,Px);r&&(a=r);const c=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const d in l){const t=e.getValue(d,null!==(o=e.latestValues[d])&&void 0!==o?o:null),r=l[d];if(void 0===r||u&&Ix(u,d))continue;const i=lt({delay:n},Qg(a||{},d));let s=!1;if(window.MotionHandoffAnimation){const t=ev(e);if(t){const e=window.MotionHandoffAnimation(t,d,Dy);null!==e&&(i.startTime=e,s=!0)}}$y(e,d),t.start(Ax(d,t,r,e.shouldReduceMotion&&_y.has(d)?{type:!1}:i,e,s));const h=t.animation;h&&c.push(h)}return s&&Promise.all(c).then(()=>{Dy.update(()=>{s&&function(e,t){let n=qg(e,t)||{},{transitionEnd:r={},transition:i={}}=n,o=rt(n,Yy);o=lt(lt({},o),r);for(const a in o)Xy(e,a,Cy(o[a]))}(e,s)})}),c}function Mx(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var r;const i=qg(e,t,"exit"===n.type?null===(r=e.presenceContext)||void 0===r?void 0:r.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(o=n.transitionOverride);const a=i?()=>Promise.all(Dx(e,i,n)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:i=0,staggerChildren:a,staggerDirection:s}=o;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=arguments.length>5?arguments[5]:void 0;const a=[],s=(e.variantChildren.size-1)*r,l=1===i?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r}:function(){return s-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r};return Array.from(e.variantChildren).sort(Rx).forEach((e,r)=>{e.notify("AnimationStart",t),a.push(Mx(e,t,lt(lt({},o),{},{delay:n+l(r)})).then(()=>e.notify("AnimationComplete",t)))}),Promise.all(a)}(e,t,i+r,a,s,n)}:()=>Promise.resolve(),{when:l}=o;if(l){const[e,t]="beforeChildren"===l?[a,s]:[s,a];return e().then(()=>t())}return Promise.all([a(),s(n.delay)])}function Rx(e,t){return e.sortNodePosition(t)}const Lx=Wg.length;function Fx(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&Fx(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let n=0;n<Lx;n++){const r=Wg[n],i=e.props[r];(Bg(i)||!1===i)&&(t[r]=i)}return t}const Ux=["transition","transitionEnd"],Bx=[...Hg].reverse(),Vx=Hg.length;function zx(e){return t=>Promise.all(t.map(t=>{let{animation:n,options:r}=t;return function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const i=t.map(t=>Mx(e,t,r));n=Promise.all(i)}else if("string"===typeof t)n=Mx(e,t,r);else{const i="function"===typeof t?qg(e,t,r.custom):t;n=Promise.all(Dx(e,i,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}(e,n,r)}))}function qx(e){let t=zx(e),n=Kx(),r=!0;const i=t=>(n,r)=>{var i;const o=qg(e,r,"exit"===t?null===(i=e.presenceContext)||void 0===i?void 0:i.custom:void 0);if(o){const{transition:e,transitionEnd:t}=o,r=rt(o,Ux);n=lt(lt(lt({},n),r),t)}return n};function o(o){const{props:a}=e,s=Fx(e.parent)||{},l=[],c=new Set;let u={},d=1/0;for(let t=0;t<Vx;t++){const h=Bx[t],f=n[h],p=void 0!==a[h]?a[h]:s[h],m=Bg(p),g=h===o?f.isActive:null;!1===g&&(d=t);let y=p===s[h]&&p!==a[h]&&m;if(y&&r&&e.manuallyAnimateOnMount&&(y=!1),f.protectedKeys=lt({},u),!f.isActive&&null===g||!p&&!f.prevProp||Lg(p)||"boolean"===typeof p)continue;const v=Hx(f.prevProp,p);let b=v||h===o&&f.isActive&&!y&&m||t>d&&m,x=!1;const w=Array.isArray(p)?p:[p];let j=w.reduce(i(h),{});!1===g&&(j={});const{prevResolvedValues:S={}}=f,N=lt(lt({},S),j),E=t=>{b=!0,c.has(t)&&(x=!0,c.delete(t)),f.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in N){const t=j[e],n=S[e];if(u.hasOwnProperty(e))continue;let r=!1;r=Fg(t)&&Fg(n)?!Ug(t,n):t!==n,r?void 0!==t&&null!==t?E(e):c.add(e):void 0!==t&&c.has(e)?E(e):f.protectedKeys[e]=!0}f.prevProp=p,f.prevResolvedValues=j,f.isActive&&(u=lt(lt({},u),j)),r&&e.blockInitialAnimation&&(b=!1);b&&(!(y&&v)||x)&&l.push(...w.map(e=>({animation:e,options:{type:h}})))}if(c.size){const t={};c.forEach(n=>{const r=e.getBaseTarget(n),i=e.getValue(n);i&&(i.liveStyle=!0),t[n]=null!==r&&void 0!==r?r:null}),l.push({animation:t})}let h=Boolean(l.length);return!r||!1!==a.initial&&a.initial!==a.animate||e.manuallyAnimateOnMount||(h=!1),r=!1,h?t(l):Promise.resolve()}return{animateChanges:o,setActive:function(t,r){var i;if(n[t].isActive===r)return Promise.resolve();null===(i=e.variantChildren)||void 0===i||i.forEach(e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)}),n[t].isActive=r;const a=o(t);for(const e in n)n[e].protectedKeys={};return a},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=Kx(),r=!0}}}function Hx(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!Ug(t,e)}function Wx(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Kx(){return{animate:Wx(!0),whileInView:Wx(),whileHover:Wx(),whileTap:Wx(),whileDrag:Wx(),whileFocus:Wx(),exit:Wx()}}class Gx{constructor(e){this.isMounted=!1,this.node=e}update(){}}let Yx=0;const Xx={animation:{Feature:class extends Gx{constructor(e){super(e),e.animationState||(e.animationState=qx(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Lg(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null===(e=this.unmountControls)||void 0===e||e.call(this)}}},exit:{Feature:class extends Gx{constructor(){super(...arguments),this.id=Yx++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}}};function Qx(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function $x(e){return{point:{x:e.pageX,y:e.pageY}}}function Jx(e,t,n,r){return Qx(e,t,(e=>t=>gy(t)&&e(t,$x(t)))(n),r)}const Zx=(e,t)=>Math.abs(e-t);class ew{constructor(e,t){let{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=rw(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=Zx(e.x,t.x),r=Zx(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;const{point:r}=e,{timestamp:i}=Ry;this.history.push(lt(lt({},r),{},{timestamp:i}));const{onStart:o,onMove:a}=this.handlers;t||(o&&o(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),a&&a(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=tw(t,this.transformPagePoint),Dy.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const o=rw("pointercancel"===e.type?this.lastMoveEventInfo:tw(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,o),r&&r(e,o)},!gy(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=n,this.contextWindow=r||window;const o=tw($x(e),this.transformPagePoint),{point:a}=o,{timestamp:s}=Ry;this.history=[lt(lt({},a),{},{timestamp:s})];const{onSessionStart:l}=t;l&&l(e,rw(o,this.history)),this.removeListeners=qb(Jx(this.contextWindow,"pointermove",this.handlePointerMove),Jx(this.contextWindow,"pointerup",this.handlePointerUp),Jx(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),My(this.updatePoint)}}function tw(e,t){return t?{point:t(e.point)}:e}function nw(e,t){return{x:e.x-t.x,y:e.y-t.y}}function rw(e,t){let{point:n}=e;return{point:n,delta:nw(n,ow(t)),offset:nw(n,iw(t)),velocity:aw(t,.1)}}function iw(e){return e[0]}function ow(e){return e[e.length-1]}function aw(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=ow(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Sy(t)));)n--;if(!r)return{x:0,y:0};const o=Ny(i.timestamp-r.timestamp);if(0===o)return{x:0,y:0};const a={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function sw(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function lw(e){return e.max-e.min}function cw(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=Mb(t.min,t.max,e.origin),e.scale=lw(n)/lw(t),e.translate=Mb(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function uw(e,t,n,r){cw(e.x,t.x,n.x,r?r.originX:void 0),cw(e.y,t.y,n.y,r?r.originY:void 0)}function dw(e,t,n){e.min=n.min+t.min,e.max=e.min+lw(t)}function hw(e,t,n){e.min=t.min-n.min,e.max=e.min+lw(t)}function fw(e,t,n){hw(e.x,t.x,n.x),hw(e.y,t.y,n.y)}function pw(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function mw(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const gw=.35;function yw(e,t,n){return{min:vw(e,t),max:vw(e,n)}}function vw(e,t){return"number"===typeof e?e:e[t]||0}const bw=()=>({x:{min:0,max:0},y:{min:0,max:0}});function xw(e){return[e("x"),e("y")]}function ww(e){let{top:t,left:n,right:r,bottom:i}=e;return{x:{min:n,max:r},y:{min:t,max:i}}}function jw(e){return void 0===e||1===e}function Sw(e){let{scale:t,scaleX:n,scaleY:r}=e;return!jw(t)||!jw(n)||!jw(r)}function Nw(e){return Sw(e)||Ew(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Ew(e){return kw(e.x)||kw(e.y)}function kw(e){return e&&"0%"!==e}function Tw(e,t,n){return n+t*(e-n)}function _w(e,t,n,r,i){return void 0!==i&&(e=Tw(e,i,r)),Tw(e,n,r)+t}function Cw(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;e.min=_w(e.min,t,n,r,i),e.max=_w(e.max,t,n,r,i)}function Ow(e,t){let{x:n,y:r}=t;Cw(e.x,n.translate,n.scale,n.originPoint),Cw(e.y,r.translate,r.scale,r.originPoint)}const Aw=.999999999999,Pw=1.0000000000001;function Iw(e,t){e.min=e.min+t,e.max=e.max+t}function Dw(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;Cw(e,t,n,Mb(e.min,e.max,i),r)}function Mw(e,t){Dw(e.x,t.x,t.scaleX,t.scale,t.originX),Dw(e.y,t.y,t.scaleY,t.scale,t.originY)}function Rw(e,t){return ww(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const Lw=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null},Fw=new WeakMap;class Uw{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}start(e){let{snapToCursor:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:r}=this.getProps();this.panSession=new ew(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor($x(e).point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(o=n)||"y"===o?dy[o]?null:(dy[o]=!0,()=>{dy[o]=!1}):dy.x||dy.y?null:(dy.x=dy.y=!0,()=>{dy.x=dy.y=!1}),!this.openDragLock))return;var o;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),xw(e=>{let t=this.getAxisMotionValue(e).get()||0;if(Cv.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=lw(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t}),i&&Dy.postRender(()=>i(e,t)),$y(this.visualElement,"transform");const{animationState:a}=this.visualElement;a&&a.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:o}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:a}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(a),void(null!==this.currentDirection&&i&&i(this.currentDirection));this.updateAxis("x",t.point,a),this.updateAxis("y",t.point,a),this.visualElement.render(),o&&o(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>xw(e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())})},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,contextWindow:Lw(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&Dy.postRender(()=>i(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!Bw(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=function(e,t,n){let{min:r,max:i}=t;return void 0!==r&&e<r?e=n?Mb(r,e,n.min):Math.max(e,r):void 0!==i&&e>i&&(e=n?Mb(i,e,n.max):Math.min(e,i)),e}(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,i=this.constraints;t&&sw(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,t){let{top:n,left:r,bottom:i,right:o}=t;return{x:pw(e.x,r,o),y:pw(e.y,n,i)}}(r.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gw;return!1===e?e=0:!0===e&&(e=gw),{x:yw(e,"left","right"),y:yw(e,"top","bottom")}}(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&xw(e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!sw(e))return!1;const n=e.current;gb(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=function(e,t,n){const r=Rw(e,n),{scroll:i}=t;return i&&(Iw(r.x,i.offset.x),Iw(r.y,i.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let o=function(e,t){return{x:mw(e.x,t.x),y:mw(e.y,t.y)}}(r.layout.layoutBox,i);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(o));this.hasMutatedConstraints=!!e,e&&(o=ww(e))}return o}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),s=this.constraints||{},l=xw(a=>{if(!Bw(a,t,this.currentDirection))return;let l=s&&s[a]||{};o&&(l={min:0,max:0});const c=r?200:1e6,u=r?40:1e7,d=lt(lt({type:"inertia",velocity:n?e[a]:0,bounceStiffness:c,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10},i),l);return this.startAxisValueAnimation(a,d)});return Promise.all(l).then(a)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return $y(this.visualElement,e),n.start(Ax(e,n,0,t,this.visualElement,!1))}stopAnimation(){xw(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){xw(e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()})}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t="_drag".concat(e.toUpperCase()),n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){xw(t=>{const{drag:n}=this.getProps();if(!Bw(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:o}=r.layout.layoutBox[t];i.set(e[t]-Mb(n,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!sw(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};xw(e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const n=t.get();r[e]=function(e,t){let n=.5;const r=lw(e),i=lw(t);return i>r?n=oy(t.min,t.max-r,e.min):r>i&&(n=oy(e.min,e.max-i,t.min)),mv(0,1,n)}({min:n,max:n},this.constraints[e])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),xw(t=>{if(!Bw(t,e,null))return;const n=this.getAxisMotionValue(t),{min:i,max:o}=this.constraints[t];n.set(Mb(i,o,r[t]))})}addListeners(){if(!this.visualElement.current)return;Fw.set(this.visualElement,this);const e=Jx(this.visualElement.current,"pointerdown",e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)}),t=()=>{const{dragConstraints:e}=this.getProps();sw(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),Dy.read(t);const i=Qx(window,"resize",()=>this.scalePositionWithinConstraints()),o=n.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(xw(e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))}),this.visualElement.render())});return()=>{i(),e(),r(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:o=gw,dragMomentum:a=!0}=e;return lt(lt({},e),{},{drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:o,dragMomentum:a})}}function Bw(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const Vw=e=>(t,n)=>{e&&Dy.postRender(()=>e(t,n))};const zw=(0,i.createContext)({}),qw={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Hw(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ww={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!Ov.test(e))return e;e=parseFloat(e)}const n=Hw(e,t.target.x),r=Hw(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},Kw={correct:(e,t)=>{let{treeScale:n,projectionDelta:r}=t;const i=e,o=Hv.parse(e);if(o.length>5)return i;const a=Hv.createTransformer(e),s="number"!==typeof o[0]?1:0,l=r.x.scale*n.x,c=r.y.scale*n.y;o[0+s]/=l,o[1+s]/=c;const u=Mb(l,c,.5);return"number"===typeof o[2+s]&&(o[2+s]/=u),"number"===typeof o[3+s]&&(o[3+s]/=u),a(o)}},Gw={};const{schedule:Yw,cancel:Xw}=Iy(queueMicrotask,!1);class Qw extends i.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=e;var o;o=Jw,Object.assign(Gw,o),i&&(t.group&&t.group.add(i),n&&n.register&&r&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions(lt(lt({},i.options),{},{onExitComplete:()=>this.safeToRemove()}))),qw.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:i}=this.props,o=n.projection;return o?(o.isPresent=i,r||e.layoutDependency!==t||void 0===t?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||Dy.postRender(()=>{const e=o.getStack();e&&e.members.length||this.safeToRemove()})),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Yw.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function $w(e){const[t,n]=Ge(),r=(0,i.useContext)(Ue);return(0,Fe.jsx)(Qw,lt(lt({},e),{},{layoutGroup:r,switchLayoutGroup:(0,i.useContext)(zw),isPresent:t,safeToRemove:n}))}const Jw={borderRadius:lt(lt({},Ww),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:Ww,borderTopRightRadius:Ww,borderBottomLeftRadius:Ww,borderBottomRightRadius:Ww,boxShadow:Kw};const Zw=(e,t)=>e.depth-t.depth;class ej{constructor(){this.children=[],this.isDirty=!1}add(e){Vy(this.children,e),this.isDirty=!0}remove(e){zy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Zw),this.isDirty=!1,this.children.forEach(e)}}function tj(e,t){const n=By.now(),r=i=>{let{timestamp:o}=i;const a=o-n;a>=t&&(My(r),e(a-t))};return Dy.read(r,!0),()=>My(r)}function nj(e){const t=Qy(e)?e.get():e;return n=t,Boolean(n&&"object"===typeof n&&n.mix&&n.toValue)?t.toValue():t;var n}const rj=["TopLeft","TopRight","BottomLeft","BottomRight"],ij=rj.length,oj=e=>"string"===typeof e?parseFloat(e):e,aj=e=>"number"===typeof e||Ov.test(e);function sj(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const lj=uj(0,.5,dv),cj=uj(.5,.95,Ey);function uj(e,t,n){return r=>r<e?0:r>t?1:n(oy(e,t,r))}function dj(e,t){e.min=t.min,e.max=t.max}function hj(e,t){dj(e.x,t.x),dj(e.y,t.y)}function fj(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function pj(e,t,n,r,i){return e=Tw(e-=t,1/n,r),void 0!==i&&(e=Tw(e,1/i,r)),e}function mj(e,t,n,r,i){let[o,a,s]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;Cv.test(t)&&(t=parseFloat(t),t=Mb(a.min,a.max,t/100)-a.min);if("number"!==typeof t)return;let s=Mb(o.min,o.max,r);e===o&&(s-=t),e.min=pj(e.min,t,n,s,i),e.max=pj(e.max,t,n,s,i)}(e,t[o],t[a],t[s],t.scale,r,i)}const gj=["x","scaleX","originX"],yj=["y","scaleY","originY"];function vj(e,t,n,r){mj(e.x,t,gj,n?n.x:void 0,r?r.x:void 0),mj(e.y,t,yj,n?n.y:void 0,r?r.y:void 0)}function bj(e){return 0===e.translate&&1===e.scale}function xj(e){return bj(e.x)&&bj(e.y)}function wj(e,t){return e.min===t.min&&e.max===t.max}function jj(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Sj(e,t){return jj(e.x,t.x)&&jj(e.y,t.y)}function Nj(e){return lw(e.x)/lw(e.y)}function Ej(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class kj{constructor(){this.members=[]}add(e){Vy(this.members,e),e.scheduleRender()}remove(e){if(zy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex(t=>e===t);if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Tj={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},_j="undefined"!==typeof window&&void 0!==window.MotionDebug,Cj=["","X","Y","Z"],Oj={visibility:"hidden"};let Aj=0;function Pj(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function Ij(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=ev(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:t,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Dy,!(t||r))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&Ij(r)}function Dj(e){let{attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:i,resetTransform:o}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=Aj++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,_j&&(Tj.totalNodes=Tj.resolvedTargetDeltas=Tj.recalculatedProjection=0),this.nodes.forEach(Lj),this.nodes.forEach(Hj),this.nodes.forEach(Wj),this.nodes.forEach(Fj),_j&&window.MotionDebug.record(Tj)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new ej)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new qy),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root.hasTreeAnimated;if(this.instance)return;var r;this.isSVG=(r=e)instanceof SVGElement&&"svg"!==r.tagName,this.instance=e;const{layoutId:i,layout:o,visualElement:a}=this.options;if(a&&!a.current&&a.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(o||i)&&(this.isLayoutDirty=!0),t){let n;const r=()=>this.root.updateBlockedByResize=!1;t(e,()=>{this.root.updateBlockedByResize=!0,n&&n(),n=tj(r,250),qw.hasAnimatedSinceResize&&(qw.hasAnimatedSinceResize=!1,this.nodes.forEach(qj))})}i&&this.root.registerSharedNode(i,this),!1!==this.options.animate&&a&&(i||o)&&this.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n,hasRelativeTargetChanged:r,layout:i}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const o=this.options.transition||a.getDefaultTransition()||$j,{onLayoutAnimationStart:s,onLayoutAnimationComplete:l}=a.getProps(),c=!this.targetLayout||!Sj(this.targetLayout,i)||r,u=!n&&r;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||u||n&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,u);const e=lt(lt({},Qg(o,"layout")),{},{onPlay:s,onComplete:l});(a.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e)}else n||qj(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=i})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,My(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Kj),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Ij(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let i=0;i<this.path.length;i++){const e=this.path[i];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(Bj);this.isUpdating||this.nodes.forEach(Vj),this.isUpdating=!1,this.nodes.forEach(zj),this.nodes.forEach(Mj),this.nodes.forEach(Rj),this.clearAllSnapshots();const e=By.now();Ry.delta=mv(0,1e3/60,e-Ry.timestamp),Ry.timestamp=e,Ry.isProcessing=!0,Ly.update.process(Ry),Ly.preRender.process(Ry),Ly.render.process(Ry),Ry.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Yw.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Uj),this.sharedNodes.forEach(Gj)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Dy.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Dy.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t){const t=i(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!o)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!xj(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,i=r!==this.prevTransformTemplateValue;e&&(t||Nw(this.latestValues)||i)&&(o(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),eS((r=n).x),eS(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){var e;const{visualElement:t}=this.options;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};const n=t.measureViewportBox();if(!((null===(e=this.scroll)||void 0===e?void 0:e.wasRoot)||this.path.some(nS))){const{scroll:e}=this.root;e&&(Iw(n.x,e.offset.x),Iw(n.y,e.offset.y))}return n}removeElementScroll(e){var t;const n={x:{min:0,max:0},y:{min:0,max:0}};if(hj(n,e),null===(t=this.scroll)||void 0===t?void 0:t.wasRoot)return n;for(let r=0;r<this.path.length;r++){const t=this.path[r],{scroll:i,options:o}=t;t!==this.root&&i&&o.layoutScroll&&(i.wasRoot&&hj(n,e),Iw(n.x,i.offset.x),Iw(n.y,i.offset.y))}return n}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};hj(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&Mw(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),Nw(e.latestValues)&&Mw(n,e.latestValues)}return Nw(this.latestValues)&&Mw(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};hj(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!Nw(e.latestValues))continue;Sw(e.latestValues)&&e.updateSnapshot();const r=bw();hj(r,e.measurePageBox()),vj(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return Nw(this.latestValues)&&vj(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options=lt(lt(lt({},this.options),e),{},{crossfade:void 0===e.crossfade||e.crossfade})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ry.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(e||r&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:i,layoutId:o}=this.options;if(this.layout&&(i||o)){if(this.resolvedRelativeTargetAt=Ry.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},fw(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),hj(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var a,s,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),a=this.target,s=this.relativeTarget,l=this.relativeParent.target,dw(a.x,s.x,l.x),dw(a.y,s.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):hj(this.target,this.layout.layoutBox),Ow(this.target,this.targetDelta)):hj(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},fw(this.relativeTargetOrigin,this.target,e.target),hj(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}_j&&Tj.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!Sw(this.parent.latestValues)&&!Ew(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===Ry.timestamp&&(r=!1),r)return;const{layout:i,layoutId:o}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!i&&!o)return;hj(this.layoutCorrected,this.layout.layoutBox);const a=this.treeScale.x,s=this.treeScale.y;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=n.length;if(!i)return;let o,a;t.x=t.y=1;for(let s=0;s<i;s++){o=n[s],a=o.projectionDelta;const{visualElement:i}=o.options;i&&i.props.style&&"contents"===i.props.style.display||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Mw(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,Ow(e,a)),r&&Nw(o.latestValues)&&Mw(e,o.latestValues))}t.x<Pw&&t.x>Aw&&(t.x=1),t.y<Pw&&t.y>Aw&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox,t.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:l}=t;l?(this.projectionDelta&&this.prevProjectionDelta?(fj(this.prevProjectionDelta.x,this.projectionDelta.x),fj(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),uw(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===a&&this.treeScale.y===s&&Ej(this.projectionDelta.x,this.prevProjectionDelta.x)&&Ej(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),_j&&Tj.recalculatedProjection++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];var t;if(null===(t=this.options.visualElement)||void 0===t||t.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},i=lt({},this.latestValues),o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const a={x:{min:0,max:0},y:{min:0,max:0}},s=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,u=Boolean(s&&!c&&!0===this.options.crossfade&&!this.path.some(Qj));let d;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;Yj(o.x,e.x,n),Yj(o.y,e.y,n),this.setTargetDelta(o),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(fw(a,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(e,t,n,r){Xj(e.x,t.x,n.x,r),Xj(e.y,t.y,n.y,r)}(this.relativeTarget,this.relativeTargetOrigin,a,n),d&&function(e,t){return wj(e.x,t.x)&&wj(e.y,t.y)}(this.relativeTarget,d)&&(this.isProjectionDirty=!1),d||(d={x:{min:0,max:0},y:{min:0,max:0}}),hj(d,this.relativeTarget)),s&&(this.animationValues=i,function(e,t,n,r,i,o){i?(e.opacity=Mb(0,void 0!==n.opacity?n.opacity:1,lj(r)),e.opacityExit=Mb(void 0!==t.opacity?t.opacity:1,0,cj(r))):o&&(e.opacity=Mb(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(let a=0;a<ij;a++){const i="border".concat(rj[a],"Radius");let o=sj(t,i),s=sj(n,i);void 0===o&&void 0===s||(o||(o=0),s||(s=0),0===o||0===s||aj(o)===aj(s)?(e[i]=Math.max(Mb(oj(o),oj(s),r),0),(Cv.test(s)||Cv.test(o))&&(e[i]+="%")):e[i]=s)}(t.rotate||n.rotate)&&(e.rotate=Mb(t.rotate||0,n.rotate||0,r))}(i,r,this.latestValues,n,u,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(My(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Dy.update(()=>{qw.hasAnimatedSinceResize=!0,this.currentAnimation=function(e,t,n){const r=Qy(e)?e:Gy(e);return r.start(Ax("",r,t,n)),r.animation}(0,1e3,lt(lt({},e),{},{onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}})),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:i}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&tS(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=lw(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=lw(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}hj(t,n),Mw(t,i),uw(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new kj);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;const r={};n.z&&Pj("z",e,r,this.animationValues);for(let i=0;i<Cj.length;i++)Pj("rotate".concat(Cj[i]),e,r,this.animationValues),Pj("skew".concat(Cj[i]),e,r,this.animationValues);e.render();for(const i in r)e.setStaticValue(i,r[i]),this.animationValues&&(this.animationValues[i]=r[i]);e.scheduleRender()}getProjectionStyles(e){var t,n;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Oj;const r={visibility:""},i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=nj(null===e||void 0===e?void 0:e.pointerEvents)||"",r.transform=i?i(this.latestValues,""):"none",r;const o=this.getLead();if(!this.projectionDelta||!this.layout||!o.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=nj(null===e||void 0===e?void 0:e.pointerEvents)||""),this.hasProjected&&!Nw(this.latestValues)&&(t.transform=i?i({},""):"none",this.hasProjected=!1),t}const a=o.animationValues||o.latestValues;this.applyTransformsToTarget(),r.transform=function(e,t,n){let r="";const i=e.x.translate/t.x,o=e.y.translate/t.y,a=(null===n||void 0===n?void 0:n.z)||0;if((i||o||a)&&(r="translate3d(".concat(i,"px, ").concat(o,"px, ").concat(a,"px) ")),1===t.x&&1===t.y||(r+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),n){const{transformPerspective:e,rotate:t,rotateX:i,rotateY:o,skewX:a,skewY:s}=n;e&&(r="perspective(".concat(e,"px) ").concat(r)),t&&(r+="rotate(".concat(t,"deg) ")),i&&(r+="rotateX(".concat(i,"deg) ")),o&&(r+="rotateY(".concat(o,"deg) ")),a&&(r+="skewX(".concat(a,"deg) ")),s&&(r+="skewY(".concat(s,"deg) "))}const s=e.x.scale*t.x,l=e.y.scale*t.y;return 1===s&&1===l||(r+="scale(".concat(s,", ").concat(l,")")),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,a),i&&(r.transform=i(a,r.transform));const{x:s,y:l}=this.projectionDelta;r.transformOrigin="".concat(100*s.origin,"% ").concat(100*l.origin,"% 0"),o.animationValues?r.opacity=o===this?null!==(n=null!==(t=a.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:a.opacityExit:r.opacity=o===this?void 0!==a.opacity?a.opacity:"":void 0!==a.opacityExit?a.opacityExit:0;for(const c in Gw){if(void 0===a[c])continue;const{correct:e,applyTo:t}=Gw[c],n="none"===r.transform?a[c]:e(a[c],o);if(t){const e=t.length;for(let i=0;i<e;i++)r[t[i]]=n}else r[c]=n}return this.options.layoutId&&(r.pointerEvents=o===this?nj(null===e||void 0===e?void 0:e.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()}),this.root.nodes.forEach(Bj),this.root.sharedNodes.clear()}}}function Mj(e){e.updateLayout()}function Rj(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:i}=e.options,o=n.source!==e.layout.source;"size"===i?xw(e=>{const r=o?n.measuredBox[e]:n.layoutBox[e],i=lw(r);r.min=t[e].min,r.max=r.min+i}):tS(i,n.layoutBox,t)&&xw(r=>{const i=o?n.measuredBox[r]:n.layoutBox[r],a=lw(t[r]);i.max=i.min+a,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+a)});const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};uw(a,t,n.layoutBox);const s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};o?uw(s,e.applyTransform(r,!0),n.measuredBox):uw(s,t,n.layoutBox);const l=!xj(a);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:i,layout:o}=r;if(i&&o){const a={x:{min:0,max:0},y:{min:0,max:0}};fw(a,n.layoutBox,i.layoutBox);const s={x:{min:0,max:0},y:{min:0,max:0}};fw(s,t,o.layoutBox),Sj(a,s)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=s,e.relativeTargetOrigin=a,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:s,layoutDelta:a,hasLayoutChanged:l,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function Lj(e){_j&&Tj.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Fj(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Uj(e){e.clearSnapshot()}function Bj(e){e.clearMeasurements()}function Vj(e){e.isLayoutDirty=!1}function zj(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function qj(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Hj(e){e.resolveTargetDelta()}function Wj(e){e.calcProjection()}function Kj(e){e.resetSkewAndRotation()}function Gj(e){e.removeLeadSnapshot()}function Yj(e,t,n){e.translate=Mb(t.translate,0,n),e.scale=Mb(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Xj(e,t,n,r){e.min=Mb(t.min,n.min,r),e.max=Mb(t.max,n.max,r)}function Qj(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const $j={duration:.45,ease:[.4,0,.1,1]},Jj=e=>"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Zj=Jj("applewebkit/")&&!Jj("chrome/")?Math.round:Ey;function eS(e){e.min=Zj(e.min),e.max=Zj(e.max)}function tS(e,t,n){return"position"===e||"preserve-aspect"===e&&!function(e,t,n){return Math.abs(e-t)<=n}(Nj(t),Nj(n),.2)}function nS(e){var t;return e!==e.root&&(null===(t=e.scroll)||void 0===t?void 0:t.wasRoot)}const rS=Dj({attachResizeListener:(e,t)=>Qx(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),iS={current:void 0},oS=Dj({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!iS.current){const e=new rS({});e.mount(window),e.setOptions({layoutScroll:!0}),iS.current=e}return iS.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),aS={pan:{Feature:class extends Gx{constructor(){super(...arguments),this.removePointerDownListener=Ey}onPointerDown(e){this.session=new ew(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Lw(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:Vw(e),onStart:Vw(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&Dy.postRender(()=>r(e,t))}}}mount(){this.removePointerDownListener=Jx(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends Gx{constructor(e){super(e),this.removeGroupControls=Ey,this.removeListeners=Ey,this.controls=new Uw(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ey}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:oS,MeasureLayout:$w}};function sS(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover","Start"===n);const i=r["onHover"+n];i&&Dy.postRender(()=>i(t,$x(t)))}function lS(e,t,n){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap","Start"===n);const i=r["onTap"+("End"===n?"":n)];i&&Dy.postRender(()=>i(t,$x(t)))}const cS=["root"],uS=new WeakMap,dS=new WeakMap,hS=e=>{const t=uS.get(e.target);t&&t(e)},fS=e=>{e.forEach(hS)};function pS(e,t,n){const r=function(e){let{root:t}=e,n=rt(e,cS);const r=t||document;dS.has(r)||dS.set(r,{});const i=dS.get(r),o=JSON.stringify(n);return i[o]||(i[o]=new IntersectionObserver(fS,lt({root:t},n))),i[o]}(t);return uS.set(e,n),r.observe(e),()=>{uS.delete(e),r.unobserve(e)}}const mS={some:0,all:1};const gS={inView:{Feature:class extends Gx{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:i}=e,o={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:mS[r]};return pS(this.node.current,o,e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,i&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),o=t?n:r;o&&o(e)})}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends Gx{mount(){const{current:e}=this.node;e&&(this.unmount=jy(e,e=>(lS(this.node,e,"Start"),(e,t)=>{let{success:n}=t;return lS(this.node,e,n?"End":"Cancel")}),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends Gx{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(CG){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=qb(Qx(this.node.current,"focus",()=>this.onFocus()),Qx(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends Gx{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,i,o]=fy(e,n),a=py(e=>{const{target:n}=e,r=t(e);if("function"!==typeof r||!n)return;const o=py(e=>{r(e),n.removeEventListener("pointerleave",o)});n.addEventListener("pointerleave",o,i)});return r.forEach(e=>{e.addEventListener("pointerenter",a,i)}),o}(e,e=>(sS(this.node,e,"Start"),e=>sS(this.node,e,"End"))))}unmount(){}}}},yS={layout:{ProjectionNode:oS,MeasureLayout:$w}},vS=(0,i.createContext)({strict:!1}),bS=(0,i.createContext)({});function xS(e){return Lg(e.animate)||Wg.some(t=>Bg(e[t]))}function wS(e){return Boolean(xS(e)||e.variants)}function jS(e){const{initial:t,animate:n}=function(e,t){if(xS(e)){const{initial:t,animate:n}=e;return{initial:!1===t||Bg(t)?t:void 0,animate:Bg(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,i.useContext)(bS));return(0,i.useMemo)(()=>({initial:t,animate:n}),[SS(t),SS(n)])}function SS(e){return Array.isArray(e)?e.join(" "):e}const NS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ES={};for(const n in NS)ES[n]={isEnabled:e=>NS[n].some(t=>!!e[t])};const kS=Symbol.for("motionComponentSymbol");function TS(e,t,n){return(0,i.useCallback)(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&("function"===typeof n?n(r):sw(n)&&(n.current=r))},[t])}function _S(e,t,n,r,o){var a,s;const{visualElement:l}=(0,i.useContext)(bS),c=(0,i.useContext)(vS),u=(0,i.useContext)(Ve),d=(0,i.useContext)(ze).reducedMotion,h=(0,i.useRef)(null);r=r||c.renderer,!h.current&&r&&(h.current=r(e,{visualState:t,parent:l,props:n,presenceContext:u,blockInitialAnimation:!!u&&!1===u.initial,reducedMotionConfig:d}));const f=h.current,p=(0,i.useContext)(zw);!f||f.projection||!o||"html"!==f.type&&"svg"!==f.type||function(e,t,n,r){const{layoutId:i,layout:o,drag:a,dragConstraints:s,layoutScroll:l,layoutRoot:c}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:CS(e.parent)),e.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:Boolean(a)||s&&sw(s),visualElement:e,animationType:"string"===typeof o?o:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}(h.current,n,o,p);const m=(0,i.useRef)(!1);(0,i.useInsertionEffect)(()=>{f&&m.current&&f.update(n,u)});const g=n[Zy],y=(0,i.useRef)(Boolean(g)&&!(null===(a=window.MotionHandoffIsComplete)||void 0===a?void 0:a.call(window,g))&&(null===(s=window.MotionHasOptimisedAnimation)||void 0===s?void 0:s.call(window,g)));return $e(()=>{f&&(m.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),Yw.render(f.render),y.current&&f.animationState&&f.animationState.animateChanges())}),(0,i.useEffect)(()=>{f&&(!y.current&&f.animationState&&f.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var e;null===(e=window.MotionHandoffMarkAsComplete)||void 0===e||e.call(window,g)}),y.current=!1))}),f}function CS(e){if(e)return!1!==e.options.allowProjection?e.projection:CS(e.parent)}function OS(e){let{preloadedFeatures:t,createVisualElement:n,useRender:r,useVisualState:o,Component:a}=e;var s,l;function c(e,t){let s;const l=lt(lt(lt({},(0,i.useContext)(ze)),e),{},{layoutId:AS(e)}),{isStatic:c}=l,u=jS(e),d=o(e,c);if(!c&&Qe){!function(){(0,i.useContext)(vS).strict;0}();const e=function(e){const{drag:t,layout:n}=ES;if(!t&&!n)return{};const r=lt(lt({},t),n);return{MeasureLayout:(null===t||void 0===t?void 0:t.isEnabled(e))||(null===n||void 0===n?void 0:n.isEnabled(e))?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(l);s=e.MeasureLayout,u.visualElement=_S(a,d,l,n,e.ProjectionNode)}return(0,Fe.jsxs)(bS.Provider,{value:u,children:[s&&u.visualElement?(0,Fe.jsx)(s,lt({visualElement:u.visualElement},l)):null,r(a,e,TS(d,u.visualElement,t),d,c,u.visualElement)]})}t&&function(e){for(const t in e)ES[t]=lt(lt({},ES[t]),e[t])}(t),c.displayName="motion.".concat("string"===typeof a?a:"create(".concat(null!==(l=null!==(s=a.displayName)&&void 0!==s?s:a.name)&&void 0!==l?l:"",")"));const u=(0,i.forwardRef)(c);return u[kS]=a,u}function AS(e){let{layoutId:t}=e;const n=(0,i.useContext)(Ue).id;return n&&void 0!==t?n+"-"+t:t}const PS=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function IS(e){return"string"===typeof e&&!e.includes("-")&&!!(PS.indexOf(e)>-1||/[A-Z]/.test(e))}const DS=["transitionEnd","transition"];const MS=e=>(t,n)=>{const r=(0,i.useContext)(bS),o=(0,i.useContext)(Ve),a=()=>function(e,t,n,r){let{scrapeMotionValuesFromProps:i,createRenderState:o,onUpdate:a}=e;const s={latestValues:RS(t,n,r,i),renderState:o()};return a&&(s.onMount=e=>a(lt({props:t,current:e},s)),s.onUpdate=e=>a(e)),s}(e,t,r,o);return n?a():Be(a)};function RS(e,t,n,r){const i={},o=r(e,{});for(const h in o)i[h]=nj(o[h]);let{initial:a,animate:s}=e;const l=xS(e),c=wS(e);t&&c&&!l&&!1!==e.inherit&&(void 0===a&&(a=t.initial),void 0===s&&(s=t.animate));let u=!!n&&!1===n.initial;u=u||!1===a;const d=u?s:a;if(d&&"boolean"!==typeof d&&!Lg(d)){const t=Array.isArray(d)?d:[d];for(let n=0;n<t.length;n++){const r=zg(e,t[n]);if(r){const{transitionEnd:e,transition:t}=r,n=rt(r,DS);for(const r in n){let e=n[r];if(Array.isArray(e)){e=e[u?e.length-1:0]}null!==e&&(i[r]=e)}for(const r in e)i[r]=e[r]}}}return i}const LS=(e,t)=>t&&"number"===typeof e?t.transform(e):e,FS={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},US=ky.length;function BS(e,t,n){const{style:r,vars:i,transformOrigin:o}=e;let a=!1,s=!1;for(const l in t){const e=t[l];if(Ty.has(l))a=!0;else if(bb(l))i[l]=e;else{const t=LS(e,Jv[l]);l.startsWith("origin")?(s=!0,o[l]=t):r[l]=t}}if(t.transform||(a||n?r.transform=function(e,t,n){let r="",i=!0;for(let o=0;o<US;o++){const a=ky[o],s=e[a];if(void 0===s)continue;let l=!0;if(l="number"===typeof s?s===(a.startsWith("scale")?1:0):0===parseFloat(s),!l||n){const e=LS(s,Jv[a]);l||(i=!1,r+="".concat(FS[a]||a,"(").concat(e,") ")),n&&(t[a]=e)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}(t,e.transform,n):r.transform&&(r.transform="none")),s){const{originX:e="50%",originY:t="50%",originZ:n=0}=o;r.transformOrigin="".concat(e," ").concat(t," ").concat(n)}}const VS={offset:"stroke-dashoffset",array:"stroke-dasharray"},zS={offset:"strokeDashoffset",array:"strokeDasharray"};function qS(e,t,n){return"string"===typeof e?e:Ov.transform(t+n*e)}const HS=["attrX","attrY","attrScale","originX","originY","pathLength","pathSpacing","pathOffset"];function WS(e,t,n,r){let{attrX:i,attrY:o,attrScale:a,originX:s,originY:l,pathLength:c,pathSpacing:u=1,pathOffset:d=0}=t;if(BS(e,rt(t,HS),r),n)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:h,style:f,dimensions:p}=e;h.transform&&(p&&(f.transform=h.transform),delete h.transform),p&&(void 0!==s||void 0!==l||f.transform)&&(f.transformOrigin=function(e,t,n){const r=qS(t,e.x,e.width),i=qS(n,e.y,e.height);return"".concat(r," ").concat(i)}(p,void 0!==s?s:.5,void 0!==l?l:.5)),void 0!==i&&(h.x=i),void 0!==o&&(h.y=o),void 0!==a&&(h.scale=a),void 0!==c&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const o=i?VS:zS;e[o.offset]=Ov.transform(-r);const a=Ov.transform(t),s=Ov.transform(n);e[o.array]="".concat(a," ").concat(s)}(h,c,u,d,!1)}const KS=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),GS=()=>lt(lt({},{style:{},transform:{},transformOrigin:{},vars:{}}),{},{attrs:{}}),YS=e=>"string"===typeof e&&"svg"===e.toLowerCase();function XS(e,t,n,r){let{style:i,vars:o}=t;Object.assign(e.style,i,r&&r.getProjectionStyles(n));for(const a in o)e.style.setProperty(a,o[a])}const QS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function $S(e,t,n,r){XS(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(QS.has(i)?i:Jy(i),t.attrs[i])}function JS(e,t){let{layout:n,layoutId:r}=t;return Ty.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!Gw[e]||"opacity"===e)}function ZS(e,t,n){var r;const{style:i}=e,o={};for(const a in i)(Qy(i[a])||t.style&&Qy(t.style[a])||JS(a,e)||void 0!==(null===(r=null===n||void 0===n?void 0:n.getValue(a))||void 0===r?void 0:r.liveStyle))&&(o[a]=i[a]);return o}function eN(e,t,n){const r=ZS(e,t,n);for(const i in e)if(Qy(e[i])||Qy(t[i])){r[-1!==ky.indexOf(i)?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i]=e[i]}return r}const tN=["x","y","width","height","cx","cy","r"],nN={useVisualState:MS({scrapeMotionValuesFromProps:eN,createRenderState:GS,onUpdate:e=>{let{props:t,prevProps:n,current:r,renderState:i,latestValues:o}=e;if(!r)return;let a=!!t.drag;if(!a)for(const l in o)if(Ty.has(l)){a=!0;break}if(!a)return;let s=!n;if(n)for(let l=0;l<tN.length;l++){const e=tN[l];t[e]!==n[e]&&(s=!0)}s&&Dy.read(()=>{!function(e,t){try{t.dimensions="function"===typeof e.getBBox?e.getBBox():e.getBoundingClientRect()}catch(CG){t.dimensions={x:0,y:0,width:0,height:0}}}(r,i),Dy.render(()=>{WS(i,o,YS(r.tagName),t.transformTemplate),$S(r,i)})})}})},rN={useVisualState:MS({scrapeMotionValuesFromProps:ZS,createRenderState:KS})};function iN(e,t,n){for(const r in t)Qy(t[r])||JS(r,n)||(e[r]=t[r])}function oN(e,t){const n={};return iN(n,e.style||{},e),Object.assign(n,function(e,t){let{transformTemplate:n}=e;return(0,i.useMemo)(()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return BS(e,t,n),Object.assign({},e.vars,e.style)},[t])}(e,t)),n}function aN(e,t){const n={},r=oN(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const sN=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function lN(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||sN.has(e)}let cN=e=>!lN(e);try{(uN=require("@emotion/is-prop-valid").default)&&(cN=e=>e.startsWith("on")?!lN(e):uN(e))}catch(OG){}var uN;function dN(e,t,n,r){const o=(0,i.useMemo)(()=>{const n=GS();return WS(n,t,YS(r),e.transformTemplate),lt(lt({},n.attrs),{},{style:lt({},n.style)})},[t]);if(e.style){const t={};iN(t,e.style,e),o.style=lt(lt({},t),o.style)}return o}function hN(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(t,n,r,o,a)=>{let{latestValues:s}=o;const l=(IS(t)?dN:aN)(n,s,a,t),c=function(e,t,n){const r={};for(const i in e)"values"===i&&"object"===typeof e.values||(cN(i)||!0===n&&lN(i)||!t&&!lN(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(n,"string"===typeof t,e),u=t!==i.Fragment?lt(lt(lt({},c),l),{},{ref:r}):{},{children:d}=n,h=(0,i.useMemo)(()=>Qy(d)?d.get():d,[d]);return(0,i.createElement)(t,lt(lt({},u),{},{children:h}))}}function fN(e,t){return function(n){let{forwardMotionProps:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{forwardMotionProps:!1};return OS(lt(lt({},IS(n)?nN:rN),{},{preloadedFeatures:e,useRender:hN(r),createVisualElement:t,Component:n}))}}const pN={current:null},mN={current:!1};const gN=[...kb,Mv,Hv],yN=new WeakMap;const vN=["willChange"],bN=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class xN{scrapeMotionValuesFromProps(e,t,n){return{}}constructor(e){let{parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:a}=e,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=pb,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=By.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,Dy.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:u}=a;this.onUpdate=u,this.latestValues=l,this.baseTarget=lt({},l),this.initialValues=n.initial?lt({},l):{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=s,this.blockInitialAnimation=Boolean(o),this.isControllingVariants=xS(n),this.isVariantNode=wS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const d=this.scrapeMotionValuesFromProps(n,{},this),{willChange:h}=d,f=rt(d,vN);for(const p in f){const e=f[p];void 0!==l[p]&&Qy(e)&&e.set(l[p],!1)}}mount(e){this.current=e,yN.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),mN.current||function(){if(mN.current=!0,Qe)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>pN.current=e.matches;e.addListener(t),t()}else pN.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||pN.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){yN.delete(this.current),this.projection&&this.projection.unmount(),My(this.notifyUpdate),My(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Ty.has(e),r=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&Dy.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=t.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),i(),o&&o(),t.owner&&t.stop()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in ES){const t=ES[e];if(!t)continue;const{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<bN.length;n++){const t=bN[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){for(const r in t){const i=t[r],o=n[r];if(Qy(i))e.addValue(r,i);else if(Qy(o))e.addValue(r,Gy(i,{owner:e}));else if(o!==i)if(e.hasValue(r)){const t=e.getValue(r);!0===t.liveStyle?t.jump(i):t.hasAnimated||t.set(i)}else{const t=e.getStaticValue(r);e.addValue(r,Gy(void 0!==t?t:i,{owner:e}))}}for(const r in n)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=Gy(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){var n;let r=void 0===this.latestValues[e]&&this.current?null!==(n=this.getBaseTargetFromProps(this.props,e))&&void 0!==n?n:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];var i;return void 0!==r&&null!==r&&("string"===typeof r&&(yb(r)||fv(r))?r=parseFloat(r):(i=r,!gN.find(Eb(i))&&Hv.test(t)&&(r=tb(e,t))),this.setBaseTarget(e,Qy(r)?r.get():r)),Qy(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props;let r;if("string"===typeof n||"object"===typeof n){const i=zg(this.props,n,null===(t=this.presenceContext)||void 0===t?void 0:t.custom);i&&(r=i[e])}if(n&&void 0!==r)return r;const i=this.getBaseTargetFromProps(this.props,e);return void 0===i||Qy(i)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:i}on(e,t){return this.events[e]||(this.events[e]=new qy),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].notify(...n)}}}class wN extends xN{constructor(){super(...arguments),this.KeyframeResolver=_b}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:r}=t;delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Qy(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent="".concat(e))}))}}class jN extends wN{constructor(){super(...arguments),this.type="html",this.renderInstance=XS}readValueFromInstance(e,t){if(Ty.has(t)){const e=eb(t);return e&&e.default||0}{const r=(n=e,window.getComputedStyle(n)),i=(bb(t)?r.getPropertyValue(t):r[t])||0;return"string"===typeof i?i.trim():i}var n}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return Rw(e,n)}build(e,t,n){BS(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return ZS(e,t,n)}}class SN extends wN{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=bw}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Ty.has(t)){const e=eb(t);return e&&e.default||0}return t=QS.has(t)?t:Jy(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return eN(e,t,n)}build(e,t,n){WS(e,t,this.isSVGTag,n.transformTemplate)}renderInstance(e,t,n,r){$S(e,t,0,r)}mount(e){this.isSVGTag=YS(e.tagName),super.mount(e)}}const NN=(e,t)=>IS(e)?new SN(t):new jN(t,{allowProjection:e!==i.Fragment}),EN=Rg(fN(lt(lt(lt(lt({},Xx),gS),aS),yS),NN));const kN=function(e){let{children:t}=e;return(0,Fe.jsx)(EN.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25,ease:"easeOut"},children:t})};var TN,_N,CN;!function(e){e.STRING="string",e.NUMBER="number",e.INTEGER="integer",e.BOOLEAN="boolean",e.ARRAY="array",e.OBJECT="object"}(TN||(TN={})),function(e){e.LANGUAGE_UNSPECIFIED="language_unspecified",e.PYTHON="python"}(_N||(_N={})),function(e){e.OUTCOME_UNSPECIFIED="outcome_unspecified",e.OUTCOME_OK="outcome_ok",e.OUTCOME_FAILED="outcome_failed",e.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"}(CN||(CN={}));const ON=["user","model","function","system"];var AN,PN,IN,DN,MN,RN,LN,FN;!function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"}(AN||(AN={})),function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"}(PN||(PN={})),function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"}(IN||(IN={})),function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"}(DN||(DN={})),function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.OTHER="OTHER"}(MN||(MN={})),function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"}(RN||(RN={})),function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"}(LN||(LN={})),function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"}(FN||(FN={}));class UN extends Error{constructor(e){super("[GoogleGenerativeAI Error]: ".concat(e))}}class BN extends UN{constructor(e,t){super(e),this.response=t}}class VN extends UN{constructor(e,t,n,r){super(e),this.status=t,this.statusText=n,this.errorDetails=r}}class zN extends UN{}class qN extends UN{}var HN;!function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"}(HN||(HN={}));class WN{constructor(e,t,n,r,i){this.model=e,this.task=t,this.apiKey=n,this.stream=r,this.requestOptions=i}toString(){var e,t;const n=(null===(e=this.requestOptions)||void 0===e?void 0:e.apiVersion)||"v1beta",r=(null===(t=this.requestOptions)||void 0===t?void 0:t.baseUrl)||"https://generativelanguage.googleapis.com";let i="".concat(r,"/").concat(n,"/").concat(this.model,":").concat(this.task);return this.stream&&(i+="?alt=sse"),i}}async function KN(e){var t;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",function(e){const t=[];return(null===e||void 0===e?void 0:e.apiClient)&&t.push(e.apiClient),t.push("".concat("genai-js","/").concat("0.24.1")),t.join(" ")}(e.requestOptions)),n.append("x-goog-api-key",e.apiKey);let r=null===(t=e.requestOptions)||void 0===t?void 0:t.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(CG){throw new zN("unable to convert customHeaders value ".concat(JSON.stringify(r)," to Headers: ").concat(CG.message))}for(const[e,t]of r.entries()){if("x-goog-api-key"===e)throw new zN("Cannot set reserved header name ".concat(e));if("x-goog-api-client"===e)throw new zN("Header name ".concat(e," can only be set using the apiClient field"));n.append(e,t)}}return n}async function GN(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:fetch;const{url:s,fetchOptions:l}=await async function(e,t,n,r,i,o){const a=new WN(e,t,n,r,o);return{url:a.toString(),fetchOptions:Object.assign(Object.assign({},YN(o)),{method:"POST",headers:await KN(a),body:i})}}(e,t,n,r,i,o);return async function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fetch;try{n=await r(e,t)}catch(CG){!function(e,t){let n=e;"AbortError"===n.name?(n=new qN("Request aborted when fetching ".concat(t.toString(),": ").concat(e.message)),n.stack=e.stack):e instanceof VN||e instanceof zN||(n=new UN("Error fetching from ".concat(t.toString(),": ").concat(e.message)),n.stack=e.stack);throw n}(CG,e)}n.ok||await async function(e,t){let n,r="";try{const t=await e.json();r=t.error.message,t.error.details&&(r+=" ".concat(JSON.stringify(t.error.details)),n=t.error.details)}catch(CG){}throw new VN("Error fetching from ".concat(t.toString(),": [").concat(e.status," ").concat(e.statusText,"] ").concat(r),e.status,e.statusText,n)}(n,e);return n}(s,l,a)}function YN(e){const t={};if(void 0!==(null===e||void 0===e?void 0:e.signal)||(null===e||void 0===e?void 0:e.timeout)>=0){const n=new AbortController;(null===e||void 0===e?void 0:e.timeout)>=0&&setTimeout(()=>n.abort(),e.timeout),(null===e||void 0===e?void 0:e.signal)&&e.signal.addEventListener("abort",()=>{n.abort()}),t.signal=n.signal}return t}function XN(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn("This response had ".concat(e.candidates.length," ")+"candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates."),JN(e.candidates[0]))throw new BN("".concat(ZN(e)),e);return function(e){var t,n,r,i;const o=[];if(null===(n=null===(t=e.candidates)||void 0===t?void 0:t[0].content)||void 0===n?void 0:n.parts)for(const a of null===(i=null===(r=e.candidates)||void 0===r?void 0:r[0].content)||void 0===i?void 0:i.parts)a.text&&o.push(a.text),a.executableCode&&o.push("\n```"+a.executableCode.language+"\n"+a.executableCode.code+"\n```\n"),a.codeExecutionResult&&o.push("\n```\n"+a.codeExecutionResult.output+"\n```\n");return o.length>0?o.join(""):""}(e)}if(e.promptFeedback)throw new BN("Text not available. ".concat(ZN(e)),e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn("This response had ".concat(e.candidates.length," ")+"candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates."),JN(e.candidates[0]))throw new BN("".concat(ZN(e)),e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),QN(e)[0]}if(e.promptFeedback)throw new BN("Function call not available. ".concat(ZN(e)),e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn("This response had ".concat(e.candidates.length," ")+"candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates."),JN(e.candidates[0]))throw new BN("".concat(ZN(e)),e);return QN(e)}if(e.promptFeedback)throw new BN("Function call not available. ".concat(ZN(e)),e)},e}function QN(e){var t,n,r,i;const o=[];if(null===(n=null===(t=e.candidates)||void 0===t?void 0:t[0].content)||void 0===n?void 0:n.parts)for(const a of null===(i=null===(r=e.candidates)||void 0===r?void 0:r[0].content)||void 0===i?void 0:i.parts)a.functionCall&&o.push(a.functionCall);return o.length>0?o:void 0}const $N=[MN.RECITATION,MN.SAFETY,MN.LANGUAGE];function JN(e){return!!e.finishReason&&$N.includes(e.finishReason)}function ZN(e){var t,n,r;let i="";if(e.candidates&&0!==e.candidates.length||!e.promptFeedback){if(null===(r=e.candidates)||void 0===r?void 0:r[0]){const t=e.candidates[0];JN(t)&&(i+="Candidate was blocked due to ".concat(t.finishReason),t.finishMessage&&(i+=": ".concat(t.finishMessage)))}}else i+="Response was blocked",(null===(t=e.promptFeedback)||void 0===t?void 0:t.blockReason)&&(i+=" due to ".concat(e.promptFeedback.blockReason)),(null===(n=e.promptFeedback)||void 0===n?void 0:n.blockReasonMessage)&&(i+=": ".concat(e.promptFeedback.blockReasonMessage));return i}function eE(e){return this instanceof eE?(this.v=e,this):new eE(e)}function tE(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise(function(n,r){o.push([e,t,n,r])>1||s(e,t)})})}function s(e,t){try{!function(e){e.value instanceof eE?Promise.resolve(e.value.v).then(l,c):u(o[0][2],e)}(i[e](t))}catch(CG){u(o[0][3],CG)}}function l(e){s("next",e)}function c(e){s("throw",e)}function u(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}"function"===typeof SuppressedError&&SuppressedError;const nE=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function rE(e){const t=function(e){const t=e.getReader(),n=new ReadableStream({start(e){let n="";return r();function r(){return t.read().then(t=>{let{value:i,done:o}=t;if(o)return n.trim()?void e.error(new UN("Failed to parse stream")):void e.close();n+=i;let a,s=n.match(nE);for(;s;){try{a=JSON.parse(s[1])}catch(CG){return void e.error(new UN('Error parsing JSON response: "'.concat(s[1],'"')))}e.enqueue(a),n=n.substring(s[0].length),s=n.match(nE)}return r()}).catch(e=>{let t=e;throw t.stack=e.stack,t="AbortError"===t.name?new qN("Request aborted when reading from the stream"):new UN("Error reading from the stream"),t})}}});return n}(e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0}))),[n,r]=t.tee();return{stream:oE(n),response:iE(r)}}async function iE(e){const t=[],n=e.getReader();for(;;){const{done:e,value:r}=await n.read();if(e)return XN(aE(t));t.push(r)}}function oE(e){return tE(this,arguments,function*(){const t=e.getReader();for(;;){const{value:e,done:n}=yield eE(t.read());if(n)break;yield yield eE(XN(e))}})}function aE(e){const t=e[e.length-1],n={promptFeedback:null===t||void 0===t?void 0:t.promptFeedback};for(const r of e){if(r.candidates){let e=0;for(const t of r.candidates)if(n.candidates||(n.candidates=[]),n.candidates[e]||(n.candidates[e]={index:e}),n.candidates[e].citationMetadata=t.citationMetadata,n.candidates[e].groundingMetadata=t.groundingMetadata,n.candidates[e].finishReason=t.finishReason,n.candidates[e].finishMessage=t.finishMessage,n.candidates[e].safetyRatings=t.safetyRatings,t.content&&t.content.parts){n.candidates[e].content||(n.candidates[e].content={role:t.content.role||"user",parts:[]});const r={};for(const i of t.content.parts)i.text&&(r.text=i.text),i.functionCall&&(r.functionCall=i.functionCall),i.executableCode&&(r.executableCode=i.executableCode),i.codeExecutionResult&&(r.codeExecutionResult=i.codeExecutionResult),0===Object.keys(r).length&&(r.text=""),n.candidates[e].content.parts.push(r)}e++}r.usageMetadata&&(n.usageMetadata=r.usageMetadata)}return n}async function sE(e,t,n,r){return rE(await GN(t,HN.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(n),r))}async function lE(e,t,n,r){const i=await GN(t,HN.GENERATE_CONTENT,e,!1,JSON.stringify(n),r);return{response:XN(await i.json())}}function cE(e){if(null!=e)return"string"===typeof e?{role:"system",parts:[{text:e}]}:e.text?{role:"system",parts:[e]}:e.parts?e.role?e:{role:"system",parts:e.parts}:void 0}function uE(e){let t=[];if("string"===typeof e)t=[{text:e}];else for(const n of e)"string"===typeof n?t.push({text:n}):t.push(n);return function(e){const t={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,i=!1;for(const o of e)"functionResponse"in o?(n.parts.push(o),i=!0):(t.parts.push(o),r=!0);if(r&&i)throw new UN("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!i)throw new UN("No content is provided for sending chat message.");if(r)return t;return n}(t)}function dE(e){let t;if(e.contents)t=e;else{t={contents:[uE(e)]}}return e.systemInstruction&&(t.systemInstruction=cE(e.systemInstruction)),t}const hE=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],fE={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function pE(e){var t;if(void 0===e.candidates||0===e.candidates.length)return!1;const n=null===(t=e.candidates[0])||void 0===t?void 0:t.content;if(void 0===n)return!1;if(void 0===n.parts||0===n.parts.length)return!1;for(const r of n.parts){if(void 0===r||0===Object.keys(r).length)return!1;if(void 0!==r.text&&""===r.text)return!1}return!0}const mE="SILENT_ERROR";class gE{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this.model=t,this.params=n,this._requestOptions=r,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,(null===n||void 0===n?void 0:n.history)&&(!function(e){let t=!1;for(const n of e){const{role:e,parts:r}=n;if(!t&&"user"!==e)throw new UN("First content should be with role 'user', got ".concat(e));if(!ON.includes(e))throw new UN("Each item should include role field. Got ".concat(e," but valid roles are: ").concat(JSON.stringify(ON)));if(!Array.isArray(r))throw new UN("Content should have 'parts' property with an array of Parts");if(0===r.length)throw new UN("Each Content should have at least one part");const i={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const t of r)for(const e of hE)e in t&&(i[e]+=1);const o=fE[e];for(const t of hE)if(!o.includes(t)&&i[t]>0)throw new UN("Content with role '".concat(e,"' can't contain '").concat(t,"' part"));t=!0}}(n.history),this._history=n.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,r,i,o,a,s;await this._sendPromise;const l=uE(e),c={safetySettings:null===(n=this.params)||void 0===n?void 0:n.safetySettings,generationConfig:null===(r=this.params)||void 0===r?void 0:r.generationConfig,tools:null===(i=this.params)||void 0===i?void 0:i.tools,toolConfig:null===(o=this.params)||void 0===o?void 0:o.toolConfig,systemInstruction:null===(a=this.params)||void 0===a?void 0:a.systemInstruction,cachedContent:null===(s=this.params)||void 0===s?void 0:s.cachedContent,contents:[...this._history,l]},u=Object.assign(Object.assign({},this._requestOptions),t);let d;return this._sendPromise=this._sendPromise.then(()=>lE(this._apiKey,this.model,c,u)).then(e=>{var t;if(pE(e.response)){this._history.push(l);const n=Object.assign({parts:[],role:"model"},null===(t=e.response.candidates)||void 0===t?void 0:t[0].content);this._history.push(n)}else{const t=ZN(e.response);t&&console.warn("sendMessage() was unsuccessful. ".concat(t,". Inspect response object for details."))}d=e}).catch(e=>{throw this._sendPromise=Promise.resolve(),e}),await this._sendPromise,d}async sendMessageStream(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,r,i,o,a,s;await this._sendPromise;const l=uE(e),c={safetySettings:null===(n=this.params)||void 0===n?void 0:n.safetySettings,generationConfig:null===(r=this.params)||void 0===r?void 0:r.generationConfig,tools:null===(i=this.params)||void 0===i?void 0:i.tools,toolConfig:null===(o=this.params)||void 0===o?void 0:o.toolConfig,systemInstruction:null===(a=this.params)||void 0===a?void 0:a.systemInstruction,cachedContent:null===(s=this.params)||void 0===s?void 0:s.cachedContent,contents:[...this._history,l]},u=Object.assign(Object.assign({},this._requestOptions),t),d=sE(this._apiKey,this.model,c,u);return this._sendPromise=this._sendPromise.then(()=>d).catch(e=>{throw new Error(mE)}).then(e=>e.response).then(e=>{if(pE(e)){this._history.push(l);const t=Object.assign({},e.candidates[0].content);t.role||(t.role="model"),this._history.push(t)}else{const t=ZN(e);t&&console.warn("sendMessageStream() was unsuccessful. ".concat(t,". Inspect response object for details."))}}).catch(e=>{e.message!==mE&&console.error(e)}),d}}class yE{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.apiKey=e,this._requestOptions=n,t.model.includes("/")?this.model=t.model:this.model="models/".concat(t.model),this.generationConfig=t.generationConfig||{},this.safetySettings=t.safetySettings||[],this.tools=t.tools,this.toolConfig=t.toolConfig,this.systemInstruction=cE(t.systemInstruction),this.cachedContent=t.cachedContent}async generateContent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;const r=dE(e),i=Object.assign(Object.assign({},this._requestOptions),t);return lE(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:null===(n=this.cachedContent)||void 0===n?void 0:n.name},r),i)}async generateContentStream(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;const r=dE(e),i=Object.assign(Object.assign({},this._requestOptions),t);return sE(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:null===(n=this.cachedContent)||void 0===n?void 0:n.name},r),i)}startChat(e){var t;return new gE(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:null===(t=this.cachedContent)||void 0===t?void 0:t.name},e),this._requestOptions)}async countTokens(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=function(e,t){var n;let r={model:null===t||void 0===t?void 0:t.model,generationConfig:null===t||void 0===t?void 0:t.generationConfig,safetySettings:null===t||void 0===t?void 0:t.safetySettings,tools:null===t||void 0===t?void 0:t.tools,toolConfig:null===t||void 0===t?void 0:t.toolConfig,systemInstruction:null===t||void 0===t?void 0:t.systemInstruction,cachedContent:null===(n=null===t||void 0===t?void 0:t.cachedContent)||void 0===n?void 0:n.name,contents:[]};const i=null!=e.generateContentRequest;if(e.contents){if(i)throw new zN("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=e.contents}else if(i)r=Object.assign(Object.assign({},r),e.generateContentRequest);else{const t=uE(e);r.contents=[t]}return{generateContentRequest:r}}(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),r=Object.assign(Object.assign({},this._requestOptions),t);return async function(e,t,n,r){return(await GN(t,HN.COUNT_TOKENS,e,!1,JSON.stringify(n),r)).json()}(this.apiKey,this.model,n,r)}async embedContent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=function(e){if("string"===typeof e||Array.isArray(e))return{content:uE(e)};return e}(e),r=Object.assign(Object.assign({},this._requestOptions),t);return async function(e,t,n,r){return(await GN(t,HN.EMBED_CONTENT,e,!1,JSON.stringify(n),r)).json()}(this.apiKey,this.model,n,r)}async batchEmbedContents(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Object.assign(Object.assign({},this._requestOptions),t);return async function(e,t,n,r){const i=n.requests.map(e=>Object.assign(Object.assign({},e),{model:t}));return(await GN(t,HN.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:i}),r)).json()}(this.apiKey,this.model,e,n)}}class vE{constructor(e){this.apiKey=e}getGenerativeModel(e,t){if(!e.model)throw new UN("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new yE(this.apiKey,e,t)}getGenerativeModelFromCachedContent(e,t,n){if(!e.name)throw new zN("Cached content must contain a `name` field.");if(!e.model)throw new zN("Cached content must contain a `model` field.");const r=["model","systemInstruction"];for(const o of r)if((null===t||void 0===t?void 0:t[o])&&e[o]&&(null===t||void 0===t?void 0:t[o])!==e[o]){if("model"===o){if((t.model.startsWith("models/")?t.model.replace("models/",""):t.model)===(e.model.startsWith("models/")?e.model.replace("models/",""):e.model))continue}throw new zN('Different value for "'.concat(o,'" specified in modelParams')+" (".concat(t[o],") and cachedContent (").concat(e[o],")"))}const i=Object.assign(Object.assign({},t),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new yE(this.apiKey,i,n)}}const bE=()=>{const[e,t]=(0,i.useState)(!1),[n,r]=(0,i.useState)([]),[o,a]=(0,i.useState)(""),[s,l]=(0,i.useState)(!1),c=(0,i.useRef)(null),u=(0,i.useRef)(null),d=new vE("AIzaSyBBxZLjru3yDvqQ3MGtA1gPcziVGXq4dAI");(0,i.useEffect)(()=>{(()=>{var e;null===(e=c.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})})()},[n]),(0,i.useEffect)(()=>{e&&u.current&&u.current.focus()},[e]);const h=async()=>{if(!o.trim()||s)return;const e=o.trim();a(""),r(t=>[...t,{type:"user",content:e}]),l(!0);try{const t=await(async()=>{try{const e=await fetch("/disaster_dataset.json");return await e.json()}catch(e){return console.error("Error loading disaster dataset:",e),null}})();if(!t)return r(e=>[...e,{type:"bot",content:"Sorry, I cannot access the disaster preparedness database at the moment. Please try again later."}]),void l(!1);const n="You are a friendly disaster preparedness assistant for students. Your job is to help students understand disaster safety in a clear, easy-to-follow way.\n\nIMPORTANT INSTRUCTIONS:\n- Use the disaster dataset provided below to answer questions\n- DO NOT copy raw text directly from the dataset\n- Rephrase and reformat information into natural, conversational responses\n- Use short sentences, bullet points, or step numbers to make it easy to follow\n- Write in a friendly, encouraging tone suitable for students\n- If the dataset doesn't contain the answer, politely say \"I don't have that information in my disaster preparedness database, but I'd be happy to help with other safety questions!\"\n\nDisaster Dataset:\n".concat(JSON.stringify(t,null,2),"\n\nUser Question: ").concat(e),i=d.getGenerativeModel({model:"gemini-2.0-flash-exp"}),o=await i.generateContent(n),a=(await o.response).text();r(e=>[...e,{type:"bot",content:a}])}catch(t){console.error("Error generating response:",t),r(e=>[...e,{type:"bot",content:"Sorry, I encountered an error while processing your request. Please try again."}])}finally{l(!1)}},f=()=>{t(!e)};return(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("button",{onClick:f,style:{position:"fixed",bottom:"24px",right:"24px",width:"75px",height:"75px",borderRadius:"50%",backgroundColor:"#2563eb",color:"white",border:"none",cursor:"pointer",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center",transition:"background-color 0.2s ease"},onMouseEnter:e=>e.target.style.backgroundColor="#1d4ed8",onMouseLeave:e=>e.target.style.backgroundColor="#2563eb","aria-label":"Open chatbot",children:(0,Fe.jsx)("svg",{width:"30",height:"30",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),e&&(0,Fe.jsxs)("div",{style:{position:"fixed",bottom:"100px",right:"24px",width:"350px",maxHeight:"60vh",backgroundColor:"white",borderRadius:"12px",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.15)",zIndex:1e3,display:"flex",flexDirection:"column",border:"1px solid #e5e7eb"},children:[(0,Fe.jsxs)("div",{style:{backgroundColor:"#2563eb",color:"white",padding:"16px",borderRadius:"12px 12px 0 0",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Fe.jsx)("h3",{style:{margin:0,fontWeight:"600",fontSize:"16px"},children:"Disaster Preparedness Assistant"}),(0,Fe.jsx)("button",{onClick:f,style:{background:"none",border:"none",color:"white",cursor:"pointer",padding:"4px"},"aria-label":"Close chatbot",children:(0,Fe.jsx)("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Fe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Fe.jsxs)("div",{style:{flex:1,overflowY:"auto",padding:"16px",maxHeight:"300px",display:"flex",flexDirection:"column",gap:"12px"},children:[0===n.length&&(0,Fe.jsxs)("div",{style:{textAlign:"center",color:"#6b7280",fontSize:"14px"},children:[(0,Fe.jsx)("p",{style:{margin:"0 0 4px 0"},children:"\ud83d\udc4b Hi! I'm your disaster preparedness assistant."}),(0,Fe.jsx)("p",{style:{margin:0},children:"Ask me anything about disaster safety and preparedness!"})]}),n.map((e,t)=>(0,Fe.jsx)("div",{style:{display:"flex",justifyContent:"user"===e.type?"flex-end":"flex-start"},children:(0,Fe.jsx)("div",{style:{maxWidth:"80%",padding:"12px",borderRadius:"8px",backgroundColor:"user"===e.type?"#2563eb":"#f3f4f6",color:"user"===e.type?"white":"#1f2937"},children:(0,Fe.jsx)("p",{style:{margin:0,fontSize:"14px",whiteSpace:"pre-wrap"},children:e.content})})},t)),s&&(0,Fe.jsx)("div",{style:{display:"flex",justifyContent:"flex-start"},children:(0,Fe.jsx)("div",{style:{backgroundColor:"#f3f4f6",color:"#1f2937",padding:"12px",borderRadius:"8px"},children:(0,Fe.jsxs)("div",{style:{display:"flex",gap:"4px"},children:[(0,Fe.jsx)("div",{style:{width:"8px",height:"8px",backgroundColor:"#9ca3af",borderRadius:"50%",animation:"bounce 1s infinite"}}),(0,Fe.jsx)("div",{style:{width:"8px",height:"8px",backgroundColor:"#9ca3af",borderRadius:"50%",animation:"bounce 1s infinite 0.1s"}}),(0,Fe.jsx)("div",{style:{width:"8px",height:"8px",backgroundColor:"#9ca3af",borderRadius:"50%",animation:"bounce 1s infinite 0.2s"}})]})})}),(0,Fe.jsx)("div",{ref:c})]}),(0,Fe.jsx)("div",{style:{padding:"16px",borderTop:"1px solid #e5e7eb"},children:(0,Fe.jsxs)("div",{style:{display:"flex",gap:"8px",alignItems:"center",width:"100%",boxSizing:"border-box"},children:[(0,Fe.jsx)("input",{ref:u,type:"text",value:o,onChange:e=>a(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),h())},placeholder:"Ask about disaster preparedness...",style:{flex:1,padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"14px",outline:"none",minWidth:0,boxSizing:"border-box"},disabled:s}),(0,Fe.jsx)("button",{onClick:h,disabled:!o.trim()||s,style:{padding:"8px 12px",backgroundColor:"#2563eb",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",opacity:!o.trim()||s?.5:1,whiteSpace:"nowrap",flexShrink:0,boxSizing:"border-box"},children:"Send"})]})})]}),(0,Fe.jsx)("style",{children:"\n          @keyframes bounce {\n            0%, 20%, 50%, 80%, 100% {\n              transform: translateY(0);\n            }\n            40% {\n              transform: translateY(-10px);\n            }\n            60% {\n              transform: translateY(-5px);\n            }\n          }\n        "})]})},xE=Object.create(null);xE.open="0",xE.close="1",xE.ping="2",xE.pong="3",xE.message="4",xE.upgrade="5",xE.noop="6";const wE=Object.create(null);Object.keys(xE).forEach(e=>{wE[xE[e]]=e});const jE={type:"error",data:"parser error"},SE="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),NE="function"===typeof ArrayBuffer,EE=e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,kE=(e,t,n)=>{let{type:r,data:i}=e;return SE&&i instanceof Blob?t?n(i):TE(i,n):NE&&(i instanceof ArrayBuffer||EE(i))?t?n(i):TE(new Blob([i]),n):n(xE[r]+(i||""))},TE=(e,t)=>{const n=new FileReader;return n.onload=function(){const e=n.result.split(",")[1];t("b"+(e||""))},n.readAsDataURL(e)};function _E(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let CE;const OE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",AE="undefined"===typeof Uint8Array?[]:new Uint8Array(256);for(let n=0;n<64;n++)AE[OE.charCodeAt(n)]=n;const PE="function"===typeof ArrayBuffer,IE=(e,t)=>{if("string"!==typeof e)return{type:"message",data:ME(e,t)};const n=e.charAt(0);if("b"===n)return{type:"message",data:DE(e.substring(1),t)};return wE[n]?e.length>1?{type:wE[n],data:e.substring(1)}:{type:wE[n]}:jE},DE=(e,t)=>{if(PE){const n=(e=>{let t,n,r,i,o,a=.75*e.length,s=e.length,l=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);const c=new ArrayBuffer(a),u=new Uint8Array(c);for(t=0;t<s;t+=4)n=AE[e.charCodeAt(t)],r=AE[e.charCodeAt(t+1)],i=AE[e.charCodeAt(t+2)],o=AE[e.charCodeAt(t+3)],u[l++]=n<<2|r>>4,u[l++]=(15&r)<<4|i>>2,u[l++]=(3&i)<<6|63&o;return c})(e);return ME(n,t)}return{base64:!0,data:e}},ME=(e,t)=>"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer,RE=String.fromCharCode(30);function LE(){return new TransformStream({transform(e,t){!function(e,t){SE&&e.data instanceof Blob?e.data.arrayBuffer().then(_E).then(t):NE&&(e.data instanceof ArrayBuffer||EE(e.data))?t(_E(e.data)):kE(e,!1,e=>{CE||(CE=new TextEncoder),t(CE.encode(e))})}(e,n=>{const r=n.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const e=new DataView(i.buffer);e.setUint8(0,126),e.setUint16(1,r)}else{i=new Uint8Array(9);const e=new DataView(i.buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(r))}e.data&&"string"!==typeof e.data&&(i[0]|=128),t.enqueue(i),t.enqueue(n)})}})}let FE;function UE(e){return e.reduce((e,t)=>e+t.length,0)}function BE(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let i=0;i<t;i++)n[i]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function VE(e){if(e)return function(e){for(var t in VE.prototype)e[t]=VE.prototype[t];return e}(e)}VE.prototype.on=VE.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},VE.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},VE.prototype.off=VE.prototype.removeListener=VE.prototype.removeAllListeners=VE.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},VE.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t)}return this},VE.prototype.emitReserved=VE.prototype.emit,VE.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},VE.prototype.hasListeners=function(e){return!!this.listeners(e).length};const zE="function"===typeof Promise&&"function"===typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),qE="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")();function HE(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t),{})}const WE=qE.setTimeout,KE=qE.clearTimeout;function GE(e,t){t.useNativeTimers?(e.setTimeoutFn=WE.bind(qE),e.clearTimeoutFn=KE.bind(qE)):(e.setTimeoutFn=qE.setTimeout.bind(qE),e.clearTimeoutFn=qE.clearTimeout.bind(qE))}function YE(e){return"string"===typeof e?function(e){let t=0,n=0;for(let r=0,i=e.length;r<i;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}(e):Math.ceil(1.33*(e.byteLength||e.size))}function XE(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}class QE extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}}class $E extends VE{constructor(e){super(),this.writable=!1,GE(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,n){return super.emitReserved("error",new QE(e,t,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=IE(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=function(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}(e);return t.length?"?"+t:""}}class JE extends $E{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let e=0;this._polling&&(e++,this.once("pollComplete",function(){--e||t()})),this.writable||(e++,this.once("drain",function(){--e||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{const n=e.split(RE),r=[];for(let i=0;i<n.length;i++){const e=IE(n[i],t);if(r.push(e),"error"===e.type)break}return r})(e,this.socket.binaryType).forEach(e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)}),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const n=e.length,r=new Array(n);let i=0;e.forEach((e,o)=>{kE(e,!1,e=>{r[o]=e,++i===n&&t(r.join(RE))})})})(e,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=XE()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}}let ZE=!1;try{ZE="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(AG){}const ek=ZE;function tk(){}class nk extends JE{constructor(e){if(super(e),"undefined"!==typeof location){const t="https:"===location.protocol;let n=location.port;n||(n=t?"443":"80"),this.xd="undefined"!==typeof location&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",(e,t)=>{this.onError("xhr post error",e,t)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(e,t)=>{this.onError("xhr poll error",e,t)}),this.pollXhr=e}}class rk extends VE{constructor(e,t,n){super(),this.createRequest=e,GE(this,n),this._opts=n,this._method=n.method||"GET",this._uri=t,this._data=void 0!==n.data?n.data:null,this._create()}_create(){var e;const t=HE(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(t);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let e in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(e)&&n.setRequestHeader(e,this._opts.extraHeaders[e])}}catch(CG){}if("POST"===this._method)try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(CG){}try{n.setRequestHeader("Accept","*/*")}catch(CG){}null===(e=this._opts.cookieJar)||void 0===e||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var e;3===n.readyState&&(null===(e=this._opts.cookieJar)||void 0===e||e.parseCookies(n.getResponseHeader("set-cookie"))),4===n.readyState&&(200===n.status||1223===n.status?this._onLoad():this.setTimeoutFn(()=>{this._onError("number"===typeof n.status?n.status:0)},0))},n.send(this._data)}catch(CG){return void this.setTimeoutFn(()=>{this._onError(CG)},0)}"undefined"!==typeof document&&(this._index=rk.requestsCount++,rk.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if("undefined"!==typeof this._xhr&&null!==this._xhr){if(this._xhr.onreadystatechange=tk,e)try{this._xhr.abort()}catch(CG){}"undefined"!==typeof document&&delete rk.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}if(rk.requestsCount=0,rk.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",ik);else if("function"===typeof addEventListener){addEventListener("onpagehide"in qE?"pagehide":"unload",ik,!1)}function ik(){for(let e in rk.requests)rk.requests.hasOwnProperty(e)&&rk.requests[e].abort()}const ok=function(){const e=ak({xdomain:!1});return e&&null!==e.responseType}();function ak(e){const t=e.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!t||ek))return new XMLHttpRequest}catch(CG){}if(!t)try{return new(qE[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(CG){}}const sk="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class lk extends $E{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,n=sk?{}:HE(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,n)}catch(AG){return this.emitReserved("error",AG)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;kE(n,this.supportsBinary,e=>{try{this.doWrite(n,e)}catch(CG){}r&&zE(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){"undefined"!==typeof this.ws&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=XE()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const ck=qE.WebSocket||qE.MozWebSocket;const uk={websocket:class extends lk{createSocket(e,t,n){return sk?new ck(e,t,n):t?new ck(e,t):new ck(e)}doWrite(e,t){this.ws.send(t)}},webtransport:class extends $E{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(AG){return this.emitReserved("error",AG)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const t=function(e,t){FE||(FE=new TextDecoder);const n=[];let r=0,i=-1,o=!1;return new TransformStream({transform(a,s){for(n.push(a);;){if(0===r){if(UE(n)<1)break;const e=BE(n,1);o=128===(128&e[0]),i=127&e[0],r=i<126?3:126===i?1:2}else if(1===r){if(UE(n)<2)break;const e=BE(n,2);i=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),r=3}else if(2===r){if(UE(n)<8)break;const e=BE(n,8),t=new DataView(e.buffer,e.byteOffset,e.length),o=t.getUint32(0);if(o>Math.pow(2,21)-1){s.enqueue(jE);break}i=o*Math.pow(2,32)+t.getUint32(4),r=3}else{if(UE(n)<i)break;const e=BE(n,i);s.enqueue(IE(o?e:FE.decode(e),t)),r=0}if(0===i||i>e){s.enqueue(jE);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(t).getReader(),r=LE();r.readable.pipeTo(e.writable),this._writer=r.writable.getWriter();const i=()=>{n.read().then(e=>{let{done:t,value:n}=e;t||(this.onPacket(n),i())}).catch(e=>{})};i();const o={type:"open"};this.query.sid&&(o.data='{"sid":"'.concat(this.query.sid,'"}')),this._writer.write(o).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;this._writer.write(n).then(()=>{r&&zE(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;null===(e=this._transport)||void 0===e||e.close()}},polling:class extends nk{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=ok&&!t}request(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(e,{xd:this.xd},this.opts),new rk(ak,this.uri(),e)}}},dk=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,hk=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function fk(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");-1!=n&&-1!=r&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let i=dk.exec(e||""),o={},a=14;for(;a--;)o[hk[a]]=i[a]||"";return-1!=n&&-1!=r&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=function(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||r.splice(0,1);"/"==t.slice(-1)&&r.splice(r.length-1,1);return r}(0,o.path),o.queryKey=function(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(e,t,r){t&&(n[t]=r)}),n}(0,o.query),o}const pk="function"===typeof addEventListener&&"function"===typeof removeEventListener,mk=[];pk&&addEventListener("offline",()=>{mk.forEach(e=>e())},!1);class gk extends VE{constructor(e,t){if(super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&"object"===typeof e&&(t=e,e=null),e){const n=fk(e);t.hostname=n.host,t.secure="https"===n.protocol||"wss"===n.protocol,t.port=n.port,n.query&&(t.query=n.query)}else t.host&&(t.hostname=fk(t.host).host);GE(this,t),this.secure=null!=t.secure?t.secure:"undefined"!==typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!==typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!==typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach(e=>{const t=e.prototype.name;this.transports.push(t),this._transportsByName[t]=e}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"===typeof this.opts.query&&(this.opts.query=function(e){let t={},n=e.split("&");for(let r=0,i=n.length;r<i;r++){let e=n[r].split("=");t[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return t}(this.opts.query)),pk&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},mk.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);const e=this.opts.rememberUpgrade&&gk.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",e=>this._onClose("transport close",e))}onOpen(){this.readyState="open",gk.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let t=0;t<this.writeBuffer.length;t++){const n=this.writeBuffer[t].data;if(n&&(e+=YE(n)),t>0&&e>this._maxPayload)return this.writeBuffer.slice(0,t);e+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,zE(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,t,n){return this._sendPacket("message",e,t,n),this}send(e,t,n){return this._sendPacket("message",e,t,n),this}_sendPacket(e,t,n,r){if("function"===typeof t&&(r=t,t=void 0),"function"===typeof n&&(r=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const i={type:e,data:t,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}_onError(e){if(gk.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),pk&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const e=mk.indexOf(this._offlineEventListener);-1!==e&&mk.splice(e,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}gk.protocol=4;class yk extends gk{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),n=!1;gk.priorWebsocketSuccess=!1;const r=()=>{n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",e=>{if(!n)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;gk.priorWebsocketSuccess="websocket"===t.name,this.transport.pause(()=>{n||"closed"!==this.readyState&&(c(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}}))};function i(){n||(n=!0,c(),t.close(),t=null)}const o=e=>{const n=new Error("probe error: "+e);n.transport=t.name,i(),this.emitReserved("upgradeError",n)};function a(){o("transport closed")}function s(){o("socket closed")}function l(e){t&&e.name!==t.name&&i()}const c=()=>{t.removeListener("open",r),t.removeListener("error",o),t.removeListener("close",a),this.off("close",s),this.off("upgrading",l)};t.once("open",r),t.once("error",o),t.once("close",a),this.once("close",s),this.once("upgrading",l),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn(()=>{n||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}class vk extends yk{constructor(e){const t="object"===typeof e?e:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(!t.transports||t.transports&&"string"===typeof t.transports[0])&&(t.transports=(t.transports||["polling","websocket","webtransport"]).map(e=>uk[e]).filter(e=>!!e)),super(e,t)}}const bk="function"===typeof ArrayBuffer,xk=Object.prototype.toString,wk="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===xk.call(Blob),jk="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===xk.call(File);function Sk(e){return bk&&(e instanceof ArrayBuffer||(e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)(e))||wk&&e instanceof Blob||jk&&e instanceof File}function Nk(e,t){if(!e||"object"!==typeof e)return!1;if(Array.isArray(e)){for(let t=0,n=e.length;t<n;t++)if(Nk(e[t]))return!0;return!1}if(Sk(e))return!0;if(e.toJSON&&"function"===typeof e.toJSON&&1===arguments.length)return Nk(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Nk(e[n]))return!0;return!1}function Ek(e){const t=[],n=e.data,r=e;return r.data=kk(n,t),r.attachments=t.length,{packet:r,buffers:t}}function kk(e,t){if(!e)return e;if(Sk(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=kk(e[r],t);return n}if("object"===typeof e&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=kk(e[r],t));return n}return e}function Tk(e,t){return e.data=_k(e.data,t),delete e.attachments,e}function _k(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"===typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=_k(e[n],t);else if("object"===typeof e)for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=_k(e[n],t));return e}const Ck=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Ok=5;var Ak;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(Ak||(Ak={}));class Pk{constructor(e){this.replacer=e}encode(e){return e.type!==Ak.EVENT&&e.type!==Ak.ACK||!Nk(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===Ak.EVENT?Ak.BINARY_EVENT:Ak.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==Ak.BINARY_EVENT&&e.type!==Ak.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=Ek(e),n=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(n),r}}function Ik(e){return"[object Object]"===Object.prototype.toString.call(e)}class Dk extends VE{constructor(e){super(),this.reviver=e}add(e){let t;if("string"===typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const n=t.type===Ak.BINARY_EVENT;n||t.type===Ak.BINARY_ACK?(t.type=n?Ak.EVENT:Ak.ACK,this.reconstructor=new Mk(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!Sk(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(void 0===Ak[n.type])throw new Error("unknown packet type "+n.type);if(n.type===Ak.BINARY_EVENT||n.type===Ak.BINARY_ACK){const r=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const i=e.substring(r,t);if(i!=Number(i)||"-"!==e.charAt(t))throw new Error("Illegal attachments");n.attachments=Number(i)}if("/"===e.charAt(t+1)){const r=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}n.nsp=e.substring(r,t)}else n.nsp="/";const r=e.charAt(t+1);if(""!==r&&Number(r)==r){const r=t+1;for(;++t;){const n=e.charAt(t);if(null==n||Number(n)!=n){--t;break}if(t===e.length)break}n.id=Number(e.substring(r,t+1))}if(e.charAt(++t)){const r=this.tryParse(e.substr(t));if(!Dk.isPayloadValid(n.type,r))throw new Error("invalid payload");n.data=r}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(CG){return!1}}static isPayloadValid(e,t){switch(e){case Ak.CONNECT:return Ik(t);case Ak.DISCONNECT:return void 0===t;case Ak.CONNECT_ERROR:return"string"===typeof t||Ik(t);case Ak.EVENT:case Ak.BINARY_EVENT:return Array.isArray(t)&&("number"===typeof t[0]||"string"===typeof t[0]&&-1===Ck.indexOf(t[0]));case Ak.ACK:case Ak.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Mk{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=Tk(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function Rk(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const Lk=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Fk extends VE{constructor(e,t,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Rk(e,"open",this.onopen.bind(this)),Rk(e,"packet",this.onpacket.bind(this)),Rk(e,"error",this.onerror.bind(this)),Rk(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.unshift("message"),this.emit.apply(this,t),this}emit(e){var t,n,r;if(Lk.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];if(o.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(o),this;const s={type:Ak.EVENT,data:o,options:{}};if(s.options.compress=!1!==this.flags.compress,"function"===typeof o[o.length-1]){const e=this.ids++,t=o.pop();this._registerAckCallback(e,t),s.id=e}const l=null===(n=null===(t=this.io.engine)||void 0===t?void 0:t.transport)||void 0===n?void 0:n.writable,c=this.connected&&!(null===(r=this.io.engine)||void 0===r?void 0:r._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(e,t){var n,r=this;const i=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0===i)return void(this.acks[e]=t);const o=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))},i),a=function(){r.io.clearTimeoutFn(o);for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];t.apply(r,n)};a.withError=!0,this.acks[e]=a}emitWithAck(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new Promise((t,r)=>{const i=(e,n)=>e?r(e):t(n);i.withError=!0,n.push(i),this.emit(e,...n)})}_addToQueue(e){var t=this;let n;"function"===typeof e[e.length-1]&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push(function(e){if(r!==t._queue[0])return;if(null!==e)r.tryCount>t._opts.retries&&(t._queue.shift(),n&&n(e));else if(t._queue.shift(),n){for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];n(null,...o)}return r.pending=!1,t._drainQueue()}),this._queue.push(r),this._drainQueue()}_drainQueue(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Ak.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(t=>String(t.id)===e)){const t=this.acks[e];delete this.acks[e],t.withError&&t.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Ak.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ak.EVENT:case Ak.BINARY_EVENT:this.onevent(e);break;case Ak.ACK:case Ak.BINARY_ACK:this.onack(e);break;case Ak.DISCONNECT:this.ondisconnect();break;case Ak.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"===typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let n=!1;return function(){if(!n){n=!0;for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];t.packet({type:Ak.ACK,id:e,data:i})}}}onack(e){const t=this.acks[e.id];"function"===typeof t&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ak.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,e.data)}}}function Uk(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Uk.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},Uk.prototype.reset=function(){this.attempts=0},Uk.prototype.setMin=function(e){this.ms=e},Uk.prototype.setMax=function(e){this.max=e},Uk.prototype.setJitter=function(e){this.jitter=e};class Bk extends VE{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&"object"===typeof t&&(n=t,t=void 0),(n=n||{}).path=n.path||"/socket.io",this.opts=n,GE(this,n),this.reconnection(!1!==n.reconnection),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(r=n.randomizationFactor)&&void 0!==r?r:.5),this.backoff=new Uk({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==n.timeout?2e4:n.timeout),this._readyState="closed",this.uri=t;const i=n.parser||e;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=!1!==n.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new vk(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const r=Rk(t,"open",function(){n.onopen(),e&&e()}),i=t=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",t),e?e(t):this.maybeReconnectOnOpen()},o=Rk(t,"error",i);if(!1!==this._timeout){const e=this._timeout,n=this.setTimeoutFn(()=>{r(),i(new Error("timeout")),t.close()},e);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}return this.subs.push(r),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Rk(e,"ping",this.onping.bind(this)),Rk(e,"data",this.ondata.bind(this)),Rk(e,"error",this.onerror.bind(this)),Rk(e,"close",this.onclose.bind(this)),Rk(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(CG){this.onclose("parse error",CG)}}ondecoded(e){zE(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new Fk(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const n of t){if(this.nsps[n].active)return}this._close()}_packet(e){const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var n;this.cleanup(),null===(n=this.engine)||void 0===n||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open(t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()}))},t);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Vk={};function zk(e,t){"object"===typeof e&&(t=e,e=void 0);const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=e;n=n||"undefined"!==typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e="undefined"!==typeof n?n.protocol+"//"+e:"https://"+e),r=fk(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const i=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+t,r.href=r.protocol+"://"+i+(n&&n.port===r.port?"":":"+r.port),r}(e,(t=t||{}).path||"/socket.io"),r=n.source,i=n.id,o=n.path,a=Vk[i]&&o in Vk[i].nsps;let s;return t.forceNew||t["force new connection"]||!1===t.multiplex||a?s=new Bk(r,t):(Vk[i]||(Vk[i]=new Bk(r,t)),s=Vk[i]),n.query&&!t.query&&(t.query=n.queryKey),s.socket(n.path,t)}Object.assign(zk,{Manager:Bk,Socket:Fk,io:zk,connect:zk});const qk=new class{constructor(){this.socket=null,this.isConnected=!1}connect(){return this.socket||(this.socket=zk("http://localhost:5000"),this.socket.on("connect",()=>{console.log("\u2705 Connected to real-time server"),this.isConnected=!0}),this.socket.on("disconnect",()=>{console.log("\u274c Disconnected from real-time server"),this.isConnected=!1})),this.socket}joinRole(e){this.socket&&this.socket.emit("join-role",e)}joinInstitution(e){this.socket&&this.socket.emit("join-institution",e)}onNewAlert(e){this.socket&&this.socket.on("newAlert",e)}onNewDrillAnnouncement(e){this.socket&&this.socket.on("newDrillAnnouncement",e)}onNewEmergencyAlert(e){this.socket&&this.socket.on("newEmergencyAlert",e)}onNewModuleAssignment(e){this.socket&&this.socket.on("moduleAssigned",e)}onNewDrillConfirmation(e){this.socket&&this.socket.on("drillConfirmed",e)}disconnect(){this.socket&&(this.socket.disconnect(),this.socket=null,this.isConnected=!1)}};const Hk=function(){const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(Notification.permission);(0,i.useEffect)(()=>(qk.connect(),qk.onNewAlert(e=>{o({id:Date.now(),type:"alert",title:"Emergency Alert: ".concat(e.title),message:e.description,severity:e.severity,alertType:e.alertType,region:e.region,timestamp:new Date})}),qk.onNewDrillAnnouncement(e=>{o({id:Date.now(),type:"drill_announcement",title:"Drill Announcement: ".concat(e.title),message:e.message,drillType:e.drillType,priority:e.priority,teacherName:e.teacherName,timestamp:new Date})}),qk.onNewEmergencyAlert(e=>{o({id:Date.now(),type:"emergency_alert",title:"Emergency Alert: ".concat(e.title),message:e.message,severity:e.severity,region:e.region,timestamp:new Date})}),()=>{qk.disconnect()}),[]);const o=e=>{t(t=>[e,...t]),setTimeout(()=>{a(e.id)},1e4)},a=e=>{t(t=>t.filter(t=>t.id!==e))},s=(e,t)=>{if("emergency_alert"===e)return"\ufffd\ufffd";if("drill_announcement"===e){return{fire:"\ud83d\udd25",earthquake:"\ud83c\udf0d",flood:"\ufffd\ufffd",evacuation:"\ud83d\udea8"}[t]||"\ud83d\udce2"}return"\ufffd\ufffd"};return 0===e.length?null:(0,Fe.jsxs)("div",{className:"position-fixed top-0 end-0 p-3",style:{zIndex:1050},children:[e.map(e=>{return(0,Fe.jsx)("div",{className:"alert alert-".concat((t=e.priority||"normal",{low:"success",normal:"warning",high:"danger"}[t]||"warning")," alert-dismissible fade show mb-2 shadow"),role:"alert",style:{minWidth:"300px",maxWidth:"400px"},children:(0,Fe.jsxs)("div",{className:"d-flex align-items-start gap-2",children:[(0,Fe.jsx)("div",{className:"flex-shrink-0",children:(0,Fe.jsx)("span",{style:{fontSize:"1.2rem"},children:s(e.type,e.drillType)})}),(0,Fe.jsxs)("div",{className:"flex-grow-1",children:[(0,Fe.jsx)("h6",{className:"alert-heading mb-1",children:e.title}),(0,Fe.jsx)("p",{className:"mb-1 small",children:e.message}),(0,Fe.jsxs)("small",{className:"text-muted",children:[e.teacherName&&"From: ".concat(e.teacherName," \u2022 "),e.timestamp.toLocaleTimeString()]})]}),(0,Fe.jsx)("button",{type:"button",className:"btn-close",onClick:()=>a(e.id)})]})},e.id);var t}),"default"===n&&(0,Fe.jsx)("div",{className:"alert alert-info alert-dismissible fade show mb-2 shadow",style:{minWidth:"300px"},children:(0,Fe.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-bell"}),(0,Fe.jsxs)("div",{className:"flex-grow-1",children:[(0,Fe.jsx)("h6",{className:"alert-heading mb-1",children:"Enable Notifications"}),(0,Fe.jsx)("p",{className:"mb-2 small",children:"Get real-time alerts and announcements."}),(0,Fe.jsx)("button",{className:"btn btn-primary btn-sm",onClick:async()=>{if("Notification"in window){const e=await Notification.requestPermission();r(e),"granted"===e&&new Notification("Notifications Enabled",{body:"You will now receive real-time alerts and announcements.",icon:"/favicon.ico"})}},children:"Enable Notifications"})]})]})})]})};const Wk=function(e){let{userRole:t}=e;const[n,r]=(0,i.useState)([]),[o,a]=(0,i.useState)([]),[s,l]=(0,i.useState)(!0),[c,u]=(0,i.useState)(!1),[d,h]=(0,i.useState)(!1);(0,i.useEffect)(()=>(f(),qk.connect(),qk.onNewDrillAnnouncement(e=>{r(t=>[e,...t])}),qk.onNewEmergencyAlert(e=>{a(t=>[e,...t])}),()=>{qk.disconnect()}),[]);const f=async()=>{try{l(!0);const e=await fetch("http://localhost:5000/api/drill-announcements"),t=await e.json();t.success&&r(t.data.announcements);const n=await fetch("http://localhost:5000/api/emergency-alerts"),i=await n.json();i.success&&a(i.data.alerts)}catch(e){console.error("Error loading announcements:",e)}finally{l(!1)}},p=e=>new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return s?(0,Fe.jsx)("div",{className:"d-flex justify-content-center align-items-center py-3",children:(0,Fe.jsx)("div",{className:"spinner-border",role:"status",children:(0,Fe.jsx)("span",{className:"visually-hidden",children:"Loading announcements..."})})}):(0,Fe.jsxs)("div",{className:"row g-3",children:[(0,Fe.jsxs)("div",{className:"col-12",children:[(0,Fe.jsxs)("h5",{className:"d-flex align-items-center gap-2 mb-3",children:[(0,Fe.jsx)("i",{className:"bi bi-bell text-warning"}),"Drill Announcements"]}),0===n.length?(0,Fe.jsx)("div",{className:"card",children:(0,Fe.jsxs)("div",{className:"card-body text-center py-4",children:[(0,Fe.jsx)("i",{className:"bi bi-bell-slash text-muted",style:{fontSize:"2rem"}}),(0,Fe.jsx)("p",{className:"text-muted mt-2 mb-0",children:"No drill announcements"})]})}):(0,Fe.jsxs)("div",{className:"row g-3",children:[(c?n:n.slice(0,2)).map((e,t)=>{return(0,Fe.jsx)("div",{className:"col-12 col-md-6",children:(0,Fe.jsx)("div",{className:"card border-warning",children:(0,Fe.jsx)("div",{className:"card-body",children:(0,Fe.jsxs)("div",{className:"d-flex align-items-start gap-3",children:[(0,Fe.jsx)("div",{className:"flex-shrink-0",children:(0,Fe.jsx)("div",{className:"bg-warning-subtle rounded-circle d-flex align-items-center justify-content-center",style:{width:"40px",height:"40px"},children:(0,Fe.jsx)("span",{style:{fontSize:"1.2rem"},children:(r=e.drillType,{fire:"\ud83d\udd25",earthquake:"\ud83c\udf0d",flood:"\ud83c\udf0a",evacuation:"\ud83d\udea8"}[r]||"\ufffd\ufffd")})})}),(0,Fe.jsxs)("div",{className:"flex-grow-1",children:[(0,Fe.jsxs)("div",{className:"d-flex justify-content-between align-items-start mb-2",children:[(0,Fe.jsx)("h6",{className:"card-title mb-0 fw-semibold",children:e.title}),(0,Fe.jsx)("span",{className:"badge bg-".concat((n=e.priority||"normal",{low:"success",normal:"warning",high:"danger"}[n]||"warning")),children:e.priority||"normal"})]}),(0,Fe.jsx)("p",{className:"card-text text-muted small mb-2",children:e.message}),(0,Fe.jsx)("div",{className:"d-flex justify-content-between align-items-center",children:(0,Fe.jsxs)("div",{className:"small text-muted",children:[(0,Fe.jsx)("i",{className:"bi bi-person me-1"}),e.teacherName||"Teacher",(0,Fe.jsx)("span",{className:"mx-2",children:"\u2022"}),(0,Fe.jsx)("i",{className:"bi bi-clock me-1"}),p(e.createdAt)]})})]})]})})})},e._id||t);var n,r}),n.length>2&&(0,Fe.jsx)("div",{className:"col-12 text-center mt-3",children:(0,Fe.jsx)("button",{className:"btn btn-outline-warning btn-sm",onClick:()=>u(!c),children:c?(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("i",{className:"bi bi-chevron-up me-1"}),"Show Less"]}):(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("i",{className:"bi bi-chevron-down me-1"}),"Show More (",n.length-2," more)"]})})})]})]}),(0,Fe.jsxs)("div",{className:"col-12",children:[(0,Fe.jsxs)("h5",{className:"d-flex align-items-center gap-2 mb-3",children:[(0,Fe.jsx)("i",{className:"bi bi-exclamation-triangle text-danger"}),"Emergency Alerts"]}),0===o.length?(0,Fe.jsx)("div",{className:"card",children:(0,Fe.jsxs)("div",{className:"card-body text-center py-4",children:[(0,Fe.jsx)("i",{className:"bi bi-shield-check text-muted",style:{fontSize:"2rem"}}),(0,Fe.jsx)("p",{className:"text-muted mt-2 mb-0",children:"No emergency alerts"})]})}):(0,Fe.jsxs)("div",{className:"row g-3",children:[(d?o:o.slice(0,2)).map((e,t)=>(0,Fe.jsx)("div",{className:"col-12 col-md-6",children:(0,Fe.jsx)("div",{className:"card border-danger",children:(0,Fe.jsx)("div",{className:"card-body",children:(0,Fe.jsxs)("div",{className:"d-flex align-items-start gap-3",children:[(0,Fe.jsx)("div",{className:"flex-shrink-0",children:(0,Fe.jsx)("div",{className:"bg-danger-subtle rounded-circle d-flex align-items-center justify-content-center",style:{width:"40px",height:"40px"},children:(0,Fe.jsx)("span",{style:{fontSize:"1.2rem"},children:"\ud83d\udea8"})})}),(0,Fe.jsxs)("div",{className:"flex-grow-1",children:[(0,Fe.jsxs)("div",{className:"d-flex justify-content-between align-items-start mb-2",children:[(0,Fe.jsx)("h6",{className:"card-title mb-0 fw-semibold text-danger",children:e.title}),(0,Fe.jsx)("span",{className:"badge bg-danger",children:"Emergency"})]}),(0,Fe.jsx)("p",{className:"card-text text-muted small mb-2",children:e.message}),(0,Fe.jsx)("div",{className:"d-flex justify-content-between align-items-center",children:(0,Fe.jsxs)("div",{className:"small text-muted",children:[(0,Fe.jsx)("i",{className:"bi bi-geo-alt me-1"}),e.region,(0,Fe.jsx)("span",{className:"mx-2",children:"\u2022"}),(0,Fe.jsx)("i",{className:"bi bi-clock me-1"}),p(e.createdAt)]})})]})]})})})},e._id||t)),o.length>2&&(0,Fe.jsx)("div",{className:"col-12 text-center mt-3",children:(0,Fe.jsx)("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>h(!d),children:d?(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("i",{className:"bi bi-chevron-up me-1"}),"Show Less"]}):(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("i",{className:"bi bi-chevron-down me-1"}),"Show More (",o.length-2," more)"]})})})]})]})]})};const Kk=new class{constructor(){this.baseURL={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:5000/api",this.token=localStorage.getItem("token")}setToken(e){this.token=e,localStorage.setItem("token",e)}async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n="".concat(this.baseURL).concat(e),r=lt({headers:lt({"Content-Type":"application/json"},this.token&&{Authorization:"Bearer ".concat(this.token)})},t);try{const e=await fetch(n,r),t=await e.json();if(!e.ok)throw new Error(t.message||"Something went wrong");return t}catch(i){throw console.error("Teacher Actions API Error:",i),i}}async assignModule(e){try{const t=await this.request("/teacher-actions/assign-module",{method:"POST",body:JSON.stringify(e)});return this.simulateModuleAssignment(e),t}catch(t){throw new Error("Failed to assign module: "+t.message)}}async confirmDrill(e){try{const t=await this.request("/teacher-actions/confirm-drill",{method:"POST",body:JSON.stringify(e)});return this.simulateDrillConfirmation(e),t}catch(t){throw new Error("Failed to confirm drill: "+t.message)}}async getAssignedModules(){try{return(await this.request("/teacher-actions/assigned-modules")).data.modules}catch(e){throw new Error("Failed to fetch assigned modules: "+e.message)}}async getConfirmedDrills(){try{return(await this.request("/teacher-actions/confirmed-drills")).data.drills}catch(e){throw new Error("Failed to fetch confirmed drills: "+e.message)}}simulateModuleAssignment(e){const t=new CustomEvent("moduleAssigned",{detail:{type:"module_assignment",title:e.title,description:e.description,dueDate:e.dueDate,estimatedTime:e.estimatedTime,targetClasses:e.targetClasses,teacherName:e.teacherName,assignedAt:(new Date).toISOString()}});window.dispatchEvent(t),"granted"===Notification.permission&&new Notification("New Module Assigned: ".concat(e.title),{body:"Due: ".concat(e.dueDate," \u2022 Estimated time: ").concat(e.estimatedTime),icon:"/favicon.ico",tag:"module-assignment"})}simulateDrillConfirmation(e){const t=new CustomEvent("drillConfirmed",{detail:{type:"drill_confirmation",title:e.title,description:e.description,scheduledDate:e.scheduledDate,scheduledTime:e.scheduledTime,location:e.location,drillType:e.drillType,targetClasses:e.targetClasses,teacherName:e.teacherName,confirmedAt:(new Date).toISOString()}});window.dispatchEvent(t),"granted"===Notification.permission&&new Notification("Drill Confirmed: ".concat(e.title),{body:"Date: ".concat(e.scheduledDate," at ").concat(e.scheduledTime," \u2022 Location: ").concat(e.location),icon:"/favicon.ico",tag:"drill-confirmation"})}};const Gk=function(){const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)([]),[o,a]=(0,i.useState)(!0),[s,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(!1);(0,i.useEffect)(()=>{d(),qk.connect(),qk.onNewModuleAssignment(e=>{t(t=>[e,...t])}),qk.onNewDrillConfirmation(e=>{r(t=>[e,...t])});const e=e=>{const n=e.detail;t(e=>[n,...e])},n=e=>{const t=e.detail;r(e=>[t,...e])};return window.addEventListener("moduleAssigned",e),window.addEventListener("drillConfirmed",n),()=>{qk.disconnect(),window.removeEventListener("moduleAssigned",e),window.removeEventListener("drillConfirmed",n)}},[]);const d=async()=>{try{a(!0);const[e,n]=await Promise.all([Kk.getAssignedModules(),Kk.getConfirmedDrills()]);t(e),r(n)}catch(e){console.error("Error loading student notifications:",e)}finally{a(!1)}},h=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return o?(0,Fe.jsx)("div",{className:"d-flex justify-content-center align-items-center py-3",children:(0,Fe.jsx)("div",{className:"spinner-border",role:"status",children:(0,Fe.jsx)("span",{className:"visually-hidden",children:"Loading notifications..."})})}):(0,Fe.jsxs)("div",{className:"row g-3",children:[(0,Fe.jsx)("div",{className:"col-12 col-md-6",children:(0,Fe.jsxs)("div",{className:"card border-primary",children:[(0,Fe.jsx)("div",{className:"card-header bg-primary text-white",children:(0,Fe.jsxs)("h6",{className:"card-title mb-0 d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-journal-text"}),"Assigned Modules"]})}),(0,Fe.jsx)("div",{className:"card-body",children:0===e.length?(0,Fe.jsxs)("div",{className:"text-center py-3",children:[(0,Fe.jsx)("i",{className:"bi bi-journal-x text-muted",style:{fontSize:"2rem"}}),(0,Fe.jsx)("p",{className:"text-muted mt-2 mb-0",children:"No modules assigned yet"})]}):(0,Fe.jsxs)("div",{className:"list-group list-group-flush",children:[(s?e:e.slice(0,2)).map((e,t)=>(0,Fe.jsx)("div",{className:"list-group-item border-0 px-0",children:(0,Fe.jsxs)("div",{className:"d-flex align-items-start gap-3",children:[(0,Fe.jsx)("div",{className:"flex-shrink-0",children:(0,Fe.jsx)("div",{className:"bg-primary-subtle rounded-circle d-flex align-items-center justify-content-center",style:{width:"40px",height:"40px"},children:(0,Fe.jsx)("i",{className:"bi bi-journal-text text-primary"})})}),(0,Fe.jsxs)("div",{className:"flex-grow-1",children:[(0,Fe.jsx)("h6",{className:"mb-1 fw-semibold",children:e.title}),(0,Fe.jsx)("p",{className:"mb-2 text-muted small",children:e.description}),(0,Fe.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,Fe.jsxs)("div",{className:"small text-muted",children:[(0,Fe.jsx)("i",{className:"bi bi-calendar me-1"}),"Due: ",h(e.dueDate),(0,Fe.jsx)("span",{className:"mx-2",children:"\u2022"}),(0,Fe.jsx)("i",{className:"bi bi-clock me-1"}),e.estimatedTime]}),(0,Fe.jsx)("span",{className:"badge bg-primary",children:"New"})]})]})]})},t)),e.length>2&&(0,Fe.jsx)("div",{className:"text-center mt-3",children:(0,Fe.jsx)("button",{className:"btn btn-outline-primary btn-sm",onClick:()=>l(!s),children:s?(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("i",{className:"bi bi-chevron-up me-1"}),"Show Less"]}):(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("i",{className:"bi bi-chevron-down me-1"}),"Show More (",e.length-2," more)"]})})})]})})]})}),(0,Fe.jsx)("div",{className:"col-12 col-md-6",children:(0,Fe.jsxs)("div",{className:"card border-success",children:[(0,Fe.jsx)("div",{className:"card-header bg-success text-white",children:(0,Fe.jsxs)("h6",{className:"card-title mb-0 d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-flag"}),"Confirmed Drills"]})}),(0,Fe.jsx)("div",{className:"card-body",children:0===n.length?(0,Fe.jsxs)("div",{className:"text-center py-3",children:[(0,Fe.jsx)("i",{className:"bi bi-flag text-muted",style:{fontSize:"2rem"}}),(0,Fe.jsx)("p",{className:"text-muted mt-2 mb-0",children:"No drills confirmed yet"})]}):(0,Fe.jsxs)("div",{className:"list-group list-group-flush",children:[(c?n:n.slice(0,2)).map((e,t)=>{return(0,Fe.jsx)("div",{className:"list-group-item border-0 px-0",children:(0,Fe.jsxs)("div",{className:"d-flex align-items-start gap-3",children:[(0,Fe.jsx)("div",{className:"flex-shrink-0",children:(0,Fe.jsx)("div",{className:"bg-success-subtle rounded-circle d-flex align-items-center justify-content-center",style:{width:"40px",height:"40px"},children:(0,Fe.jsx)("i",{className:"bi bi-flag text-success"})})}),(0,Fe.jsxs)("div",{className:"flex-grow-1",children:[(0,Fe.jsx)("h6",{className:"mb-1 fw-semibold",children:e.title}),(0,Fe.jsx)("p",{className:"mb-2 text-muted small",children:e.description}),(0,Fe.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,Fe.jsxs)("div",{className:"small text-muted",children:[(0,Fe.jsx)("i",{className:"bi bi-calendar me-1"}),h(e.scheduledDate),(0,Fe.jsx)("span",{className:"mx-2",children:"\u2022"}),(0,Fe.jsx)("i",{className:"bi bi-clock me-1"}),(n=e.scheduledTime,new Date("2000-01-01T".concat(n)).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})),(0,Fe.jsx)("span",{className:"mx-2",children:"\u2022"}),(0,Fe.jsx)("i",{className:"bi bi-geo-alt me-1"}),e.location]}),(0,Fe.jsx)("span",{className:"badge bg-success",children:"Confirmed"})]})]})]})},t);var n}),n.length>2&&(0,Fe.jsx)("div",{className:"text-center mt-3",children:(0,Fe.jsx)("button",{className:"btn btn-outline-success btn-sm",onClick:()=>u(!c),children:c?(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("i",{className:"bi bi-chevron-up me-1"}),"Show Less"]}):(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("i",{className:"bi bi-chevron-down me-1"}),"Show More (",n.length-2," more)"]})})})]})})]})})]})};const Yk=function(){return(0,Fe.jsxs)("div",{className:"py-4",children:[(0,Fe.jsxs)("div",{className:"p-4 p-md-5 mb-4 rounded-4 border position-relative overflow-hidden main-hero-card",children:[(0,Fe.jsx)("div",{className:"position-absolute top-0 end-0 opacity-25",style:{transform:"translate(20%, -20%)"},children:(0,Fe.jsx)("i",{className:"bi bi-radar hero-icon"})}),(0,Fe.jsxs)("div",{className:"container-fluid py-3 position-relative",children:[(0,Fe.jsxs)("div",{className:"d-flex align-items-center gap-3 mb-2",children:[(0,Fe.jsx)("i",{className:"bi bi-shield-fill-exclamation text-danger",style:{fontSize:32}}),(0,Fe.jsx)("h1",{className:"display-6 fw-semibold mb-0 hero-title",children:"Disaster Preparedness & Response Education"})]}),(0,Fe.jsx)("p",{className:"col-md-10 fs-5 hero-description",children:"Interactive modules, region-specific alerts, virtual drills, and gamified learning to build disaster-ready campuses."}),(0,Fe.jsxs)("div",{className:"d-flex flex-wrap gap-2",children:[(0,Fe.jsxs)(Ie,{className:"btn btn-primary",to:"/learn",children:[(0,Fe.jsx)("i",{className:"bi bi-play-fill me-1"}),"Start Learning"]}),(0,Fe.jsxs)(Ie,{className:"btn btn-warning",to:"/disaster-simulation",children:[(0,Fe.jsx)("i",{className:"bi bi-shield-exclamation me-1"}),"Disaster Simulation"]}),(0,Fe.jsxs)(Ie,{className:"btn btn-outline-secondary",to:"/alerts",children:[(0,Fe.jsx)("i",{className:"bi bi-broadcast me-1"}),"View Alerts"]})]})]})]}),(0,Fe.jsx)("div",{className:"row g-3 mb-4",children:(0,Fe.jsx)("div",{className:"col-12",children:(0,Fe.jsxs)("div",{className:"d-flex flex-wrap gap-3 justify-content-between align-items-center p-3 rounded-4 border bg-white shadow-sm",children:[(0,Fe.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-people text-primary"}),(0,Fe.jsx)("span",{className:"small text-muted",children:"Students onboarded"}),(0,Fe.jsx)("span",{className:"fw-semibold",children:"1,240"})]}),(0,Fe.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-film text-danger"}),(0,Fe.jsx)("span",{className:"small text-muted",children:"Modules completed"}),(0,Fe.jsx)("span",{className:"fw-semibold",children:"8,420"})]}),(0,Fe.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-flag text-success"}),(0,Fe.jsx)("span",{className:"small text-muted",children:"Drill recorded"}),(0,Fe.jsx)("span",{className:"fw-semibold",children:"156"})]}),(0,Fe.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-shield-exclamation text-warning"}),(0,Fe.jsx)("span",{className:"small text-muted",children:"Simulations played"}),(0,Fe.jsx)("span",{className:"fw-semibold",children:"2,847"})]}),(0,Fe.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-shield-check text-info"}),(0,Fe.jsx)("span",{className:"small text-muted",children:"Avg preparedness"}),(0,Fe.jsx)("span",{className:"fw-semibold",children:"81%"})]})]})})}),(0,Fe.jsxs)("div",{className:"row g-3 mb-4",children:[(0,Fe.jsx)("div",{className:"col-12 col-md-6 col-xl-3",children:(0,Fe.jsx)("div",{className:"card h-100 shadow-sm",children:(0,Fe.jsxs)("div",{className:"card-body d-flex align-items-start gap-3",children:[(0,Fe.jsx)("i",{className:"bi bi-mortarboard fs-2 text-primary"}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"fw-semibold",children:"Interactive Learning"}),(0,Fe.jsx)("div",{className:"text-muted small",children:"Bite-sized videos and quizzes."})]})]})})}),(0,Fe.jsx)("div",{className:"col-12 col-md-6 col-xl-3",children:(0,Fe.jsx)("div",{className:"card h-100 shadow-sm",children:(0,Fe.jsxs)("div",{className:"card-body d-flex align-items-start gap-3",children:[(0,Fe.jsx)("i",{className:"bi bi-broadcast fs-2 text-danger"}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"fw-semibold",children:"Region Alerts"}),(0,Fe.jsx)("div",{className:"text-muted small",children:"Stay updated and prepared."})]})]})})}),(0,Fe.jsx)("div",{className:"col-12 col-md-6 col-xl-3",children:(0,Fe.jsx)("div",{className:"card h-100 shadow-sm",children:(0,Fe.jsxs)("div",{className:"card-body d-flex align-items-start gap-3",children:[(0,Fe.jsx)("i",{className:"bi bi-joystick fs-2 text-success"}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"fw-semibold",children:"Virtual Drills"}),(0,Fe.jsx)("div",{className:"text-muted small",children:"Practice safely with simulations."})]})]})})}),(0,Fe.jsx)("div",{className:"col-12 col-md-6 col-xl-3",children:(0,Fe.jsx)("div",{className:"card h-100 shadow-sm border-warning",children:(0,Fe.jsxs)("div",{className:"card-body d-flex align-items-start gap-3",children:[(0,Fe.jsx)("i",{className:"bi bi-shield-exclamation fs-2 text-warning"}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"fw-semibold",children:"Disaster Simulation"}),(0,Fe.jsx)("div",{className:"text-muted small",children:"Interactive emergency training."}),(0,Fe.jsxs)(Ie,{to:"/disaster-simulation",className:"btn btn-warning btn-sm mt-2",children:[(0,Fe.jsx)("i",{className:"bi bi-play-fill me-1"}),"Try Now"]})]})]})})}),(0,Fe.jsx)("div",{className:"col-12 col-md-6 col-xl-3",children:(0,Fe.jsx)("div",{className:"card h-100 shadow-sm",children:(0,Fe.jsxs)("div",{className:"card-body d-flex align-items-start gap-3",children:[(0,Fe.jsx)("i",{className:"bi bi-trophy fs-2 text-warning"}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"fw-semibold",children:"Gamified"}),(0,Fe.jsx)("div",{className:"text-muted small",children:"Points, badges, leaderboard."})]})]})})})]}),(0,Fe.jsx)("div",{className:"mb-4",children:(0,Fe.jsx)(Gk,{})}),(0,Fe.jsx)("div",{className:"mb-4",children:(0,Fe.jsx)(Wk,{userRole:"student"})})]})};const Xk=function(){var e,t;const[n,r]=(0,i.useState)([]),[o,a]=(0,i.useState)(!0),[s,l]=(0,i.useState)(null),[c,u]=(0,i.useState)(!1);(0,i.useEffect)(()=>{d(),qk.connect(),qk.onNewModuleAssignment(e=>{r(t=>[e,...t])});const e=e=>{const t=e.detail;r(e=>[t,...e])};return window.addEventListener("moduleAssigned",e),()=>{qk.disconnect(),window.removeEventListener("moduleAssigned",e)}},[]);const d=async()=>{try{a(!0);const e=await Kk.getAssignedModules();console.log("Loaded modules:",e),r(e)}catch(e){console.error("Error loading modules:",e)}finally{a(!1)}},h=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),f=e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]},p=e=>e.includes("video")?"bi-camera-video text-primary":e.includes("pdf")?"bi-file-pdf text-danger":"bi-file-earmark text-secondary",m=e=>new Date(e)<new Date,g=e=>{const t=new Date;return t.setDate(t.getDate()+3),new Date(e)<=t&&new Date(e)>new Date},y=(e,t)=>{e&&e.url?(console.log("Opening ".concat(t," file:"),e.url),fetch(e.url,{method:"HEAD"}).then(t=>{t.ok?window.open(e.url,"_blank"):alert("File not accessible. Status: ".concat(t.status))}).catch(e=>{console.error("Error accessing file:",e),alert("Error accessing file. Please try again.")})):alert("File URL not available")};return o?(0,Fe.jsx)("div",{className:"d-flex justify-content-center align-items-center py-5",children:(0,Fe.jsx)("div",{className:"spinner-border",role:"status",children:(0,Fe.jsx)("span",{className:"visually-hidden",children:"Loading modules..."})})}):(0,Fe.jsxs)("div",{className:"row g-3",children:[(0,Fe.jsx)("div",{className:"col-12",children:(0,Fe.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,Fe.jsxs)("h5",{className:"mb-0 d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-journal-text text-primary"}),"Modules Assigned by Teachers"]}),(0,Fe.jsxs)("button",{className:"btn btn-outline-primary btn-sm",onClick:d,children:[(0,Fe.jsx)("i",{className:"bi bi-arrow-clockwise me-1"}),"Refresh"]})]})}),0===n.length?(0,Fe.jsx)("div",{className:"col-12",children:(0,Fe.jsx)("div",{className:"card",children:(0,Fe.jsxs)("div",{className:"card-body text-center py-5",children:[(0,Fe.jsx)("i",{className:"bi bi-journal-x text-muted",style:{fontSize:"3rem"}}),(0,Fe.jsx)("h5",{className:"mt-3 text-muted",children:"No modules assigned yet"}),(0,Fe.jsx)("p",{className:"text-muted",children:"Your teachers will assign modules with videos and PDFs here."})]})})}):(0,Fe.jsxs)(Fe.Fragment,{children:[(c?n:n.slice(0,2)).map((e,t)=>{var n,r;return(0,Fe.jsx)("div",{className:"col-12 col-lg-6",children:(0,Fe.jsxs)("div",{className:"card h-100 ".concat(m(e.dueDate)?"border-danger":g(e.dueDate)?"border-warning":"border-primary"),children:[(0,Fe.jsx)("div",{className:"card-header bg-light",children:(0,Fe.jsxs)("div",{className:"d-flex justify-content-between align-items-start",children:[(0,Fe.jsx)("h6",{className:"card-title mb-0 fw-semibold",children:e.title}),(0,Fe.jsx)("div",{className:"d-flex gap-1",children:m(e.dueDate)?(0,Fe.jsx)("span",{className:"badge bg-danger",children:"Overdue"}):g(e.dueDate)?(0,Fe.jsx)("span",{className:"badge bg-warning",children:"Due Soon"}):(0,Fe.jsx)("span",{className:"badge bg-success",children:"Active"})})]})}),(0,Fe.jsxs)("div",{className:"card-body",children:[(0,Fe.jsx)("p",{className:"card-text text-muted small mb-3",children:e.description}),(0,Fe.jsxs)("div",{className:"row g-2 mb-3",children:[(0,Fe.jsxs)("div",{className:"col-6",children:[(0,Fe.jsx)("small",{className:"text-muted d-block",children:"Due Date"}),(0,Fe.jsx)("span",{className:"fw-semibold",children:h(e.dueDate)})]}),(0,Fe.jsxs)("div",{className:"col-6",children:[(0,Fe.jsx)("small",{className:"text-muted d-block",children:"Estimated Time"}),(0,Fe.jsx)("span",{className:"fw-semibold",children:e.estimatedTime})]})]}),((null===(n=e.files)||void 0===n?void 0:n.video)||(null===(r=e.files)||void 0===r?void 0:r.pdf))&&(0,Fe.jsxs)("div",{className:"mb-3",children:[(0,Fe.jsx)("h6",{className:"small fw-semibold text-muted mb-2",children:"Attached Files"}),(0,Fe.jsxs)("div",{className:"d-flex flex-wrap gap-2",children:[e.files.video&&(0,Fe.jsxs)("div",{className:"d-flex align-items-center gap-2 p-2 bg-primary-subtle rounded",children:[(0,Fe.jsx)("i",{className:"bi ".concat(p(e.files.video.type))}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"small fw-semibold",children:e.files.video.originalName}),(0,Fe.jsx)("div",{className:"small text-muted",children:f(e.files.video.size)})]})]}),e.files.pdf&&(0,Fe.jsxs)("div",{className:"d-flex align-items-center gap-2 p-2 bg-danger-subtle rounded",children:[(0,Fe.jsx)("i",{className:"bi ".concat(p(e.files.pdf.type))}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"small fw-semibold",children:e.files.pdf.originalName}),(0,Fe.jsx)("div",{className:"small text-muted",children:f(e.files.pdf.size)})]})]})]})]}),(0,Fe.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,Fe.jsxs)("div",{className:"small text-muted",children:[(0,Fe.jsx)("i",{className:"bi bi-person me-1"}),"Assigned by ",e.teacherName]}),(0,Fe.jsxs)("button",{className:"btn btn-primary btn-sm",onClick:()=>l(e),children:[(0,Fe.jsx)("i",{className:"bi bi-eye me-1"}),"View Details"]})]})]})]})},e._id||t)}),n.length>2&&(0,Fe.jsx)("div",{className:"col-12 text-center mt-3",children:(0,Fe.jsx)("button",{className:"btn btn-outline-primary btn-sm",onClick:()=>u(!c),children:c?(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("i",{className:"bi bi-chevron-up me-1"}),"Show Less"]}):(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("i",{className:"bi bi-chevron-down me-1"}),"Show More (",n.length-2," more)"]})})})]}),s&&(0,Fe.jsx)("div",{className:"modal fade show",style:{display:"block"},tabIndex:"-1",children:(0,Fe.jsx)("div",{className:"modal-dialog modal-lg",children:(0,Fe.jsxs)("div",{className:"modal-content",children:[(0,Fe.jsxs)("div",{className:"modal-header",children:[(0,Fe.jsxs)("h5",{className:"modal-title d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-journal-text text-primary"}),s.title]}),(0,Fe.jsx)("button",{type:"button",className:"btn-close",onClick:()=>l(null)})]}),(0,Fe.jsx)("div",{className:"modal-body",children:(0,Fe.jsxs)("div",{className:"row g-3",children:[(0,Fe.jsxs)("div",{className:"col-12",children:[(0,Fe.jsx)("h6",{children:"Description"}),(0,Fe.jsx)("p",{children:s.description})]}),(0,Fe.jsxs)("div",{className:"col-md-6",children:[(0,Fe.jsx)("h6",{children:"Due Date"}),(0,Fe.jsx)("p",{className:"mb-0",children:h(s.dueDate)})]}),(0,Fe.jsxs)("div",{className:"col-md-6",children:[(0,Fe.jsx)("h6",{children:"Estimated Time"}),(0,Fe.jsx)("p",{className:"mb-0",children:s.estimatedTime})]}),(0,Fe.jsxs)("div",{className:"col-md-6",children:[(0,Fe.jsx)("h6",{children:"Assigned by"}),(0,Fe.jsx)("p",{className:"mb-0",children:s.teacherName})]}),(0,Fe.jsxs)("div",{className:"col-md-6",children:[(0,Fe.jsx)("h6",{children:"Target Classes"}),(0,Fe.jsx)("div",{className:"d-flex flex-wrap gap-1",children:s.targetClasses.map((e,t)=>(0,Fe.jsx)("span",{className:"badge bg-primary",children:e},t))})]}),((null===(e=s.files)||void 0===e?void 0:e.video)||(null===(t=s.files)||void 0===t?void 0:t.pdf))&&(0,Fe.jsxs)("div",{className:"col-12",children:[(0,Fe.jsx)("h6",{children:"Attached Files"}),(0,Fe.jsxs)("div",{className:"row g-3",children:[s.files.video&&(0,Fe.jsx)("div",{className:"col-md-6",children:(0,Fe.jsx)("div",{className:"card border-primary",children:(0,Fe.jsx)("div",{className:"card-body",children:(0,Fe.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[(0,Fe.jsx)("i",{className:"bi bi-camera-video text-primary",style:{fontSize:"2rem"}}),(0,Fe.jsxs)("div",{className:"flex-grow-1",children:[(0,Fe.jsx)("h6",{className:"card-title mb-1",children:s.files.video.originalName}),(0,Fe.jsx)("p",{className:"card-text small text-muted mb-2",children:f(s.files.video.size)}),(0,Fe.jsxs)("button",{className:"btn btn-primary btn-sm",onClick:()=>y(s.files.video,"video"),children:[(0,Fe.jsx)("i",{className:"bi bi-play-circle me-1"}),"Watch Video"]})]})]})})})}),s.files.pdf&&(0,Fe.jsx)("div",{className:"col-md-6",children:(0,Fe.jsx)("div",{className:"card border-danger",children:(0,Fe.jsx)("div",{className:"card-body",children:(0,Fe.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[(0,Fe.jsx)("i",{className:"bi bi-file-pdf text-danger",style:{fontSize:"2rem"}}),(0,Fe.jsxs)("div",{className:"flex-grow-1",children:[(0,Fe.jsx)("h6",{className:"card-title mb-1",children:s.files.pdf.originalName}),(0,Fe.jsx)("p",{className:"card-text small text-muted mb-2",children:f(s.files.pdf.size)}),(0,Fe.jsxs)("button",{className:"btn btn-danger btn-sm",onClick:()=>y(s.files.pdf,"pdf"),children:[(0,Fe.jsx)("i",{className:"bi bi-download me-1"}),"Download PDF"]})]})]})})})})]})]})]})}),(0,Fe.jsx)("div",{className:"modal-footer",children:(0,Fe.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>l(null),children:"Close"})})]})})})]})},Qk=[{id:"earthquake",name:"Earthquake"},{id:"flood",name:"Flood"},{id:"fire",name:"Fire Safety"},{id:"cyclone",name:"Cyclone"},{id:"landslide",name:"Landslide"}],$k={earthquake:[{id:"eq-bend-cover-hold",title:"Bend Cover Hold",videoPath:"/Videos/Earthquake/Bend Cover Hold.mp4",minutes:4},{id:"eq-dos-donts",title:"Earthquake - DOs & DONTs",videoPath:"/Videos/Earthquake/Earthquake - DOs & DONTs.mp4",minutes:5},{id:"eq-outdoors-safety",title:"How to Stay Safe if outdoors during an earthquake",videoPath:"/Videos/Earthquake/How to Stay Safe if outdoors during an earthquake.mp4",minutes:6}],flood:[{id:"flood-dos-donts",title:"Dos and Donts to follow during a flood",videoPath:"/Videos/Flood/Dos and Donts to follow during a flood.mp4",minutes:5},{id:"flood-secure-after",title:"Here are some ways by which you can secure yourself after a flood",videoPath:"/Videos/Flood/Here are some ways by which you can secure yourself after a flood.mp4",minutes:6},{id:"flood-prepare-before",title:"Know how you can stay prepared before floods",videoPath:"/Videos/Flood/Know how you can stay prepared before floods",minutes:5}],fire:[{id:"fire-safety-kids",title:"Fire Safety for Kids",videoPath:"/Videos/Fire Safety/Fire Safety for Kids.mp4",minutes:4},{id:"fire-tips-dos-donts",title:"Fire Tips - Do's and don'ts & must haves",videoPath:"/Videos/Fire Safety/Fire Tips - Do's and don'ts & must haves.mp4",minutes:5}],cyclone:[{id:"cyclone-early-warning",title:"Know where all you can get early warning information for cyclones",videoPath:"/Videos/Cyclone/Know where all you can get early warning information for cyclones.mp4",minutes:6},{id:"cyclone-prepare",title:"Prepare yourself for a cyclone with these do's and don'ts",videoPath:"/Videos/Cyclone/Prepare yourself for a cyclone with these do's and don'ts.mp4",minutes:5},{id:"cyclone-secure-house",title:"Secure your house from a cyclone with these methods",videoPath:"/Videos/Cyclone/Secure your house from a cyclone with these methods.mp4",minutes:6}],landslide:[{id:"landslide-prepare",title:"How to stay prepared for a landslide",videoPath:"/Videos/Landslide/How to stay prepared for a landslide_.mp4",minutes:5},{id:"landslide-stay-safe",title:"How to stay safe during a landslide",videoPath:"/Videos/Landslide/How to stay safe during a landslide_.mp4",minutes:4},{id:"landslide-reasons",title:"What are the reasons for a landslide",videoPath:"/Videos/Landslide/What are the reasons for a landslide_.mp4",minutes:5}]},Jk={"IN-AS":["flood","earthquake"],"IN-HP":["landslide","earthquake"],"IN-GJ":["cyclone","earthquake"],"IN-MH":["cyclone","flood"]};const Zk=function(){const[e,t]=(0,i.useState)("IN-HP"),[n,r]=(0,i.useState)({}),[o,a]=(0,i.useState)("earthquake"),[s,l]=(0,i.useState)(null),[c,u]=(0,i.useState)("learning"),d=(0,i.useMemo)(()=>{const t=[];return(Jk[e]||["earthquake","fire"]).forEach(e=>{$k[e]&&t.push(...$k[e])}),t},[e]),h=(0,i.useMemo)(()=>$k[o]||[],[o]),f=e=>{l(e)},p=()=>{l(null)};return(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"mb-4",children:(0,Fe.jsxs)("ul",{className:"nav nav-tabs",id:"learnTabs",role:"tablist",children:[(0,Fe.jsx)("li",{className:"nav-item",role:"presentation",children:(0,Fe.jsxs)("button",{className:"nav-link ".concat("learning"===c?"active":""),onClick:()=>u("learning"),type:"button",children:[(0,Fe.jsx)("i",{className:"bi bi-mortarboard me-2"}),"Learning Modules"]})}),(0,Fe.jsx)("li",{className:"nav-item",role:"presentation",children:(0,Fe.jsxs)("button",{className:"nav-link ".concat("assigned"===c?"active":""),onClick:()=>u("assigned"),type:"button",children:[(0,Fe.jsx)("i",{className:"bi bi-person-workspace me-2"}),"Modules Assigned by Teachers"]})})]})}),(0,Fe.jsxs)("div",{className:"tab-content",children:["learning"===c&&(0,Fe.jsxs)("div",{className:"row g-3",children:[(0,Fe.jsxs)("div",{className:"col-12 col-md-4",children:[(0,Fe.jsx)("div",{className:"card shadow-sm",children:(0,Fe.jsxs)("div",{className:"card-body",children:[(0,Fe.jsxs)("h5",{className:"card-title d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-geo-alt text-primary"}),"Your Region"]}),(0,Fe.jsxs)("select",{className:"form-select",value:e,onChange:e=>t(e.target.value),children:[(0,Fe.jsx)("option",{value:"IN-AS",children:"Assam"}),(0,Fe.jsx)("option",{value:"IN-HP",children:"Himachal Pradesh"}),(0,Fe.jsx)("option",{value:"IN-GJ",children:"Gujarat"}),(0,Fe.jsx)("option",{value:"IN-MH",children:"Maharashtra"})]})]})}),(0,Fe.jsx)("div",{className:"card mt-3 shadow-sm",children:(0,Fe.jsxs)("div",{className:"card-body",children:[(0,Fe.jsxs)("h5",{className:"card-title d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-stars text-warning"}),"Recommended Courses"]}),(0,Fe.jsx)("p",{className:"text-muted small mb-3",children:"Based on your region's disaster risk profile"}),(0,Fe.jsx)("ul",{className:"list-group",children:d.map(e=>(0,Fe.jsxs)("li",{className:"list-group-item d-flex justify-content-between align-items-center cursor-pointer",style:{cursor:"pointer"},onClick:()=>f(e),children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"fw-medium",children:e.title}),(0,Fe.jsx)("small",{className:"text-muted text-capitalize",children:e.id.split("-")[0]})]}),(0,Fe.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,Fe.jsxs)("span",{className:"badge bg-primary rounded-pill",children:[e.minutes,"m"]}),(0,Fe.jsx)("i",{className:"bi bi-play-circle text-primary"})]})]},e.id))})]})})]}),(0,Fe.jsxs)("div",{className:"col-12 col-md-8",children:[(0,Fe.jsxs)("div",{className:"d-flex align-items-center justify-content-between mb-2 p-3 rounded-4 border bg-white shadow-sm",children:[(0,Fe.jsxs)("h4",{className:"mb-0 d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-mortarboard text-primary"}),"Modules"]}),(0,Fe.jsx)("select",{className:"form-select w-auto",value:o,onChange:e=>a(e.target.value),children:Qk.map(e=>(0,Fe.jsx)("option",{value:e.id,children:e.name},e.id))})]}),(0,Fe.jsx)("div",{className:"row g-3",children:h.map(e=>(0,Fe.jsx)("div",{className:"col-12 col-lg-6",children:(0,Fe.jsx)("div",{className:"card h-100 shadow-sm",children:(0,Fe.jsxs)("div",{className:"card-body",children:[(0,Fe.jsx)("h5",{className:"card-title",children:e.title}),(0,Fe.jsx)("p",{className:"card-text",children:"Educational video with practical safety information."}),(0,Fe.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,Fe.jsxs)("span",{className:"text-muted small",children:[e.minutes," minutes"]}),(0,Fe.jsxs)("button",{className:"btn btn-outline-primary btn-sm",onClick:()=>f(e),children:[(0,Fe.jsx)("i",{className:"bi bi-play-fill me-1"}),"Watch Video"]})]}),(0,Fe.jsx)("div",{className:"progress mt-3",role:"progressbar","aria-label":"module progress","aria-valuenow":n[e.id]||0,"aria-valuemin":"0","aria-valuemax":"100",children:(0,Fe.jsx)("div",{className:"progress-bar",style:{width:"".concat(n[e.id]||0,"%")},children:n[e.id]?"".concat(n[e.id],"%"):""})})]})})},e.id))}),s&&(0,Fe.jsx)("div",{className:"modal show d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:(0,Fe.jsx)("div",{className:"modal-dialog modal-lg modal-dialog-centered",children:(0,Fe.jsxs)("div",{className:"modal-content",children:[(0,Fe.jsxs)("div",{className:"modal-header",children:[(0,Fe.jsx)("h5",{className:"modal-title",children:s.title}),(0,Fe.jsx)("button",{type:"button",className:"btn-close",onClick:p})]}),(0,Fe.jsx)("div",{className:"modal-body",children:(0,Fe.jsx)("div",{className:"ratio ratio-16x9",children:(0,Fe.jsxs)("video",{controls:!0,className:"rounded",onEnded:()=>r(e=>lt(lt({},e),{},{[s.id]:100})),children:[(0,Fe.jsx)("source",{src:s.videoPath,type:"video/mp4"}),"Your browser does not support the video tag."]})})}),(0,Fe.jsx)("div",{className:"modal-footer",children:(0,Fe.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:p,children:"Close"})})]})})})]})]}),"assigned"===c&&(0,Fe.jsx)("div",{children:(0,Fe.jsx)(Xk,{})})]})]})};const eT=new class{constructor(){this.baseURL={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:5000/api",this.token=localStorage.getItem("token")}setToken(e){this.token=e,localStorage.setItem("token",e)}async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n="".concat(this.baseURL).concat(e),r=lt({headers:lt({"Content-Type":"application/json"},this.token&&{Authorization:"Bearer ".concat(this.token)})},t);try{const e=await fetch(n,r),t=await e.json();if(!e.ok)throw new Error(t.message||"Something went wrong");return t}catch(i){throw console.error("Alert API Error:",i),i}}async createAlert(e){try{const t=await this.request("/alerts",{method:"POST",body:JSON.stringify(e)});return this.simulateRealTimeAlert(t.data),t}catch(t){throw new Error("Failed to create alert: "+t.message)}}async getAlerts(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const t=new URLSearchParams(e).toString(),n="/alerts".concat(t?"?".concat(t):"");return await this.request(n)}catch(t){throw console.error("Error fetching alerts:",t),new Error("Failed to fetch alerts: "+t.message)}}async getAlertById(e){try{return await this.request("/alerts/".concat(e))}catch(t){throw new Error("Failed to fetch alert: "+t.message)}}async updateAlert(e,t){try{return await this.request("/alerts/".concat(e),{method:"PUT",body:JSON.stringify(t)})}catch(n){throw new Error("Failed to update alert: "+n.message)}}async deleteAlert(e){try{return await this.request("/alerts/".concat(e),{method:"DELETE"})}catch(t){throw new Error("Failed to delete alert: "+t.message)}}async getAlertsByRegion(e){return this.getAlerts({region:e})}async getAlertStats(){try{return await this.request("/alerts/stats")}catch(e){throw console.error("Error fetching alert stats:",e),new Error("Failed to fetch alert statistics: "+e.message)}}simulateRealTimeAlert(e){const t=new CustomEvent("newAlert",{detail:{type:"alert",id:e.id,title:e.title,description:e.description,alertType:e.alertType,severity:e.severity,region:e.region,affectedAreas:e.affectedAreas,validFrom:e.validFrom,validUntil:e.validUntil,createdAt:e.createdAt}});window.dispatchEvent(t),"granted"===Notification.permission&&new Notification("New Alert: ".concat(e.title),{body:e.description,icon:"/favicon.ico",tag:"alert-notification"})}getCurrentUserId(){return localStorage.getItem("userId")||"admin-user"}subscribeToAlerts(e){const t=t=>{e(t.detail)};return window.addEventListener("newAlert",t),()=>{window.removeEventListener("newAlert",t)}}};const tT=function(){const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(!0),[o,a]=(0,i.useState)({region:"",alertType:"",severity:"",page:1,limit:10}),[s,l]=(0,i.useState)({}),[c,u]=(0,i.useState)({}),[d,h]=(0,i.useState)(null),f=Cg();(0,i.useEffect)(()=>{p(),m();return eT.subscribeToAlerts(e=>{t(t=>[e,...t])})},[]),(0,i.useEffect)(()=>{p()},[o]);const p=async()=>{try{r(!0);const e=await eT.getAlerts(o);t(e.data.alerts),l(e.data.pagination)}catch(e){console.error("Error loading alerts:",e)}finally{r(!1)}},m=async()=>{try{const e=await eT.getAlertStats();u(e.data.stats)}catch(e){console.error("Error loading stats:",e),u({total:0,active:0,recent:0,byType:{},bySeverity:{},byRegion:{}})}},g=(e,t)=>{a(n=>lt(lt({},n),{},{[e]:t,page:1}))},y=e=>{a(t=>lt(lt({},t),{},{page:e}))},v=e=>({earthquake:"\ud83c\udf0d",flood:"\ud83c\udf0a",fire:"\ud83d\udd25",cyclone:"\ud83c\udf00",landslide:"\u26f0\ufe0f",tsunami:"\ud83c\udf0a",drought:"\u2600\ufe0f",general:"\ud83d\udce2"}[e]||"\ud83d\udce2"),b=e=>({low:"success",medium:"warning",high:"danger",critical:"dark"}[e]||"secondary"),x=e=>({low:"Low",medium:"Medium",high:"High",critical:"Critical"}[e]||"Unknown"),w=e=>new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),j=e=>{const t=new Date,n=e.validFrom?new Date(e.validFrom):new Date(0),r=e.validUntil?new Date(e.validUntil):new Date(9999,11,31);return t>=n&&t<=r};return n?(0,Fe.jsx)("div",{className:"d-flex justify-content-center align-items-center py-5",children:(0,Fe.jsx)("div",{className:"spinner-border",role:"status",children:(0,Fe.jsx)("span",{className:"visually-hidden",children:"Loading alerts..."})})}):(0,Fe.jsxs)("div",{className:"row g-3",children:[(0,Fe.jsx)("div",{className:"col-12",children:(0,Fe.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,Fe.jsxs)("h4",{className:"mb-0 d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-broadcast text-danger"}),"Emergency Alerts"]}),(0,Fe.jsxs)("div",{className:"d-flex gap-2",children:[(0,Fe.jsxs)("button",{className:"btn btn-outline-primary btn-sm",onClick:p,children:[(0,Fe.jsx)("i",{className:"bi bi-arrow-clockwise me-1"}),"Refresh"]}),"admin"===(null===f||void 0===f?void 0:f.role)&&(0,Fe.jsxs)("button",{className:"btn btn-primary btn-sm",onClick:()=>window.location.href="/admin",children:[(0,Fe.jsx)("i",{className:"bi bi-plus me-1"}),"Create Alert"]})]})]})}),(0,Fe.jsx)("div",{className:"col-12",children:(0,Fe.jsxs)("div",{className:"row g-3",children:[(0,Fe.jsx)("div",{className:"col-6 col-md-3",children:(0,Fe.jsx)("div",{className:"card bg-primary text-white",children:(0,Fe.jsxs)("div",{className:"card-body text-center",children:[(0,Fe.jsx)("h5",{className:"card-title",children:c.total||0}),(0,Fe.jsx)("p",{className:"card-text small",children:"Total Alerts"})]})})}),(0,Fe.jsx)("div",{className:"col-6 col-md-3",children:(0,Fe.jsx)("div",{className:"card bg-success text-white",children:(0,Fe.jsxs)("div",{className:"card-body text-center",children:[(0,Fe.jsx)("h5",{className:"card-title",children:c.active||0}),(0,Fe.jsx)("p",{className:"card-text small",children:"Active Alerts"})]})})}),(0,Fe.jsx)("div",{className:"col-6 col-md-3",children:(0,Fe.jsx)("div",{className:"card bg-warning text-white",children:(0,Fe.jsxs)("div",{className:"card-body text-center",children:[(0,Fe.jsx)("h5",{className:"card-title",children:c.recent||0}),(0,Fe.jsx)("p",{className:"card-text small",children:"This Week"})]})})}),(0,Fe.jsx)("div",{className:"col-6 col-md-3",children:(0,Fe.jsx)("div",{className:"card bg-info text-white",children:(0,Fe.jsxs)("div",{className:"card-body text-center",children:[(0,Fe.jsx)("h5",{className:"card-title",children:(null===f||void 0===f?void 0:f.institution)||"Your Region"}),(0,Fe.jsx)("p",{className:"card-text small",children:"Your Region"})]})})})]})}),(0,Fe.jsx)("div",{className:"col-12",children:(0,Fe.jsx)("div",{className:"card",children:(0,Fe.jsxs)("div",{className:"card-body",children:[(0,Fe.jsx)("h6",{className:"card-title",children:"Filter Alerts"}),(0,Fe.jsxs)("div",{className:"row g-3",children:[(0,Fe.jsxs)("div",{className:"col-12 col-md-3",children:[(0,Fe.jsx)("label",{className:"form-label",children:"Region"}),(0,Fe.jsx)("select",{className:"form-select",value:o.region,onChange:e=>g("region",e.target.value),children:[{value:"",label:"All Regions"},{value:"Himachal Pradesh",label:"Himachal Pradesh"},{value:"Assam",label:"Assam"},{value:"Bihar",label:"Bihar"},{value:"Uttarakhand",label:"Uttarakhand"},{value:"Kerala",label:"Kerala"},{value:"Tamil Nadu",label:"Tamil Nadu"},{value:"Gujarat",label:"Gujarat"},{value:"Maharashtra",label:"Maharashtra"},{value:"West Bengal",label:"West Bengal"},{value:"Odisha",label:"Odisha"},{value:"Andhra Pradesh",label:"Andhra Pradesh"},{value:"Karnataka",label:"Karnataka"},{value:"Rajasthan",label:"Rajasthan"},{value:"Punjab",label:"Punjab"},{value:"Haryana",label:"Haryana"},{value:"Delhi",label:"Delhi"},{value:"Uttar Pradesh",label:"Uttar Pradesh"},{value:"Madhya Pradesh",label:"Madhya Pradesh"},{value:"Jharkhand",label:"Jharkhand"},{value:"Chhattisgarh",label:"Chhattisgarh"}].map(e=>(0,Fe.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,Fe.jsxs)("div",{className:"col-12 col-md-3",children:[(0,Fe.jsx)("label",{className:"form-label",children:"Alert Type"}),(0,Fe.jsx)("select",{className:"form-select",value:o.alertType,onChange:e=>g("alertType",e.target.value),children:[{value:"",label:"All Types"},{value:"earthquake",label:"Earthquake"},{value:"flood",label:"Flood"},{value:"fire",label:"Fire"},{value:"cyclone",label:"Cyclone"},{value:"landslide",label:"Landslide"},{value:"tsunami",label:"Tsunami"},{value:"drought",label:"Drought"},{value:"general",label:"General"}].map(e=>(0,Fe.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,Fe.jsxs)("div",{className:"col-12 col-md-3",children:[(0,Fe.jsx)("label",{className:"form-label",children:"Severity"}),(0,Fe.jsx)("select",{className:"form-select",value:o.severity,onChange:e=>g("severity",e.target.value),children:[{value:"",label:"All Severities"},{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"},{value:"critical",label:"Critical"}].map(e=>(0,Fe.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,Fe.jsxs)("div",{className:"col-12 col-md-3",children:[(0,Fe.jsx)("label",{className:"form-label",children:"Results per page"}),(0,Fe.jsxs)("select",{className:"form-select",value:o.limit,onChange:e=>g("limit",parseInt(e.target.value)),children:[(0,Fe.jsx)("option",{value:5,children:"5 per page"}),(0,Fe.jsx)("option",{value:10,children:"10 per page"}),(0,Fe.jsx)("option",{value:20,children:"20 per page"}),(0,Fe.jsx)("option",{value:50,children:"50 per page"})]})]})]})]})})}),(0,Fe.jsx)("div",{className:"col-12",children:0===e.length?(0,Fe.jsx)("div",{className:"card",children:(0,Fe.jsxs)("div",{className:"card-body text-center py-5",children:[(0,Fe.jsx)("i",{className:"bi bi-bell-slash text-muted",style:{fontSize:"3rem"}}),(0,Fe.jsx)("h5",{className:"mt-3 text-muted",children:"No alerts found"}),(0,Fe.jsx)("p",{className:"text-muted",children:"No alerts match your current filters."})]})}):(0,Fe.jsx)("div",{className:"row g-3",children:e.map(e=>(0,Fe.jsx)("div",{className:"col-12 col-lg-6",children:(0,Fe.jsx)("div",{className:"card h-100 ".concat(j(e)?"border-danger":"border-secondary"),children:(0,Fe.jsx)("div",{className:"card-body",children:(0,Fe.jsxs)("div",{className:"d-flex align-items-start gap-3",children:[(0,Fe.jsx)("div",{className:"flex-shrink-0",children:(0,Fe.jsx)("div",{className:"bg-".concat(b(e.severity),"-subtle rounded-circle d-flex align-items-center justify-content-center"),style:{width:"50px",height:"50px"},children:(0,Fe.jsx)("span",{style:{fontSize:"1.5rem"},children:v(e.alertType)})})}),(0,Fe.jsxs)("div",{className:"flex-grow-1",children:[(0,Fe.jsxs)("div",{className:"d-flex justify-content-between align-items-start mb-2",children:[(0,Fe.jsx)("h6",{className:"card-title mb-0 fw-semibold",children:e.title}),(0,Fe.jsxs)("div",{className:"d-flex gap-1",children:[(0,Fe.jsx)("span",{className:"badge bg-".concat(b(e.severity)),children:x(e.severity)}),j(e)?(0,Fe.jsx)("span",{className:"badge bg-success",children:"Active"}):(0,Fe.jsx)("span",{className:"badge bg-secondary",children:"Expired"})]})]}),(0,Fe.jsx)("p",{className:"card-text text-muted small mb-2",children:e.description}),(0,Fe.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,Fe.jsxs)("div",{className:"small text-muted",children:[(0,Fe.jsx)("i",{className:"bi bi-geo-alt me-1"}),e.region,(0,Fe.jsx)("span",{className:"mx-2",children:"\u2022"}),(0,Fe.jsx)("i",{className:"bi bi-clock me-1"}),w(e.createdAt)]}),(0,Fe.jsx)("button",{className:"btn btn-outline-primary btn-sm",onClick:()=>h(e),children:"View Details"})]}),e.affectedAreas&&e.affectedAreas.length>0&&(0,Fe.jsxs)("div",{className:"mt-2",children:[(0,Fe.jsx)("small",{className:"text-muted",children:"Affected Areas: "}),e.affectedAreas.slice(0,3).map((e,t)=>(0,Fe.jsx)("span",{className:"badge bg-light text-dark me-1",children:e},t)),e.affectedAreas.length>3&&(0,Fe.jsxs)("span",{className:"badge bg-light text-dark",children:["+",e.affectedAreas.length-3," more"]})]})]})]})})})},e.id))})}),s.pages>1&&(0,Fe.jsx)("div",{className:"col-12",children:(0,Fe.jsx)("nav",{"aria-label":"Alerts pagination",children:(0,Fe.jsxs)("ul",{className:"pagination justify-content-center",children:[(0,Fe.jsx)("li",{className:"page-item ".concat(s.hasPrev?"":"disabled"),children:(0,Fe.jsx)("button",{className:"page-link",onClick:()=>y(s.current-1),disabled:!s.hasPrev,children:"Previous"})}),[...Array(s.pages)].map((e,t)=>(0,Fe.jsx)("li",{className:"page-item ".concat(s.current===t+1?"active":""),children:(0,Fe.jsx)("button",{className:"page-link",onClick:()=>y(t+1),children:t+1})},t)),(0,Fe.jsx)("li",{className:"page-item ".concat(s.hasNext?"":"disabled"),children:(0,Fe.jsx)("button",{className:"page-link",onClick:()=>y(s.current+1),disabled:!s.hasNext,children:"Next"})})]})})}),d&&(0,Fe.jsx)("div",{className:"modal fade show",style:{display:"block"},tabIndex:"-1",children:(0,Fe.jsx)("div",{className:"modal-dialog modal-lg",children:(0,Fe.jsxs)("div",{className:"modal-content",children:[(0,Fe.jsxs)("div",{className:"modal-header",children:[(0,Fe.jsxs)("h5",{className:"modal-title d-flex align-items-center gap-2",children:[(0,Fe.jsx)("span",{style:{fontSize:"1.5rem"},children:v(d.alertType)}),d.title]}),(0,Fe.jsx)("button",{type:"button",className:"btn-close",onClick:()=>h(null)})]}),(0,Fe.jsx)("div",{className:"modal-body",children:(0,Fe.jsxs)("div",{className:"row g-3",children:[(0,Fe.jsxs)("div",{className:"col-12",children:[(0,Fe.jsx)("h6",{children:"Description"}),(0,Fe.jsx)("p",{children:d.description})]}),(0,Fe.jsxs)("div",{className:"col-md-6",children:[(0,Fe.jsx)("h6",{children:"Severity"}),(0,Fe.jsx)("span",{className:"badge bg-".concat(b(d.severity)),children:x(d.severity)})]}),(0,Fe.jsxs)("div",{className:"col-md-6",children:[(0,Fe.jsx)("h6",{children:"Region"}),(0,Fe.jsx)("p",{className:"mb-0",children:d.region})]}),(0,Fe.jsxs)("div",{className:"col-md-6",children:[(0,Fe.jsx)("h6",{children:"Valid From"}),(0,Fe.jsx)("p",{className:"mb-0",children:w(d.validFrom)})]}),(0,Fe.jsxs)("div",{className:"col-md-6",children:[(0,Fe.jsx)("h6",{children:"Valid Until"}),(0,Fe.jsx)("p",{className:"mb-0",children:w(d.validUntil)})]}),d.affectedAreas&&d.affectedAreas.length>0&&(0,Fe.jsxs)("div",{className:"col-12",children:[(0,Fe.jsx)("h6",{children:"Affected Areas"}),(0,Fe.jsx)("div",{className:"d-flex flex-wrap gap-1",children:d.affectedAreas.map((e,t)=>(0,Fe.jsx)("span",{className:"badge bg-primary",children:e},t))})]})]})}),(0,Fe.jsx)("div",{className:"modal-footer",children:(0,Fe.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>h(null),children:"Close"})})]})})})]})},nT=[{id:"drill-eq",title:"Earthquake Classroom Drill",steps:["Drop, Cover, Hold","Move to assembly point","Headcount & report"]},{id:"drill-fire",title:"Fire Evacuation Drill",steps:["Raise alarm","Use nearest exit","Do not use elevators"]},{id:"drill-flood",title:"Flood Safety Drill",steps:["Move to higher ground","Avoid waterlogged areas","Switch off mains"]}];const rT=function(){const[e,t]=(0,i.useState)("drill-eq"),[n,r]=(0,i.useState)(!1),[o,a]=(0,i.useState)(0),s=(0,i.useMemo)(()=>nT.find(t=>t.id===e),[e]);return(0,i.useEffect)(()=>{if(!n)return;const e=setInterval(()=>a(e=>e+1),1e3);return()=>clearInterval(e)},[n]),(0,Fe.jsxs)("div",{className:"row g-3",children:[(0,Fe.jsxs)("div",{className:"col-12 col-md-4",children:[(0,Fe.jsx)("div",{className:"list-group shadow-sm",children:nT.map(n=>(0,Fe.jsx)("button",{className:"list-group-item list-group-item-action ".concat(e===n.id?"active":""),onClick:()=>t(n.id),children:n.title},n.id))}),(0,Fe.jsxs)("div",{className:"alert alert-info mt-3 d-flex align-items-start gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-vr"}),(0,Fe.jsx)("span",{children:"Use VR/AR assets here for immersive practice."})]})]}),(0,Fe.jsx)("div",{className:"col-12 col-md-8",children:(0,Fe.jsx)("div",{className:"card shadow-sm",children:(0,Fe.jsxs)("div",{className:"card-body",children:[(0,Fe.jsxs)("h4",{className:"card-title d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-joystick text-success"}),null===s||void 0===s?void 0:s.title]}),(0,Fe.jsxs)("div",{className:"badge bg-secondary",children:["Timer: ",Math.floor(o/60),":",String(o%60).padStart(2,"0")]}),(0,Fe.jsx)("ol",{className:"mt-3",children:null===s||void 0===s?void 0:s.steps.map((e,t)=>(0,Fe.jsx)("li",{className:"mb-2",children:e},t))}),(0,Fe.jsxs)("div",{className:"d-flex gap-2 mt-3",children:[(0,Fe.jsxs)("button",{className:"btn btn-primary",onClick:()=>{a(0),r(!0)},disabled:n,children:[(0,Fe.jsx)("i",{className:"bi bi-play-fill me-1"}),"Start"]}),(0,Fe.jsxs)("button",{className:"btn btn-outline-secondary",onClick:()=>{r(!1)},disabled:!n,children:[(0,Fe.jsx)("i",{className:"bi bi-stop-circle me-1"}),"Stop"]}),(0,Fe.jsxs)("button",{className:"btn btn-outline-secondary",children:[(0,Fe.jsx)("i",{className:"bi bi-clipboard2-check me-1"}),"Record Participation"]})]})]})})})]})},iT=[{name:"Aarav",points:420},{name:"Isha",points:390},{name:"Kabir",points:360},{name:"Meera",points:340}];const oT=function(){return(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("h4",{className:"mb-3 d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-trophy text-warning"}),"Leaderboard"]}),(0,Fe.jsxs)("table",{className:"table table-striped align-middle",children:[(0,Fe.jsx)("thead",{children:(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("th",{children:"#"}),(0,Fe.jsx)("th",{children:"Student"}),(0,Fe.jsx)("th",{children:"Points"})]})}),(0,Fe.jsx)("tbody",{children:iT.map((e,t)=>(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("td",{children:t+1}),(0,Fe.jsx)("td",{children:e.name}),(0,Fe.jsx)("td",{children:(0,Fe.jsxs)("span",{className:"badge bg-primary",children:[(0,Fe.jsx)("i",{className:"bi bi-lightning-charge me-1"}),e.points]})})]},e.name))})]}),(0,Fe.jsxs)("div",{className:"alert alert-secondary d-flex align-items-start gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-stars"}),(0,Fe.jsx)("span",{children:"Gamify modules with badges and XP to boost engagement."})]})]})},aT=[{label:"NDMA Helpline",phone:"011-26701700"},{label:"Police",phone:"100"},{label:"Ambulance",phone:"108"},{label:"Fire",phone:"101"}];const sT=function(){return(0,Fe.jsxs)("div",{className:"row g-3",children:[(0,Fe.jsx)("div",{className:"col-12 col-lg-6",children:(0,Fe.jsx)("div",{className:"card h-100 shadow-sm",children:(0,Fe.jsxs)("div",{className:"card-body",children:[(0,Fe.jsxs)("h4",{className:"card-title d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-telephone text-danger"}),"Emergency Contacts"]}),(0,Fe.jsx)("ul",{className:"list-group mt-3",children:aT.map(e=>(0,Fe.jsxs)("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[e.label,(0,Fe.jsx)("a",{className:"btn btn-outline-danger btn-sm",href:"tel:".concat(e.phone),children:e.phone})]},e.label))})]})})}),(0,Fe.jsx)("div",{className:"col-12 col-lg-6",children:(0,Fe.jsx)("div",{className:"card h-100 shadow-sm",children:(0,Fe.jsxs)("div",{className:"card-body",children:[(0,Fe.jsxs)("h4",{className:"card-title d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-megaphone text-primary"}),"Real-time Communication"]}),(0,Fe.jsx)("p",{className:"text-muted",children:"Enable broadcast messaging to students, parents, and staff during incidents."}),(0,Fe.jsxs)("div",{className:"d-flex gap-2",children:[(0,Fe.jsxs)("button",{className:"btn btn-warning",children:[(0,Fe.jsx)("i",{className:"bi bi-bell me-1"}),"Send Drill Announcement"]}),(0,Fe.jsxs)("button",{className:"btn btn-danger",children:[(0,Fe.jsx)("i",{className:"bi bi-exclamation-octagon me-1"}),"Send Emergency Alert"]})]})]})})})]})};function lT(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=lT(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const cT=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=lT(e))&&(r&&(r+=" "),r+=t);return r};var uT=n(9889),dT=n.n(uT),hT=n(620),fT=n.n(hT),pT=n(5268),mT=n.n(pT),gT=n(3097),yT=n.n(gT),vT=n(9160),bT=n.n(vT),xT=n(9686),wT=n.n(xT),jT=function(e){return 0===e?0:e>0?1:-1},ST=function(e){return fT()(e)&&e.indexOf("%")===e.length-1},NT=function(e){return bT()(e)&&!mT()(e)},ET=function(e){return NT(e)||fT()(e)},kT=0,TT=function(e){var t=++kT;return"".concat(e||"").concat(t)},_T=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!NT(e)&&!fT()(e))return r;if(ST(e)){var o=e.indexOf("%");n=t*parseFloat(e.slice(0,o))/100}else n=+e;return mT()(n)&&(n=r),i&&n>t&&(n=t),n},CT=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},OT=function(e,t){return NT(e)&&NT(t)?function(n){return e+n*(t-e)}:function(){return t}};function AT(e,t,n){return e&&e.length?e.find(function(e){return e&&("function"===typeof t?t(e):yT()(e,t))===n}):null}var PT=function(e,t){return NT(e)&&NT(t)?e-t:fT()(e)&&fT()(t)?e.localeCompare(t):e instanceof Date&&t instanceof Date?e.getTime()-t.getTime():String(e).localeCompare(String(t))},IT=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i]},DT=n(1629),MT=n.n(DT),RT=n(6686),LT=n.n(RT),FT=n(9062);function UT(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function BT(e){return BT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},BT(e)}var VT=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],zT=["points","pathLength"],qT={svg:["viewBox","children"],polygon:zT,polyline:zT},HT=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],WT=function(e,t){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var n=e;if((0,i.isValidElement)(e)&&(n=e.props),!LT()(n))return null;var r={};return Object.keys(n).forEach(function(e){HT.includes(e)&&(r[e]=t||function(t){return n[e](n,t)})}),r},KT=function(e,t,n){if(!LT()(e)||"object"!==BT(e))return null;var r=null;return Object.keys(e).forEach(function(i){var o=e[i];HT.includes(i)&&"function"===typeof o&&(r||(r={}),r[i]=function(e,t,n){return function(r){return e(t,n,r),null}}(o,t,n))}),r},GT=["children"],YT=["children"];function XT(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function QT(e){return QT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},QT(e)}var $T={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},JT=function(e){return"string"===typeof e?e:e?e.displayName||e.name||"Component":""},ZT=null,e_=null,t_=function e(t){if(t===ZT&&Array.isArray(e_))return e_;var n=[];return i.Children.forEach(t,function(t){wT()(t)||((0,FT.isFragment)(t)?n=n.concat(e(t.props.children)):n.push(t))}),e_=n,ZT=t,n};function n_(e,t){var n=[],r=[];return r=Array.isArray(t)?t.map(function(e){return JT(e)}):[JT(t)],t_(e).forEach(function(e){var t=yT()(e,"type.displayName")||yT()(e,"type.name");-1!==r.indexOf(t)&&n.push(e)}),n}function r_(e,t){var n=n_(e,t);return n&&n[0]}var i_=function(e){if(!e||!e.props)return!1;var t=e.props,n=t.width,r=t.height;return!(!NT(n)||n<=0||!NT(r)||r<=0)},o_=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],a_=function(e){return e&&e.type&&fT()(e.type)&&o_.indexOf(e.type)>=0},s_=function(e,t,n){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var r=e;if((0,i.isValidElement)(e)&&(r=e.props),!LT()(r))return null;var o={};return Object.keys(r).forEach(function(e){var i;(function(e,t,n,r){var i,o=null!==(i=null===qT||void 0===qT?void 0:qT[r])&&void 0!==i?i:[];return t.startsWith("data-")||!MT()(e)&&(r&&o.includes(t)||VT.includes(t))||n&&HT.includes(t)})(null===(i=r)||void 0===i?void 0:i[e],e,t,n)&&(o[e]=r[e])}),o},l_=function e(t,n){if(t===n)return!0;var r=i.Children.count(t);if(r!==i.Children.count(n))return!1;if(0===r)return!0;if(1===r)return c_(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var o=0;o<r;o++){var a=t[o],s=n[o];if(Array.isArray(a)||Array.isArray(s)){if(!e(a,s))return!1}else if(!c_(a,s))return!1}return!0},c_=function(e,t){if(wT()(e)&&wT()(t))return!0;if(!wT()(e)&&!wT()(t)){var n=e.props||{},r=n.children,i=XT(n,GT),o=t.props||{},a=o.children,s=XT(o,YT);return r&&a?UT(i,s)&&l_(r,a):!r&&!a&&UT(i,s)}return!1},u_=function(e,t){var n=[],r={};return t_(e).forEach(function(e,i){if(a_(e))n.push(e);else if(e){var o=JT(e.type),a=t[o]||{},s=a.handler,l=a.once;if(s&&(!l||!r[o])){var c=s(e,o,i);n.push(c),r[o]=!0}}}),n};function d_(e){return d_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d_(e)}function h_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h_(Object(n),!0).forEach(function(t){p_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function p_(e,t,n){return t=function(e){var t=function(e,t){if("object"!=d_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=d_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==d_(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return g_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g_(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var y_=(0,i.forwardRef)(function(e,t){var n=e.aspect,r=e.initialDimension,o=void 0===r?{width:-1,height:-1}:r,a=e.width,s=void 0===a?"100%":a,l=e.height,c=void 0===l?"100%":l,u=e.minWidth,d=void 0===u?0:u,h=e.minHeight,f=e.maxHeight,p=e.children,m=e.debounce,g=void 0===m?0:m,y=e.id,v=e.className,b=e.onResize,x=e.style,w=void 0===x?{}:x,j=(0,i.useRef)(null),S=(0,i.useRef)();S.current=b,(0,i.useImperativeHandle)(t,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var N=m_((0,i.useState)({containerWidth:o.width,containerHeight:o.height}),2),E=N[0],k=N[1],T=(0,i.useCallback)(function(e,t){k(function(n){var r=Math.round(e),i=Math.round(t);return n.containerWidth===r&&n.containerHeight===i?n:{containerWidth:r,containerHeight:i}})},[]);(0,i.useEffect)(function(){var e=function(e){var t,n=e[0].contentRect,r=n.width,i=n.height;T(r,i),null===(t=S.current)||void 0===t||t.call(S,r,i)};g>0&&(e=dT()(e,g,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),n=j.current.getBoundingClientRect(),r=n.width,i=n.height;return T(r,i),t.observe(j.current),function(){t.disconnect()}},[T,g]);var _=(0,i.useMemo)(function(){var e=E.containerWidth,t=E.containerHeight;if(e<0||t<0)return null;IT(ST(s)||ST(c),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",s,c),IT(!n||n>0,"The aspect(%s) must be greater than zero.",n);var r=ST(s)?e:s,o=ST(c)?t:c;n&&n>0&&(r?o=r/n:o&&(r=o*n),f&&o>f&&(o=f)),IT(r>0||o>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",r,o,s,c,d,h,n);var a=!Array.isArray(p)&&JT(p.type).endsWith("Chart");return i.Children.map(p,function(e){return i.isValidElement(e)?(0,i.cloneElement)(e,f_({width:r,height:o},a?{style:f_({height:"100%",width:"100%",maxHeight:o,maxWidth:r},e.props.style)}:{})):e})},[n,p,c,f,h,d,E,s]);return i.createElement("div",{id:y?"".concat(y):void 0,className:cT("recharts-responsive-container",v),style:f_(f_({},w),{},{width:s,height:c,minWidth:d,minHeight:h,maxHeight:f}),ref:j},_)}),v_=n(6604),b_=n.n(v_),x_=n(7424),w_=n.n(x_),j_="Invariant failed";function S_(e,t){if(!e)throw new Error(j_)}var N_=["children","width","height","viewBox","className","style","title","desc"];function E_(){return E_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},E_.apply(this,arguments)}function k_(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function T_(e){var t=e.children,n=e.width,r=e.height,o=e.viewBox,a=e.className,s=e.style,l=e.title,c=e.desc,u=k_(e,N_),d=o||{width:n,height:r,x:0,y:0},h=cT("recharts-surface",a);return i.createElement("svg",E_({},s_(u,!0,"svg"),{className:h,width:n,height:r,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),i.createElement("title",null,l),i.createElement("desc",null,c),t)}var __=["children","className"];function C_(){return C_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C_.apply(this,arguments)}function O_(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var A_=i.forwardRef(function(e,t){var n=e.children,r=e.className,o=O_(e,__),a=cT("recharts-layer",r);return i.createElement("g",C_({className:a},s_(o,!0),{ref:t}),n)});function P_(e){return P_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P_(e)}function I_(){return I_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I_.apply(this,arguments)}function D_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return M_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M_(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function L_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R_(Object(n),!0).forEach(function(t){F_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function F_(e,t,n){return t=function(e){var t=function(e,t){if("object"!=P_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=P_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==P_(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U_(e){return Array.isArray(e)&&ET(e[0])&&ET(e[1])?e.join(" ~ "):e}var B_=function(e){var t=e.separator,n=void 0===t?" : ":t,r=e.contentStyle,o=void 0===r?{}:r,a=e.itemStyle,s=void 0===a?{}:a,l=e.labelStyle,c=void 0===l?{}:l,u=e.payload,d=e.formatter,h=e.itemSorter,f=e.wrapperClassName,p=e.labelClassName,m=e.label,g=e.labelFormatter,y=e.accessibilityLayer,v=void 0!==y&&y,b=L_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),x=L_({margin:0},c),w=!wT()(m),j=w?m:"",S=cT("recharts-default-tooltip",f),N=cT("recharts-tooltip-label",p);w&&g&&void 0!==u&&null!==u&&(j=g(m,u));var E=v?{role:"status","aria-live":"assertive"}:{};return i.createElement("div",I_({className:S,style:b},E),i.createElement("p",{className:N,style:x},i.isValidElement(j)?j:"".concat(j)),function(){if(u&&u.length){var e=(h?w_()(u,h):u).map(function(e,t){if("none"===e.type)return null;var r=L_({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},s),o=e.formatter||d||U_,a=e.value,l=e.name,c=a,h=l;if(o&&null!=c&&null!=h){var f=o(a,l,e,t,u);if(Array.isArray(f)){var p=D_(f,2);c=p[0],h=p[1]}else c=f}return i.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(t),style:r},ET(h)?i.createElement("span",{className:"recharts-tooltip-item-name"},h):null,ET(h)?i.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,i.createElement("span",{className:"recharts-tooltip-item-value"},c),i.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return i.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null}())};function V_(e){return V_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V_(e)}function z_(e,t,n){return t=function(e){var t=function(e,t){if("object"!=V_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=V_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==V_(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var q_="recharts-tooltip-wrapper",H_={visibility:"hidden"};function W_(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return cT(q_,z_(z_(z_(z_({},"".concat(q_,"-right"),NT(n)&&t&&NT(t.x)&&n>=t.x),"".concat(q_,"-left"),NT(n)&&t&&NT(t.x)&&n<t.x),"".concat(q_,"-bottom"),NT(r)&&t&&NT(t.y)&&r>=t.y),"".concat(q_,"-top"),NT(r)&&t&&NT(t.y)&&r<t.y))}function K_(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,i=e.offsetTopLeft,o=e.position,a=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(o&&NT(o[r]))return o[r];var u=n[r]-s-i,d=n[r]+i;return t[r]?a[r]?u:d:a[r]?u<l[r]?Math.max(d,l[r]):Math.max(u,l[r]):d+s>l[r]+c?Math.max(u,l[r]):Math.max(d,l[r])}function G_(e){return G_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G_(e)}function Y_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function X_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y_(Object(n),!0).forEach(function(t){tC(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Q_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,nC(r.key),r)}}function $_(e,t,n){return t=Z_(t),function(e,t){if(t&&("object"===G_(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,J_()?Reflect.construct(t,n||[],Z_(e).constructor):t.apply(e,n))}function J_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(J_=function(){return!!e})()}function Z_(e){return Z_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Z_(e)}function eC(e,t){return eC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},eC(e,t)}function tC(e,t,n){return(t=nC(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nC(e){var t=function(e,t){if("object"!=G_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=G_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==G_(t)?t:t+""}var rC=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return tC(e=$_(this,t,[].concat(r)),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),tC(e,"handleKeyDown",function(t){var n,r,i,o;"Escape"===t.key&&e.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(n=null===(r=e.props.coordinate)||void 0===r?void 0:r.x)&&void 0!==n?n:0,y:null!==(i=null===(o=e.props.coordinate)||void 0===o?void 0:o.y)&&void 0!==i?i:0}})}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eC(e,t)}(t,e),n=t,(r=[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();(Math.abs(e.width-this.state.lastBoundingBox.width)>1||Math.abs(e.height-this.state.lastBoundingBox.height)>1)&&this.setState({lastBoundingBox:{width:e.width,height:e.height}})}else-1===this.state.lastBoundingBox.width&&-1===this.state.lastBoundingBox.height||this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var e,t;this.props.active&&this.updateBBox(),this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}},{key:"render",value:function(){var e=this,t=this.props,n=t.active,r=t.allowEscapeViewBox,o=t.animationDuration,a=t.animationEasing,s=t.children,l=t.coordinate,c=t.hasPayload,u=t.isAnimationActive,d=t.offset,h=t.position,f=t.reverseDirection,p=t.useTranslate3d,m=t.viewBox,g=t.wrapperStyle,y=function(e){var t,n,r=e.allowEscapeViewBox,i=e.coordinate,o=e.offsetTopLeft,a=e.position,s=e.reverseDirection,l=e.tooltipBox,c=e.useTranslate3d,u=e.viewBox;return{cssProperties:l.height>0&&l.width>0&&i?function(e){var t=e.translateX,n=e.translateY;return{transform:e.useTranslate3d?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}({translateX:t=K_({allowEscapeViewBox:r,coordinate:i,key:"x",offsetTopLeft:o,position:a,reverseDirection:s,tooltipDimension:l.width,viewBox:u,viewBoxDimension:u.width}),translateY:n=K_({allowEscapeViewBox:r,coordinate:i,key:"y",offsetTopLeft:o,position:a,reverseDirection:s,tooltipDimension:l.height,viewBox:u,viewBoxDimension:u.height}),useTranslate3d:c}):H_,cssClasses:W_({translateX:t,translateY:n,coordinate:i})}}({allowEscapeViewBox:r,coordinate:l,offsetTopLeft:d,position:h,reverseDirection:f,tooltipBox:this.state.lastBoundingBox,useTranslate3d:p,viewBox:m}),v=y.cssClasses,b=y.cssProperties,x=X_(X_({transition:u&&n?"transform ".concat(o,"ms ").concat(a):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&n&&c?"visible":"hidden",position:"absolute",top:0,left:0},g);return i.createElement("div",{tabIndex:-1,className:v,style:x,ref:function(t){e.wrapperNode=t}},s)}}])&&Q_(n.prototype,r),o&&Q_(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(i.PureComponent),iC={isSsr:!("undefined"!==typeof window&&window.document&&window.document.createElement&&window.setTimeout),get:function(e){return iC[e]},set:function(e,t){if("string"===typeof e)iC[e]=t;else{var n=Object.keys(e);n&&n.length&&n.forEach(function(t){iC[t]=e[t]})}}},oC=n(977),aC=n.n(oC);function sC(e,t,n){return!0===t?aC()(e,n):MT()(t)?aC()(e,t):e}function lC(e){return lC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lC(e)}function cC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function uC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cC(Object(n),!0).forEach(function(t){gC(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cC(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function dC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,yC(r.key),r)}}function hC(e,t,n){return t=pC(t),function(e,t){if(t&&("object"===lC(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,fC()?Reflect.construct(t,n||[],pC(e).constructor):t.apply(e,n))}function fC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(fC=function(){return!!e})()}function pC(e){return pC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},pC(e)}function mC(e,t){return mC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},mC(e,t)}function gC(e,t,n){return(t=yC(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yC(e){var t=function(e,t){if("object"!=lC(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=lC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==lC(t)?t:t+""}function vC(e){return e.dataKey}var bC=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),hC(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mC(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this,t=this.props,n=t.active,r=t.allowEscapeViewBox,o=t.animationDuration,a=t.animationEasing,s=t.content,l=t.coordinate,c=t.filterNull,u=t.isAnimationActive,d=t.offset,h=t.payload,f=t.payloadUniqBy,p=t.position,m=t.reverseDirection,g=t.useTranslate3d,y=t.viewBox,v=t.wrapperStyle,b=null!==h&&void 0!==h?h:[];c&&b.length&&(b=sC(h.filter(function(t){return null!=t.value&&(!0!==t.hide||e.props.includeHidden)}),f,vC));var x=b.length>0;return i.createElement(rC,{allowEscapeViewBox:r,animationDuration:o,animationEasing:a,isAnimationActive:u,active:n,coordinate:l,hasPayload:x,offset:d,position:p,reverseDirection:m,useTranslate3d:g,viewBox:y,wrapperStyle:v},function(e,t){return i.isValidElement(e)?i.cloneElement(e,t):"function"===typeof e?i.createElement(e,t):i.createElement(B_,t)}(s,uC(uC({},this.props),{},{payload:b})))}}])&&dC(n.prototype,r),o&&dC(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(i.PureComponent);gC(bC,"displayName","Tooltip"),gC(bC,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!iC.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var xC=n(643),wC=n.n(xC);Math.abs,Math.atan2;const jC=Math.cos,SC=(Math.max,Math.min,Math.sin),NC=Math.sqrt,EC=Math.PI,kC=2*EC;const TC={draw(e,t){const n=NC(t/EC);e.moveTo(n,0),e.arc(0,0,n,0,kC)}},_C={draw(e,t){const n=NC(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},CC=NC(1/3),OC=2*CC,AC={draw(e,t){const n=NC(t/OC),r=n*CC;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},PC={draw(e,t){const n=NC(t),r=-n/2;e.rect(r,r,n,n)}},IC=SC(EC/10)/SC(7*EC/10),DC=SC(kC/10)*IC,MC=-jC(kC/10)*IC,RC={draw(e,t){const n=NC(.8908130915292852*t),r=DC*n,i=MC*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const t=kC*o/5,a=jC(t),s=SC(t);e.lineTo(s*n,-a*n),e.lineTo(a*r-s*i,s*r+a*i)}e.closePath()}},LC=NC(3),FC={draw(e,t){const n=-NC(t/(3*LC));e.moveTo(0,2*n),e.lineTo(-LC*n,-n),e.lineTo(LC*n,-n),e.closePath()}},UC=-.5,BC=NC(3)/2,VC=1/NC(12),zC=3*(VC/2+1),qC={draw(e,t){const n=NC(t/zC),r=n/2,i=n*VC,o=r,a=n*VC+n,s=-o,l=a;e.moveTo(r,i),e.lineTo(o,a),e.lineTo(s,l),e.lineTo(UC*r-BC*i,BC*r+UC*i),e.lineTo(UC*o-BC*a,BC*o+UC*a),e.lineTo(UC*s-BC*l,BC*s+UC*l),e.lineTo(UC*r+BC*i,UC*i-BC*r),e.lineTo(UC*o+BC*a,UC*a-BC*o),e.lineTo(UC*s+BC*l,UC*l-BC*s),e.closePath()}};function HC(e){return function(){return e}}function WC(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var KC,GC,YC,XC,QC,$C,JC,ZC,eO,tO,nO,rO,iO,oO;const aO=Math.PI,sO=2*aO,lO=1e-6,cO=sO-lO;function uO(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class dO{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?uO:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error("invalid digits: ".concat(e));if(t>15)return uO;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append(KC||(KC=WC(["M",",",""])),this._x0=this._x1=+e,this._y0=this._y1=+t)}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append(GC||(GC=WC(["Z"]))))}lineTo(e,t){this._append(YC||(YC=WC(["L",",",""])),this._x1=+e,this._y1=+t)}quadraticCurveTo(e,t,n,r){this._append(XC||(XC=WC(["Q",",",",",",",""])),+e,+t,this._x1=+n,this._y1=+r)}bezierCurveTo(e,t,n,r,i,o){this._append(QC||(QC=WC(["C",",",",",",",",",",",""])),+e,+t,+n,+r,this._x1=+i,this._y1=+o)}arcTo(e,t,n,r,i){if(e=+e,t=+t,n=+n,r=+r,(i=+i)<0)throw new Error("negative radius: ".concat(i));let o=this._x1,a=this._y1,s=n-e,l=r-t,c=o-e,u=a-t,d=c*c+u*u;if(null===this._x1)this._append($C||($C=WC(["M",",",""])),this._x1=e,this._y1=t);else if(d>lO)if(Math.abs(u*s-l*c)>lO&&i){let h=n-o,f=r-a,p=s*s+l*l,m=h*h+f*f,g=Math.sqrt(p),y=Math.sqrt(d),v=i*Math.tan((aO-Math.acos((p+d-m)/(2*g*y)))/2),b=v/y,x=v/g;Math.abs(b-1)>lO&&this._append(ZC||(ZC=WC(["L",",",""])),e+b*c,t+b*u),this._append(eO||(eO=WC(["A",",",",0,0,",",",",",""])),i,i,+(u*h>c*f),this._x1=e+x*s,this._y1=t+x*l)}else this._append(JC||(JC=WC(["L",",",""])),this._x1=e,this._y1=t);else;}arc(e,t,n,r,i,o){if(e=+e,t=+t,o=!!o,(n=+n)<0)throw new Error("negative radius: ".concat(n));let a=n*Math.cos(r),s=n*Math.sin(r),l=e+a,c=t+s,u=1^o,d=o?r-i:i-r;null===this._x1?this._append(tO||(tO=WC(["M",",",""])),l,c):(Math.abs(this._x1-l)>lO||Math.abs(this._y1-c)>lO)&&this._append(nO||(nO=WC(["L",",",""])),l,c),n&&(d<0&&(d=d%sO+sO),d>cO?this._append(rO||(rO=WC(["A",",",",0,1,",",",",","A",",",",0,1,",",",",",""])),n,n,u,e-a,t-s,n,n,u,this._x1=l,this._y1=c):d>lO&&this._append(iO||(iO=WC(["A",",",",0,",",",",",",",""])),n,n,+(d>=aO),u,this._x1=e+n*Math.cos(i),this._y1=t+n*Math.sin(i)))}rect(e,t,n,r){this._append(oO||(oO=WC(["M",",","h","v","h","Z"])),this._x0=this._x1=+e,this._y0=this._y1=+t,n=+n,+r,-n)}toString(){return this._}}function hO(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError("invalid digits: ".concat(n));t=e}return e},()=>new dO(t)}NC(3),NC(3);function fO(e){return fO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fO(e)}var pO=["type","size","sizeType"];function mO(){return mO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mO.apply(this,arguments)}function gO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function yO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gO(Object(n),!0).forEach(function(t){vO(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gO(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function vO(e,t,n){return t=function(e){var t=function(e,t){if("object"!=fO(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=fO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==fO(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bO(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var xO={symbolCircle:TC,symbolCross:_C,symbolDiamond:AC,symbolSquare:PC,symbolStar:RC,symbolTriangle:FC,symbolWye:qC},wO=Math.PI/180,jO=function(e){var t=e.type,n=void 0===t?"circle":t,r=e.size,o=void 0===r?64:r,a=e.sizeType,s=void 0===a?"area":a,l=yO(yO({},bO(e,pO)),{},{type:n,size:o,sizeType:s}),c=l.className,u=l.cx,d=l.cy,h=s_(l,!0);return u===+u&&d===+d&&o===+o?i.createElement("path",mO({},h,{className:cT("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:function(){var e=function(e){var t="symbol".concat(wC()(e));return xO[t]||TC}(n),t=function(e,t){let n=null,r=hO(i);function i(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return e="function"===typeof e?e:HC(e||TC),t="function"===typeof t?t:HC(void 0===t?64:+t),i.type=function(t){return arguments.length?(e="function"===typeof t?t:HC(t),i):e},i.size=function(e){return arguments.length?(t="function"===typeof e?e:HC(+e),i):t},i.context=function(e){return arguments.length?(n=null==e?null:e,i):n},i}().type(e).size(function(e,t,n){if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*wO;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*Math.pow(Math.tan(r),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}}(o,s,n));return t()}()})):null};function SO(e){return SO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},SO(e)}function NO(){return NO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},NO.apply(this,arguments)}function EO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function kO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,PO(r.key),r)}}function TO(e,t,n){return t=CO(t),function(e,t){if(t&&("object"===SO(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,_O()?Reflect.construct(t,n||[],CO(e).constructor):t.apply(e,n))}function _O(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(_O=function(){return!!e})()}function CO(e){return CO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},CO(e)}function OO(e,t){return OO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},OO(e,t)}function AO(e,t,n){return(t=PO(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PO(e){var t=function(e,t){if("object"!=SO(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=SO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==SO(t)?t:t+""}jO.registerSymbol=function(e,t){xO["symbol".concat(wC()(e))]=t};var IO=32,DO=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),TO(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&OO(e,t)}(t,e),n=t,r=[{key:"renderIcon",value:function(e){var t=this.props.inactiveColor,n=16,r=IO/6,o=IO/3,a=e.inactive?t:e.color;if("plainline"===e.type)return i.createElement("line",{strokeWidth:4,fill:"none",stroke:a,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:n,x2:IO,y2:n,className:"recharts-legend-icon"});if("line"===e.type)return i.createElement("path",{strokeWidth:4,fill:"none",stroke:a,d:"M0,".concat(n,"h").concat(o,"\n            A").concat(r,",").concat(r,",0,1,1,").concat(2*o,",").concat(n,"\n            H").concat(IO,"M").concat(2*o,",").concat(n,"\n            A").concat(r,",").concat(r,",0,1,1,").concat(o,",").concat(n),className:"recharts-legend-icon"});if("rect"===e.type)return i.createElement("path",{stroke:"none",fill:a,d:"M0,".concat(4,"h").concat(IO,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(i.isValidElement(e.legendIcon)){var s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?EO(Object(n),!0).forEach(function(t){AO(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EO(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e);return delete s.legendIcon,i.cloneElement(e.legendIcon,s)}return i.createElement(jO,{fill:a,cx:n,cy:n,size:IO,sizeType:"diameter",type:e.type})}},{key:"renderItems",value:function(){var e=this,t=this.props,n=t.payload,r=t.iconSize,o=t.layout,a=t.formatter,s=t.inactiveColor,l={x:0,y:0,width:IO,height:IO},c={display:"horizontal"===o?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return n.map(function(t,n){var o=t.formatter||a,d=cT(AO(AO({"recharts-legend-item":!0},"legend-item-".concat(n),!0),"inactive",t.inactive));if("none"===t.type)return null;var h=MT()(t.value)?null:t.value;IT(!MT()(t.value),'The name property is also required when using a function for the dataKey of a chart\'s cartesian components. Ex: <Bar name="Name of my Data"/>');var f=t.inactive?s:t.color;return i.createElement("li",NO({className:d,style:c,key:"legend-item-".concat(n)},KT(e.props,t,n)),i.createElement(T_,{width:r,height:r,viewBox:l,style:u},e.renderIcon(t)),i.createElement("span",{className:"recharts-legend-item-text",style:{color:f}},o?o(h,t,n):h))})}},{key:"render",value:function(){var e=this.props,t=e.payload,n=e.layout,r=e.align;if(!t||!t.length)return null;var o={padding:0,margin:0,textAlign:"horizontal"===n?r:"left"};return i.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}],r&&kO(n.prototype,r),o&&kO(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(i.PureComponent);function MO(e){return MO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},MO(e)}AO(DO,"displayName","Legend"),AO(DO,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var RO=["ref"];function LO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function FO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?LO(Object(n),!0).forEach(function(t){HO(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LO(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function UO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,WO(r.key),r)}}function BO(e,t,n){return t=zO(t),function(e,t){if(t&&("object"===MO(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,VO()?Reflect.construct(t,n||[],zO(e).constructor):t.apply(e,n))}function VO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(VO=function(){return!!e})()}function zO(e){return zO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},zO(e)}function qO(e,t){return qO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qO(e,t)}function HO(e,t,n){return(t=WO(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WO(e){var t=function(e,t){if("object"!=MO(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=MO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==MO(t)?t:t+""}function KO(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function GO(e){return e.value}var YO=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return HO(e=BO(this,t,[].concat(r)),"lastBoundingBox",{width:-1,height:-1}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qO(e,t)}(t,e),n=t,r=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();return e.height=this.wrapperNode.offsetHeight,e.width=this.wrapperNode.offsetWidth,e}return null}},{key:"updateBBox",value:function(){var e=this.props.onBBoxUpdate,t=this.getBBox();t?(Math.abs(t.width-this.lastBoundingBox.width)>1||Math.abs(t.height-this.lastBoundingBox.height)>1)&&(this.lastBoundingBox.width=t.width,this.lastBoundingBox.height=t.height,e&&e(t)):-1===this.lastBoundingBox.width&&-1===this.lastBoundingBox.height||(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,e&&e(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?FO({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(e){var t,n,r=this.props,i=r.layout,o=r.align,a=r.verticalAlign,s=r.margin,l=r.chartWidth,c=r.chartHeight;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(t="center"===o&&"vertical"===i?{left:((l||0)-this.getBBoxSnapshot().width)/2}:"right"===o?{right:s&&s.right||0}:{left:s&&s.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(n="middle"===a?{top:((c||0)-this.getBBoxSnapshot().height)/2}:"bottom"===a?{bottom:s&&s.bottom||0}:{top:s&&s.top||0}),FO(FO({},t),n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.content,r=t.width,o=t.height,a=t.wrapperStyle,s=t.payloadUniqBy,l=t.payload,c=FO(FO({position:"absolute",width:r||"auto",height:o||"auto"},this.getDefaultPosition(a)),a);return i.createElement("div",{className:"recharts-legend-wrapper",style:c,ref:function(t){e.wrapperNode=t}},function(e,t){if(i.isValidElement(e))return i.cloneElement(e,t);if("function"===typeof e)return i.createElement(e,t);t.ref;var n=KO(t,RO);return i.createElement(DO,n)}(n,FO(FO({},this.props),{},{payload:sC(l,s,GO)})))}}],o=[{key:"getWithHeight",value:function(e,t){var n=FO(FO({},this.defaultProps),e.props).layout;return"vertical"===n&&NT(e.props.height)?{height:e.props.height}:"horizontal"===n?{width:e.props.width||t}:null}}],r&&UO(n.prototype,r),o&&UO(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(i.PureComponent);function XO(){return XO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XO.apply(this,arguments)}HO(YO,"displayName","Legend"),HO(YO,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var QO=function(e){var t=e.cx,n=e.cy,r=e.r,o=e.className,a=cT("recharts-dot",o);return t===+t&&n===+n&&r===+r?i.createElement("circle",XO({},s_(e,!1),WT(e),{className:a,cx:t,cy:n,r:r})):null},$O=n(5173),JO=n.n($O),ZO=Object.getOwnPropertyNames,eA=Object.getOwnPropertySymbols,tA=Object.prototype.hasOwnProperty;function nA(e,t){return function(n,r,i){return e(n,r,i)&&t(n,r,i)}}function rA(e){return function(t,n,r){if(!t||!n||"object"!==typeof t||"object"!==typeof n)return e(t,n,r);var i=r.cache,o=i.get(t),a=i.get(n);if(o&&a)return o===n&&a===t;i.set(t,n),i.set(n,t);var s=e(t,n,r);return i.delete(t),i.delete(n),s}}function iA(e){return ZO(e).concat(eA(e))}var oA=Object.hasOwn||function(e,t){return tA.call(e,t)};function aA(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var sA=Object.getOwnPropertyDescriptor,lA=Object.keys;function cA(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function uA(e,t){return aA(e.getTime(),t.getTime())}function dA(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function hA(e,t){return e===t}function fA(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i,o,a=new Array(r),s=e.entries(),l=0;(i=s.next())&&!i.done;){for(var c=t.entries(),u=!1,d=0;(o=c.next())&&!o.done;)if(a[d])d++;else{var h=i.value,f=o.value;if(n.equals(h[0],f[0],l,d,e,t,n)&&n.equals(h[1],f[1],h[0],f[0],e,t,n)){u=a[d]=!0;break}d++}if(!u)return!1;l++}return!0}var pA=aA;function mA(e,t,n){var r=lA(e),i=r.length;if(lA(t).length!==i)return!1;for(;i-- >0;)if(!jA(e,t,n,r[i]))return!1;return!0}function gA(e,t,n){var r,i,o,a=iA(e),s=a.length;if(iA(t).length!==s)return!1;for(;s-- >0;){if(!jA(e,t,n,r=a[s]))return!1;if(i=sA(e,r),o=sA(t,r),(i||o)&&(!i||!o||i.configurable!==o.configurable||i.enumerable!==o.enumerable||i.writable!==o.writable))return!1}return!0}function yA(e,t){return aA(e.valueOf(),t.valueOf())}function vA(e,t){return e.source===t.source&&e.flags===t.flags}function bA(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i,o,a=new Array(r),s=e.values();(i=s.next())&&!i.done;){for(var l=t.values(),c=!1,u=0;(o=l.next())&&!o.done;){if(!a[u]&&n.equals(i.value,o.value,i.value,o.value,e,t,n)){c=a[u]=!0;break}u++}if(!c)return!1}return!0}function xA(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function wA(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function jA(e,t,n,r){return!("_owner"!==r&&"__o"!==r&&"__v"!==r||!e.$$typeof&&!t.$$typeof)||oA(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var SA=Array.isArray,NA="function"===typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView:null,EA=Object.assign,kA=Object.prototype.toString.call.bind(Object.prototype.toString);var TA=_A();_A({strict:!0}),_A({circular:!0}),_A({circular:!0,strict:!0}),_A({createInternalComparator:function(){return aA}}),_A({strict:!0,createInternalComparator:function(){return aA}}),_A({circular:!0,createInternalComparator:function(){return aA}}),_A({circular:!0,createInternalComparator:function(){return aA},strict:!0});function _A(e){void 0===e&&(e={});var t,n=e.circular,r=void 0!==n&&n,i=e.createInternalComparator,o=e.createState,a=e.strict,s=void 0!==a&&a,l=function(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,i={areArraysEqual:r?gA:cA,areDatesEqual:uA,areErrorsEqual:dA,areFunctionsEqual:hA,areMapsEqual:r?nA(fA,gA):fA,areNumbersEqual:pA,areObjectsEqual:r?gA:mA,arePrimitiveWrappersEqual:yA,areRegExpsEqual:vA,areSetsEqual:r?nA(bA,gA):bA,areTypedArraysEqual:r?gA:xA,areUrlsEqual:wA};if(n&&(i=EA({},i,n(i))),t){var o=rA(i.areArraysEqual),a=rA(i.areMapsEqual),s=rA(i.areObjectsEqual),l=rA(i.areSetsEqual);i=EA({},i,{areArraysEqual:o,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:l})}return i}(e),c=function(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,i=e.areFunctionsEqual,o=e.areMapsEqual,a=e.areNumbersEqual,s=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,u=e.areSetsEqual,d=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(e,f,p){if(e===f)return!0;if(null==e||null==f)return!1;var m=typeof e;if(m!==typeof f)return!1;if("object"!==m)return"number"===m?a(e,f,p):"function"===m&&i(e,f,p);var g=e.constructor;if(g!==f.constructor)return!1;if(g===Object)return s(e,f,p);if(SA(e))return t(e,f,p);if(null!=NA&&NA(e))return d(e,f,p);if(g===Date)return n(e,f,p);if(g===RegExp)return c(e,f,p);if(g===Map)return o(e,f,p);if(g===Set)return u(e,f,p);var y=kA(e);return"[object Date]"===y?n(e,f,p):"[object RegExp]"===y?c(e,f,p):"[object Map]"===y?o(e,f,p):"[object Set]"===y?u(e,f,p):"[object Object]"===y?"function"!==typeof e.then&&"function"!==typeof f.then&&s(e,f,p):"[object URL]"===y?h(e,f,p):"[object Error]"===y?r(e,f,p):"[object Arguments]"===y?s(e,f,p):("[object Boolean]"===y||"[object Number]"===y||"[object String]"===y)&&l(e,f,p)}}(l),u=i?i(c):(t=c,function(e,n,r,i,o,a,s){return t(e,n,s)});return function(e){var t=e.circular,n=e.comparator,r=e.createState,i=e.equals,o=e.strict;if(r)return function(e,a){var s=r(),l=s.cache,c=void 0===l?t?new WeakMap:void 0:l,u=s.meta;return n(e,a,{cache:c,equals:i,meta:u,strict:o})};if(t)return function(e,t){return n(e,t,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var a={cache:void 0,equals:i,meta:void 0,strict:o};return function(e,t){return n(e,t,a)}}({circular:r,comparator:c,createState:o,equals:u,strict:s})}function CA(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=-1;requestAnimationFrame(function r(i){n<0&&(n=i),i-n>t?(e(i),n=-1):function(e){"undefined"!==typeof requestAnimationFrame&&requestAnimationFrame(e)}(r)})}function OA(e){return OA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},OA(e)}function AA(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return PA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PA(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function PA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function IA(){var e=function(){return null},t=!1,n=function n(r){if(!t){if(Array.isArray(r)){if(!r.length)return;var i=AA(r),o=i[0],a=i.slice(1);return"number"===typeof o?void CA(n.bind(null,a),o):(n(o),void CA(n.bind(null,a)))}"object"===OA(r)&&e(r),"function"===typeof r&&r()}};return{stop:function(){t=!0},start:function(e){t=!1,n(e)},subscribe:function(t){return e=t,function(){e=function(){return null}}}}}function DA(e){return DA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},DA(e)}function MA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function RA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?MA(Object(n),!0).forEach(function(t){LA(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MA(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function LA(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==DA(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==DA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===DA(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var FA=function(e){return e},UA=function(e,t){return Object.keys(t).reduce(function(n,r){return RA(RA({},n),{},LA({},r,e(r,t[r])))},{})},BA=function(e,t,n){return e.map(function(e){return"".concat((r=e,r.replace(/([A-Z])/g,function(e){return"-".concat(e.toLowerCase())}))," ").concat(t,"ms ").concat(n);var r}).join(",")};function VA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||qA(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zA(e){return function(e){if(Array.isArray(e))return HA(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||qA(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qA(e,t){if(e){if("string"===typeof e)return HA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?HA(e,t):void 0}}function HA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var WA=1e-4,KA=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},GA=function(e,t){return e.map(function(e,n){return e*Math.pow(t,n)}).reduce(function(e,t){return e+t})},YA=function(e,t){return function(n){var r=KA(e,t);return GA(r,n)}},XA=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],o=t[2],a=t[3];if(1===t.length)switch(t[0]){case"linear":r=0,i=0,o=1,a=1;break;case"ease":r=.25,i=.1,o=.25,a=1;break;case"ease-in":r=.42,i=0,o=1,a=1;break;case"ease-out":r=.42,i=0,o=.58,a=1;break;case"ease-in-out":r=0,i=0,o=.58,a=1;break;default:var s=t[0].split("(");if("cubic-bezier"===s[0]&&4===s[1].split(")")[0].split(",").length){var l=s[1].split(")")[0].split(",").map(function(e){return parseFloat(e)}),c=VA(l,4);r=c[0],i=c[1],o=c[2],a=c[3]}}[r,o,i,a].every(function(e){return"number"===typeof e&&e>=0&&e<=1});var u,d,h=YA(r,o),f=YA(i,a),p=(u=r,d=o,function(e){var t=KA(u,d),n=[].concat(zA(t.map(function(e,t){return e*t}).slice(1)),[0]);return GA(n,e)}),m=function(e){return e>1?1:e<0?0:e},g=function(e){for(var t=e>1?1:e,n=t,r=0;r<8;++r){var i=h(n)-t,o=p(n);if(Math.abs(i-t)<WA||o<WA)return f(n);n=m(n-i/o)}return f(n)};return g.isStepper=!1,g},QA=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];if("string"===typeof r)switch(r){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return XA(r);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiff,n=void 0===t?100:t,r=e.damping,i=void 0===r?8:r,o=e.dt,a=void 0===o?17:o,s=function(e,t,r){var o=r+(-(e-t)*n-r*i)*a/1e3,s=r*a/1e3+e;return Math.abs(s-t)<WA&&Math.abs(o)<WA?[t,0]:[s,o]};return s.isStepper=!0,s.dt=a,s}();default:if("cubic-bezier"===r.split("(")[0])return XA(r)}return"function"===typeof r?r:null};function $A(e){return $A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$A(e)}function JA(e){return function(e){if(Array.isArray(e))return iP(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||rP(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ZA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ZA(Object(n),!0).forEach(function(t){tP(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZA(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tP(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==$A(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==$A(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===$A(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nP(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||rP(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rP(e,t){if(e){if("string"===typeof e)return iP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?iP(e,t):void 0}}function iP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var oP=function(e,t,n){return e+(t-e)*n},aP=function(e){return e.from!==e.to},sP=function e(t,n,r){var i=UA(function(e,n){if(aP(n)){var r=nP(t(n.from,n.to,n.velocity),2),i=r[0],o=r[1];return eP(eP({},n),{},{from:i,velocity:o})}return n},n);return r<1?UA(function(e,t){return aP(t)?eP(eP({},t),{},{velocity:oP(t.velocity,i[e].velocity,r),from:oP(t.from,i[e].from,r)}):t},n):e(t,i,r-1)};const lP=function(e,t,n,r,i){var o,a,s,l,c=(o=e,a=t,[Object.keys(o),Object.keys(a)].reduce(function(e,t){return e.filter(function(e){return t.includes(e)})})),u=c.reduce(function(n,r){return eP(eP({},n),{},tP({},r,[e[r],t[r]]))},{}),d=c.reduce(function(n,r){return eP(eP({},n),{},tP({},r,{from:e[r],velocity:0,to:t[r]}))},{}),h=-1,f=function(){return null};return f=n.isStepper?function(r){s||(s=r);var o=(r-s)/n.dt;d=sP(n,d,o),i(eP(eP(eP({},e),t),UA(function(e,t){return t.from},d))),s=r,Object.values(d).filter(aP).length&&(h=requestAnimationFrame(f))}:function(o){l||(l=o);var a=(o-l)/r,s=UA(function(e,t){return oP.apply(void 0,JA(t).concat([n(a)]))},u);if(i(eP(eP(eP({},e),t),s)),a<1)h=requestAnimationFrame(f);else{var c=UA(function(e,t){return oP.apply(void 0,JA(t).concat([n(1)]))},u);i(eP(eP(eP({},e),t),c))}},function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(h)}}};function cP(e){return cP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cP(e)}var uP=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function dP(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function hP(e){return function(e){if(Array.isArray(e))return fP(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return fP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fP(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function mP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pP(Object(n),!0).forEach(function(t){gP(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pP(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function gP(e,t,n){return(t=vP(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vP(r.key),r)}}function vP(e){var t=function(e,t){if("object"!==cP(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==cP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===cP(t)?t:String(t)}function bP(e,t){return bP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},bP(e,t)}function xP(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(CG){return!1}}();return function(){var n,r=SP(e);if(t){var i=SP(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return wP(this,n)}}function wP(e,t){if(t&&("object"===cP(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return jP(e)}function jP(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SP(e){return SP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},SP(e)}var NP=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bP(e,t)}(a,e);var t,n,r,o=xP(a);function a(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var r=(n=o.call(this,e,t)).props,i=r.isActive,s=r.attributeName,l=r.from,c=r.to,u=r.steps,d=r.children,h=r.duration;if(n.handleStyleChange=n.handleStyleChange.bind(jP(n)),n.changeStyle=n.changeStyle.bind(jP(n)),!i||h<=0)return n.state={style:{}},"function"===typeof d&&(n.state={style:c}),wP(n);if(u&&u.length)n.state={style:u[0].style};else if(l){if("function"===typeof d)return n.state={style:l},wP(n);n.state={style:s?gP({},s,l):l}}else n.state={style:{}};return n}return t=a,n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.isActive,n=e.canBegin;this.mounted=!0,t&&n&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isActive,r=t.canBegin,i=t.attributeName,o=t.shouldReAnimate,a=t.to,s=t.from,l=this.state.style;if(r)if(n){if(!(TA(e.to,a)&&e.canBegin&&e.isActive)){var c=!e.canBegin||!e.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var u=c||o?s:e.to;if(this.state&&l){var d={style:i?gP({},i,u):u};(i&&l[i]!==u||!i&&l!==u)&&this.setState(d)}this.runAnimation(mP(mP({},this.props),{},{from:u,begin:0}))}}else{var h={style:i?gP({},i,a):a};this.state&&l&&(i&&l[i]!==a||!i&&l!==a)&&this.setState(h)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}},{key:"handleStyleChange",value:function(e){this.changeStyle(e)}},{key:"changeStyle",value:function(e){this.mounted&&this.setState({style:e})}},{key:"runJSAnimation",value:function(e){var t=this,n=e.from,r=e.to,i=e.duration,o=e.easing,a=e.begin,s=e.onAnimationEnd,l=e.onAnimationStart,c=lP(n,r,QA(o),i,this.changeStyle);this.manager.start([l,a,function(){t.stopJSAnimation=c()},i,s])}},{key:"runStepAnimation",value:function(e){var t=this,n=e.steps,r=e.begin,i=e.onAnimationStart,o=n[0],a=o.style,s=o.duration,l=void 0===s?0:s;return this.manager.start([i].concat(hP(n.reduce(function(e,r,i){if(0===i)return e;var o=r.duration,a=r.easing,s=void 0===a?"ease":a,l=r.style,c=r.properties,u=r.onAnimationEnd,d=i>0?n[i-1]:r,h=c||Object.keys(l);if("function"===typeof s||"spring"===s)return[].concat(hP(e),[t.runJSAnimation.bind(t,{from:d.style,to:l,duration:o,easing:s}),o]);var f=BA(h,o,s),p=mP(mP(mP({},d.style),l),{},{transition:f});return[].concat(hP(e),[p,o,u]).filter(FA)},[a,Math.max(l,r)])),[e.onAnimationEnd]))}},{key:"runAnimation",value:function(e){this.manager||(this.manager=IA());var t=e.begin,n=e.duration,r=e.attributeName,i=e.to,o=e.easing,a=e.onAnimationStart,s=e.onAnimationEnd,l=e.steps,c=e.children,u=this.manager;if(this.unSubscribe=u.subscribe(this.handleStyleChange),"function"!==typeof o&&"function"!==typeof c&&"spring"!==o)if(l.length>1)this.runStepAnimation(e);else{var d=r?gP({},r,i):i,h=BA(Object.keys(d),n,o);u.start([a,t,mP(mP({},d),{},{transition:h}),n,s])}else this.runJSAnimation(e)}},{key:"render",value:function(){var e=this.props,t=e.children,n=(e.begin,e.duration),r=(e.attributeName,e.easing,e.isActive),o=(e.steps,e.from,e.to,e.canBegin,e.onAnimationEnd,e.shouldReAnimate,e.onAnimationReStart,dP(e,uP)),a=i.Children.count(t),s=this.state.style;if("function"===typeof t)return t(s);if(!r||0===a||n<=0)return t;var l=function(e){var t=e.props,n=t.style,r=void 0===n?{}:n,a=t.className;return(0,i.cloneElement)(e,mP(mP({},o),{},{style:mP(mP({},r),s),className:a}))};return 1===a?l(i.Children.only(t)):i.createElement("div",null,i.Children.map(t,function(e){return l(e)}))}}],n&&yP(t.prototype,n),r&&yP(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.PureComponent);NP.displayName="Animate",NP.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},NP.propTypes={from:JO().oneOfType([JO().object,JO().string]),to:JO().oneOfType([JO().object,JO().string]),attributeName:JO().string,duration:JO().number,begin:JO().number,easing:JO().oneOfType([JO().string,JO().func]),steps:JO().arrayOf(JO().shape({duration:JO().number.isRequired,style:JO().object.isRequired,easing:JO().oneOfType([JO().oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),JO().func]),properties:JO().arrayOf("string"),onAnimationEnd:JO().func})),children:JO().oneOfType([JO().node,JO().func]),isActive:JO().bool,canBegin:JO().bool,onAnimationEnd:JO().func,shouldReAnimate:JO().bool,onAnimationStart:JO().func,onAnimationReStart:JO().func};const EP=NP;function kP(e){return kP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kP(e)}function TP(){return TP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},TP.apply(this,arguments)}function _P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return CP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CP(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function CP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function OP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function AP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?OP(Object(n),!0).forEach(function(t){PP(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OP(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function PP(e,t,n){return t=function(e){var t=function(e,t){if("object"!=kP(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=kP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==kP(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var IP=function(e,t,n,r,i){var o,a=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,l=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0;if(a>0&&i instanceof Array){for(var u=[0,0,0,0],d=0;d<4;d++)u[d]=i[d]>a?a:i[d];o="M".concat(e,",").concat(t+s*u[0]),u[0]>0&&(o+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),o+="L ".concat(e+n-l*u[1],",").concat(t),u[1]>0&&(o+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,",\n        ").concat(e+n,",").concat(t+s*u[1])),o+="L ".concat(e+n,",").concat(t+r-s*u[2]),u[2]>0&&(o+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,",\n        ").concat(e+n-l*u[2],",").concat(t+r)),o+="L ".concat(e+l*u[3],",").concat(t+r),u[3]>0&&(o+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+r-s*u[3])),o+="Z"}else if(a>0&&i===+i&&i>0){var h=Math.min(a,i);o="M ".concat(e,",").concat(t+s*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+l*h,",").concat(t,"\n            L ").concat(e+n-l*h,",").concat(t,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n,",").concat(t+s*h,"\n            L ").concat(e+n,",").concat(t+r-s*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n-l*h,",").concat(t+r,"\n            L ").concat(e+l*h,",").concat(t+r,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e,",").concat(t+r-s*h," Z")}else o="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return o},DP=function(e,t){if(!e||!t)return!1;var n=e.x,r=e.y,i=t.x,o=t.y,a=t.width,s=t.height;if(Math.abs(a)>0&&Math.abs(s)>0){var l=Math.min(i,i+a),c=Math.max(i,i+a),u=Math.min(o,o+s),d=Math.max(o,o+s);return n>=l&&n<=c&&r>=u&&r<=d}return!1},MP={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},RP=function(e){var t=AP(AP({},MP),e),n=(0,i.useRef)(),r=_P((0,i.useState)(-1),2),o=r[0],a=r[1];(0,i.useEffect)(function(){if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&a(e)}catch(AG){}},[]);var s=t.x,l=t.y,c=t.width,u=t.height,d=t.radius,h=t.className,f=t.animationEasing,p=t.animationDuration,m=t.animationBegin,g=t.isAnimationActive,y=t.isUpdateAnimationActive;if(s!==+s||l!==+l||c!==+c||u!==+u||0===c||0===u)return null;var v=cT("recharts-rectangle",h);return y?i.createElement(EP,{canBegin:o>0,from:{width:c,height:u,x:s,y:l},to:{width:c,height:u,x:s,y:l},duration:p,animationEasing:f,isActive:y},function(e){var r=e.width,a=e.height,s=e.x,l=e.y;return i.createElement(EP,{canBegin:o>0,from:"0px ".concat(-1===o?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:p,isActive:g,easing:f},i.createElement("path",TP({},s_(t,!0),{className:v,d:IP(s,l,r,a,d),ref:n})))}):i.createElement("path",TP({},s_(t,!0),{className:v,d:IP(s,l,c,u,d)}))};function LP(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function FP(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}class UP extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qP;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(BP(this,e))}has(e){return super.has(BP(this,e))}set(e,t){return super.set(VP(this,e),t)}delete(e){return super.delete(zP(this,e))}}Set;function BP(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)?n.get(i):t}function VP(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)?n.get(i):(n.set(i,t),t)}function zP(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)&&(t=n.get(i),n.delete(i)),t}function qP(e){return null!==e&&"object"===typeof e?e.valueOf():e}const HP=Symbol("implicit");function WP(){var e=new UP,t=[],n=[],r=HP;function i(i){let o=e.get(i);if(void 0===o){if(r!==HP)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new UP;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return WP(t,n).unknown(r)},LP.apply(i,arguments),i}function KP(){var e,t,n=WP().unknown(void 0),r=n.domain,i=n.range,o=0,a=1,s=!1,l=0,c=0,u=.5;function d(){var n=r().length,d=a<o,h=d?a:o,f=d?o:a;e=(f-h)/Math.max(1,n-l+2*c),s&&(e=Math.floor(e)),h+=(f-h-e*(n-l))*u,t=e*(1-l),s&&(h=Math.round(h),t=Math.round(t));var p=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o}(n).map(function(t){return h+e*t});return i(d?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),d()):r()},n.range=function(e){return arguments.length?([o,a]=e,o=+o,a=+a,d()):[o,a]},n.rangeRound=function(e){return[o,a]=e,o=+o,a=+a,s=!0,d()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(s=!!e,d()):s},n.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),d()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),d()):l},n.paddingOuter=function(e){return arguments.length?(c=+e,d()):c},n.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),d()):u},n.copy=function(){return KP(r(),[o,a]).round(s).paddingInner(l).paddingOuter(c).align(u)},LP.apply(d(),arguments)}function GP(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return GP(t())},e}function YP(){return GP(KP.apply(null,arguments).paddingInner(1))}function XP(e){return XP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},XP(e)}function QP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function $P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?QP(Object(n),!0).forEach(function(t){JP(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QP(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function JP(e,t,n){return t=function(e){var t=function(e,t){if("object"!=XP(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=XP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==XP(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ZP={widthCache:{},cacheCount:0},eI={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},tI="recharts_measurement_span";var nI=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===e||null===e||iC.isSsr)return{width:0,height:0};var n=function(e){var t=$P({},e);return Object.keys(t).forEach(function(e){t[e]||delete t[e]}),t}(t),r=JSON.stringify({text:e,copyStyle:n});if(ZP.widthCache[r])return ZP.widthCache[r];try{var i=document.getElementById(tI);i||((i=document.createElement("span")).setAttribute("id",tI),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=$P($P({},eI),n);Object.assign(i.style,o),i.textContent="".concat(e);var a=i.getBoundingClientRect(),s={width:a.width,height:a.height};return ZP.widthCache[r]=s,++ZP.cacheCount>2e3&&(ZP.cacheCount=0,ZP.widthCache={}),s}catch(CG){return{width:0,height:0}}};function rI(e){return rI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rI(e)}function iI(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return oI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oI(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function aI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,sI(r.key),r)}}function sI(e){var t=function(e,t){if("object"!=rI(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=rI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==rI(t)?t:t+""}var lI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,cI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,uI=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,dI=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,hI={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},fI=Object.keys(hI),pI="NaN";var mI=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),""===n||uI.test(n)||(this.num=NaN,this.unit=""),fI.includes(n)&&(this.num=function(e,t){return e*hI[t]}(t,n),this.unit="px")}return t=e,r=[{key:"parse",value:function(t){var n,r=iI(null!==(n=dI.exec(t))&&void 0!==n?n:[],3),i=r[1],o=r[2];return new e(parseFloat(i),null!==o&&void 0!==o?o:"")}}],(n=[{key:"add",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}])&&aI(t.prototype,n),r&&aI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function gI(e){if(e.includes(pI))return pI;for(var t=e;t.includes("*")||t.includes("/");){var n,r=iI(null!==(n=lI.exec(t))&&void 0!==n?n:[],4),i=r[1],o=r[2],a=r[3],s=mI.parse(null!==i&&void 0!==i?i:""),l=mI.parse(null!==a&&void 0!==a?a:""),c="*"===o?s.multiply(l):s.divide(l);if(c.isNaN())return pI;t=t.replace(lI,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,d=iI(null!==(u=cI.exec(t))&&void 0!==u?u:[],4),h=d[1],f=d[2],p=d[3],m=mI.parse(null!==h&&void 0!==h?h:""),g=mI.parse(null!==p&&void 0!==p?p:""),y="+"===f?m.add(g):m.subtract(g);if(y.isNaN())return pI;t=t.replace(cI,y.toString())}return t}var yI=/\(([^()]*)\)/;function vI(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t=e;t.includes("(");){var n=iI(yI.exec(t),2)[1];t=t.replace(yI,gI(n))}return t}(t),t=gI(t)}function bI(e){var t=function(e){try{return vI(e)}catch(CG){return pI}}(e.slice(5,-1));return t===pI?"":t}var xI=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],wI=["dx","dy","angle","className","breakAll"];function jI(){return jI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jI.apply(this,arguments)}function SI(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function NI(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return EI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EI(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function EI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var kI=/[ \f\n\r\t\v\u2028\u2029]+/,TI=function(e){var t=e.children,n=e.breakAll,r=e.style;try{var i=[];return wT()(t)||(i=n?t.toString().split(""):t.toString().split(kI)),{wordsWithComputedWidth:i.map(function(e){return{word:e,width:nI(e,r).width}}),spaceWidth:n?0:nI("\xa0",r).width}}catch(CG){return null}},_I=function(e){return[{words:wT()(e)?[]:e.toString().split(kI)}]},CI=function(e){var t=e.width,n=e.scaleToFit,r=e.children,i=e.style,o=e.breakAll,a=e.maxLines;if((t||n)&&!iC.isSsr){var s=TI({breakAll:o,children:r,style:i});return s?function(e,t,n,r,i){var o=e.maxLines,a=e.children,s=e.style,l=e.breakAll,c=NT(o),u=a,d=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(e,t){var o=t.word,a=t.width,s=e[e.length-1];if(s&&(null==r||i||s.width+a+n<Number(r)))s.words.push(o),s.width+=a+n;else{var l={words:[o],width:a};e.push(l)}return e},[])},h=d(t);if(!c)return h;for(var f,p=function(e){var t=u.slice(0,e),n=TI({breakAll:l,style:s,children:t+"\u2026"}).wordsWithComputedWidth,i=d(n),a=i.length>o||function(e){return e.reduce(function(e,t){return e.width>t.width?e:t})}(i).width>Number(r);return[a,i]},m=0,g=u.length-1,y=0;m<=g&&y<=u.length-1;){var v=Math.floor((m+g)/2),b=NI(p(v-1),2),x=b[0],w=b[1],j=NI(p(v),1)[0];if(x||j||(m=v+1),x&&j&&(g=v-1),!x&&j){f=w;break}y++}return f||h}({breakAll:o,children:r,maxLines:a,style:i},s.wordsWithComputedWidth,s.spaceWidth,t,n):_I(r)}return _I(r)},OI="#808080",AI=function(e){var t=e.x,n=void 0===t?0:t,r=e.y,o=void 0===r?0:r,a=e.lineHeight,s=void 0===a?"1em":a,l=e.capHeight,c=void 0===l?"0.71em":l,u=e.scaleToFit,d=void 0!==u&&u,h=e.textAnchor,f=void 0===h?"start":h,p=e.verticalAnchor,m=void 0===p?"end":p,g=e.fill,y=void 0===g?OI:g,v=SI(e,xI),b=(0,i.useMemo)(function(){return CI({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:d,style:v.style,width:v.width})},[v.breakAll,v.children,v.maxLines,d,v.style,v.width]),x=v.dx,w=v.dy,j=v.angle,S=v.className,N=v.breakAll,E=SI(v,wI);if(!ET(n)||!ET(o))return null;var k,T=n+(NT(x)?x:0),_=o+(NT(w)?w:0);switch(m){case"start":k=bI("calc(".concat(c,")"));break;case"middle":k=bI("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:k=bI("calc(".concat(b.length-1," * -").concat(s,")"))}var C=[];if(d){var O=b[0].width,A=v.width;C.push("scale(".concat((NT(A)?A/O:1)/O,")"))}return j&&C.push("rotate(".concat(j,", ").concat(T,", ").concat(_,")")),C.length&&(E.transform=C.join(" ")),i.createElement("text",jI({},s_(E,!0),{x:T,y:_,className:cT("recharts-text",S),textAnchor:f,fill:y.includes("url")?OI:y}),b.map(function(e,t){var n=e.words.join(N?"":" ");return i.createElement("tspan",{x:T,dy:0===t?k:s,key:"".concat(n,"-").concat(t)},n)}))};const PI=Math.sqrt(50),II=Math.sqrt(10),DI=Math.sqrt(2);function MI(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=PI?10:o>=II?5:o>=DI?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/a,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*a,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=n&&n<2?MI(e,t,2*n):[s,l,c]}function RI(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[i,o,a]=r?MI(t,e,n):MI(e,t,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let c=0;c<s;++c)l[c]=(o-c)/-a;else for(let c=0;c<s;++c)l[c]=(o-c)*a;else if(a<0)for(let c=0;c<s;++c)l[c]=(i+c)/-a;else for(let c=0;c<s;++c)l[c]=(i+c)*a;return l}function LI(e,t,n){return MI(e=+e,t=+t,n=+n)[2]}function FI(e,t,n){n=+n;const r=(t=+t)<(e=+e),i=r?LI(t,e,n):LI(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function UI(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function BI(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function VI(e){let t,n,r;function i(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<o){if(0!==t(r,r))return o;do{const t=i+o>>>1;n(e[t],r)<0?i=t+1:o=t}while(i<o)}return i}return 2!==e.length?(t=UI,n=(t,n)=>UI(e(t),n),r=(t,n)=>e(t)-n):(t=e===UI||e===BI?e:zI,n=e,r=e),{left:i,center:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const o=i(e,t,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return o>n&&r(e[o-1],t)>-r(e[o],t)?o-1:o},right:function(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<o){if(0!==t(r,r))return o;do{const t=i+o>>>1;n(e[t],r)<=0?i=t+1:o=t}while(i<o)}return i}}}function zI(){return 0}function qI(e){return null===e?NaN:+e}const HI=VI(UI),WI=HI.right,KI=(HI.left,VI(qI).center,WI);function GI(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function YI(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function XI(){}var QI=.7,$I=1/QI,JI="\\s*([+-]?\\d+)\\s*",ZI="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",eD="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",tD=/^#([0-9a-f]{3,8})$/,nD=new RegExp("^rgb\\(".concat(JI,",").concat(JI,",").concat(JI,"\\)$")),rD=new RegExp("^rgb\\(".concat(eD,",").concat(eD,",").concat(eD,"\\)$")),iD=new RegExp("^rgba\\(".concat(JI,",").concat(JI,",").concat(JI,",").concat(ZI,"\\)$")),oD=new RegExp("^rgba\\(".concat(eD,",").concat(eD,",").concat(eD,",").concat(ZI,"\\)$")),aD=new RegExp("^hsl\\(".concat(ZI,",").concat(eD,",").concat(eD,"\\)$")),sD=new RegExp("^hsla\\(".concat(ZI,",").concat(eD,",").concat(eD,",").concat(ZI,"\\)$")),lD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function cD(){return this.rgb().formatHex()}function uD(){return this.rgb().formatRgb()}function dD(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=tD.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?hD(t):3===n?new mD(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?fD(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?fD(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=nD.exec(e))?new mD(t[1],t[2],t[3],1):(t=rD.exec(e))?new mD(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=iD.exec(e))?fD(t[1],t[2],t[3],t[4]):(t=oD.exec(e))?fD(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=aD.exec(e))?wD(t[1],t[2]/100,t[3]/100,1):(t=sD.exec(e))?wD(t[1],t[2]/100,t[3]/100,t[4]):lD.hasOwnProperty(e)?hD(lD[e]):"transparent"===e?new mD(NaN,NaN,NaN,0):null}function hD(e){return new mD(e>>16&255,e>>8&255,255&e,1)}function fD(e,t,n,r){return r<=0&&(e=t=n=NaN),new mD(e,t,n,r)}function pD(e,t,n,r){return 1===arguments.length?((i=e)instanceof XI||(i=dD(i)),i?new mD((i=i.rgb()).r,i.g,i.b,i.opacity):new mD):new mD(e,t,n,null==r?1:r);var i}function mD(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function gD(){return"#".concat(xD(this.r)).concat(xD(this.g)).concat(xD(this.b))}function yD(){const e=vD(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(bD(this.r),", ").concat(bD(this.g),", ").concat(bD(this.b)).concat(1===e?")":", ".concat(e,")"))}function vD(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function bD(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function xD(e){return((e=bD(e))<16?"0":"")+e.toString(16)}function wD(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new SD(e,t,n,r)}function jD(e){if(e instanceof SD)return new SD(e.h,e.s,e.l,e.opacity);if(e instanceof XI||(e=dD(e)),!e)return new SD;if(e instanceof SD)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=t===o?(n-r)/s+6*(n<r):n===o?(r-t)/s+2:(t-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new SD(a,s,l,e.opacity)}function SD(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function ND(e){return(e=(e||0)%360)<0?e+360:e}function ED(e){return Math.max(0,Math.min(1,e||0))}function kD(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function TD(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}GI(XI,dD,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:cD,formatHex:cD,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return jD(this).formatHsl()},formatRgb:uD,toString:uD}),GI(mD,pD,YI(XI,{brighter(e){return e=null==e?$I:Math.pow($I,e),new mD(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?QI:Math.pow(QI,e),new mD(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new mD(bD(this.r),bD(this.g),bD(this.b),vD(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:gD,formatHex:gD,formatHex8:function(){return"#".concat(xD(this.r)).concat(xD(this.g)).concat(xD(this.b)).concat(xD(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:yD,toString:yD})),GI(SD,function(e,t,n,r){return 1===arguments.length?jD(e):new SD(e,t,n,null==r?1:r)},YI(XI,{brighter(e){return e=null==e?$I:Math.pow($I,e),new SD(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?QI:Math.pow(QI,e),new SD(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new mD(kD(e>=240?e-240:e+120,i,r),kD(e,i,r),kD(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new SD(ND(this.h),ED(this.s),ED(this.l),vD(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=vD(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(ND(this.h),", ").concat(100*ED(this.s),"%, ").concat(100*ED(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));const _D=e=>()=>e;function CD(e,t){return function(n){return e+n*t}}function OD(e){return 1===(e=+e)?AD:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):_D(isNaN(t)?n:t)}}function AD(e,t){var n=t-e;return n?CD(e,n):_D(isNaN(e)?t:e)}const PD=function e(t){var n=OD(t);function r(e,t){var r=n((e=pD(e)).r,(t=pD(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),a=AD(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function ID(e){return function(t){var n,r,i=t.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=pD(t[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=e(o),a=e(a),s=e(s),r.opacity=1,function(e){return r.r=o(e),r.g=a(e),r.b=s(e),r+""}}}ID(function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],a=r>0?e[r-1]:2*i-o,s=r<t-1?e[r+2]:2*o-i;return TD((n-r/t)*t,a,i,o,s)}}),ID(function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return TD((n-r/t)*t,i,o,a,s)}});function DD(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=zD(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<i;++n)a[n]=o[n](e);return a}}function MD(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function RD(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function LD(e,t){var n,r={},i={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=zD(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var FD=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,UD=new RegExp(FD.source,"g");function BD(e,t){var n,r,i,o=FD.lastIndex=UD.lastIndex=0,a=-1,s=[],l=[];for(e+="",t+="";(n=FD.exec(e))&&(r=UD.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:RD(n,r)})),o=UD.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}function VD(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(n=0;n<r;++n)i[n]=e[n]*(1-o)+t[n]*o;return i}}function zD(e,t){var n,r=typeof t;return null==t||"boolean"===r?_D(t):("number"===r?RD:"string"===r?(n=dD(t))?(t=n,PD):BD:t instanceof dD?PD:t instanceof Date?MD:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?VD:Array.isArray(t)?DD:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?LD:RD)(e,t)}function qD(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function HD(e){return+e}var WD=[0,1];function KD(e){return e}function GD(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function YD(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=GD(i,r),o=n(a,o)):(r=GD(r,i),o=n(o,a)),function(e){return o(r(e))}}function XD(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=GD(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(t){var n=KI(e,t,1,r)-1;return o[n](i[n](t))}}function QD(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function $D(){var e,t,n,r,i,o,a=WD,s=WD,l=zD,c=KD;function u(){var e=Math.min(a.length,s.length);return c!==KD&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(a[0],a[e-1])),r=e>2?XD:YD,i=o=null,d}function d(t){return null==t||isNaN(t=+t)?n:(i||(i=r(a.map(e),s,l)))(e(c(t)))}return d.invert=function(n){return c(t((o||(o=r(s,a.map(e),RD)))(n)))},d.domain=function(e){return arguments.length?(a=Array.from(e,HD),u()):a.slice()},d.range=function(e){return arguments.length?(s=Array.from(e),u()):s.slice()},d.rangeRound=function(e){return s=Array.from(e),l=qD,u()},d.clamp=function(e){return arguments.length?(c=!!e||KD,u()):c!==KD},d.interpolate=function(e){return arguments.length?(l=e,u()):l},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,r){return e=n,t=r,u()}}function JD(){return $D()(KD,KD)}var ZD,eM=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function tM(e){if(!(t=eM.exec(e)))throw new Error("invalid format: "+e);var t;return new nM({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function nM(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function rM(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function iM(e){return(e=rM(Math.abs(e)))?e[1]:NaN}function oM(e,t){var n=rM(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}tM.prototype=nM.prototype,nM.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const aM={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>oM(100*e,t),r:oM,s:function(e,t){var n=rM(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(ZD=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+rM(e,Math.max(0,t+o-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function sM(e){return e}var lM,cM,uM,dM=Array.prototype.map,hM=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function fM(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?sM:(t=dM.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(e.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?sM:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(dM.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"\u2212":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=tM(e)).fill,n=e.align,d=e.sign,h=e.symbol,f=e.zero,p=e.width,m=e.comma,g=e.precision,y=e.trim,v=e.type;"n"===v?(m=!0,v="g"):aM[v]||(void 0===g&&(g=12),y=!0,v="g"),(f||"0"===t&&"="===n)&&(f=!0,t="0",n="=");var b="$"===h?i:"#"===h&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",x="$"===h?o:/[%p]/.test(v)?l:"",w=aM[v],j=/[defgprs%]/.test(v);function S(e){var i,o,l,h=b,S=x;if("c"===v)S=w(e)+S,e="";else{var N=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:w(Math.abs(e),g),y&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),N&&0===+e&&"+"!==d&&(N=!1),h=(N?"("===d?d:c:"-"===d||"("===d?"":d)+h,S=("s"===v?hM[8+ZD/3]:"")+S+(N&&"("===d?")":""),j)for(i=-1,o=e.length;++i<o;)if(48>(l=e.charCodeAt(i))||l>57){S=(46===l?a+e.slice(i+1):e.slice(i))+S,e=e.slice(0,i);break}}m&&!f&&(e=r(e,1/0));var E=h.length+e.length+S.length,k=E<p?new Array(p-E+1).join(t):"";switch(m&&f&&(e=r(k+e,k.length?p-S.length:1/0),k=""),n){case"<":e=h+e+S+k;break;case"=":e=h+k+e+S;break;case"^":e=k.slice(0,E=k.length>>1)+h+e+S+k.slice(E);break;default:e=k+h+e+S}return s(e)}return g=void 0===g?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),S.toString=function(){return e+""},S}return{format:d,formatPrefix:function(e,t){var n=d(((e=tM(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(iM(t)/3))),i=Math.pow(10,-r),o=hM[8+r/3];return function(e){return n(i*e)+o}}}}function pM(e,t,n,r){var i,o=FI(e,t,n);switch((r=tM(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(iM(t)/3)))-iM(Math.abs(e)))}(o,a))||(r.precision=i),uM(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,iM(t)-iM(e))+1}(o,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-iM(Math.abs(e)))}(o))||(r.precision=i-2*("%"===r.type))}return cM(r)}function mM(e){var t=e.domain;return e.ticks=function(e){var n=t();return RI(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return pM(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,o=t(),a=0,s=o.length-1,l=o[a],c=o[s],u=10;for(c<l&&(i=l,l=c,c=i,i=a,a=s,s=i);u-- >0;){if((i=LI(l,c,n))===r)return o[a]=l,o[s]=c,t(o);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}r=i}return e},e}function gM(){var e=JD();return e.copy=function(){return QD(e,gM())},LP.apply(e,arguments),mM(e)}function yM(e){var t;function n(e){return null==e||isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,HD),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return yM(e).unknown(t)},e=arguments.length?Array.from(e,HD):[0,1],mM(n)}function vM(e,t){var n,r=0,i=(e=e.slice()).length-1,o=e[r],a=e[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e}function bM(e){return Math.log(e)}function xM(e){return Math.exp(e)}function wM(e){return-Math.log(-e)}function jM(e){return-Math.exp(-e)}function SM(e){return isFinite(e)?+("1e"+e):e<0?0:e}function NM(e){return(t,n)=>-e(-t,n)}function EM(e){const t=e(bM,xM),n=t.domain;let r,i,o=10;function a(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(o),i=function(e){return 10===e?SM:e===Math.E?Math.exp:t=>Math.pow(e,t)}(o),n()[0]<0?(r=NM(r),i=NM(i),e(wM,jM)):e(bM,xM),t}return t.base=function(e){return arguments.length?(o=+e,a()):o},t.domain=function(e){return arguments.length?(n(e),a()):n()},t.ticks=e=>{const t=n();let a=t[0],s=t[t.length-1];const l=s<a;l&&([a,s]=[s,a]);let c,u,d=r(a),h=r(s);const f=null==e?10:+e;let p=[];if(!(o%1)&&h-d<f){if(d=Math.floor(d),h=Math.ceil(h),a>0){for(;d<=h;++d)for(c=1;c<o;++c)if(u=d<0?c/i(-d):c*i(d),!(u<a)){if(u>s)break;p.push(u)}}else for(;d<=h;++d)for(c=o-1;c>=1;--c)if(u=d>0?c/i(-d):c*i(d),!(u<a)){if(u>s)break;p.push(u)}2*p.length<f&&(p=RI(a,s,f))}else p=RI(d,h,Math.min(h-d,f)).map(i);return l?p.reverse():p},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===o?"s":","),"function"!==typeof n&&(o%1||null!=(n=tM(n)).precision||(n.trim=!0),n=cM(n)),e===1/0)return n;const a=Math.max(1,o*e/t.ticks().length);return e=>{let t=e/i(Math.round(r(e)));return t*o<o-.5&&(t*=o),t<=a?n(e):""}},t.nice=()=>n(vM(n(),{floor:e=>i(Math.floor(r(e))),ceil:e=>i(Math.ceil(r(e)))})),t}function kM(){const e=EM($D()).domain([1,10]);return e.copy=()=>QD(e,kM()).base(e.base()),LP.apply(e,arguments),e}function TM(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function _M(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function CM(e){var t=1,n=e(TM(t),_M(t));return n.constant=function(n){return arguments.length?e(TM(t=+n),_M(t)):t},mM(n)}function OM(){var e=CM($D());return e.copy=function(){return QD(e,OM()).constant(e.constant())},LP.apply(e,arguments)}function AM(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function PM(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function IM(e){return e<0?-e*e:e*e}function DM(e){var t=e(KD,KD),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(KD,KD):.5===n?e(PM,IM):e(AM(n),AM(1/n)):n},mM(t)}function MM(){var e=DM($D());return e.copy=function(){return QD(e,MM()).exponent(e.exponent())},LP.apply(e,arguments),e}function RM(){return MM.apply(null,arguments).exponent(.5)}function LM(e){return Math.sign(e)*e*e}function FM(){var e,t=JD(),n=[0,1],r=!1;function i(n){var i=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(n));return isNaN(i)?e:r?Math.round(i):i}return i.invert=function(e){return t.invert(LM(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain()},i.range=function(e){return arguments.length?(t.range((n=Array.from(e,HD)).map(LM)),i):n.slice()},i.rangeRound=function(e){return i.range(e).round(!0)},i.round=function(e){return arguments.length?(r=!!e,i):r},i.clamp=function(e){return arguments.length?(t.clamp(e),i):t.clamp()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return FM(t.domain(),n).round(r).clamp(t.clamp()).unknown(e)},LP.apply(i,arguments),mM(i)}function UM(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function BM(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function VM(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:UI;if(e===UI)return zM;if("function"!==typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}function zM(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function qM(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,i=arguments.length>4?arguments[4]:void 0;if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=void 0===i?zM:VM(i);r>n;){if(r-n>600){const o=r-n+1,a=t-n+1,s=Math.log(o),l=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*l*(o-l)/o)*(a-o/2<0?-1:1);qM(e,t,Math.max(n,Math.floor(t-a*l/o+c)),Math.min(r,Math.floor(t+(o-a)*l/o+c)),i)}const o=e[t];let a=n,s=r;for(HM(e,n,t),i(e[r],o)>0&&HM(e,n,r);a<s;){for(HM(e,a,s),++a,--s;i(e[a],o)<0;)++a;for(;i(e[s],o)>0;)--s}0===i(e[n],o)?HM(e,n,s):(++s,HM(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function HM(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function WM(e,t,n){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let n of e)null!=n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(r=+r)>=r&&(yield r)}}(e,n)),(r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return BM(e);if(t>=1)return UM(e);var r,i=(r-1)*t,o=Math.floor(i),a=UM(qM(e,o).subarray(0,o+1));return a+(BM(e.subarray(o+1))-a)*(i-o)}}function KM(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:qI;if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e);return a+(+n(e[o+1],o+1,e)-a)*(i-o)}}function GM(){var e,t=[],n=[],r=[];function i(){var e=0,i=Math.max(1,n.length);for(r=new Array(i-1);++e<i;)r[e-1]=KM(t,e/i);return o}function o(t){return null==t||isNaN(t=+t)?e:n[KI(r,t)]}return o.invertExtent=function(e){var i=n.indexOf(e);return i<0?[NaN,NaN]:[i>0?r[i-1]:t[0],i<r.length?r[i]:t[t.length-1]]},o.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(UI),i()},o.range=function(e){return arguments.length?(n=Array.from(e),i()):n.slice()},o.unknown=function(t){return arguments.length?(e=t,o):e},o.quantiles=function(){return r.slice()},o.copy=function(){return GM().domain(t).range(n).unknown(e)},LP.apply(o,arguments)}function YM(){var e,t=0,n=1,r=1,i=[.5],o=[0,1];function a(t){return null!=t&&t<=t?o[KI(i,t,0,r)]:e}function s(){var e=-1;for(i=new Array(r);++e<r;)i[e]=((e+1)*n-(e-r)*t)/(r+1);return a}return a.domain=function(e){return arguments.length?([t,n]=e,t=+t,n=+n,s()):[t,n]},a.range=function(e){return arguments.length?(r=(o=Array.from(e)).length-1,s()):o.slice()},a.invertExtent=function(e){var a=o.indexOf(e);return a<0?[NaN,NaN]:a<1?[t,i[0]]:a>=r?[i[r-1],n]:[i[a-1],i[a]]},a.unknown=function(t){return arguments.length?(e=t,a):a},a.thresholds=function(){return i.slice()},a.copy=function(){return YM().domain([t,n]).range(o).unknown(e)},LP.apply(mM(a),arguments)}function XM(){var e,t=[.5],n=[0,1],r=1;function i(i){return null!=i&&i<=i?n[KI(t,i,0,r)]:e}return i.domain=function(e){return arguments.length?(t=Array.from(e),r=Math.min(t.length,n.length-1),i):t.slice()},i.range=function(e){return arguments.length?(n=Array.from(e),r=Math.min(t.length,n.length-1),i):n.slice()},i.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return XM().domain(t).range(n).unknown(e)},LP.apply(i,arguments)}lM=fM({thousands:",",grouping:[3],currency:["$",""]}),cM=lM.format,uM=lM.formatPrefix;const QM=1e3,$M=6e4,JM=36e5,ZM=864e5,eR=6048e5,tR=2592e6,nR=31536e6,rR=new Date,iR=new Date;function oR(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=t=>(e(t=new Date(+t)),t),i.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),i.round=e=>{const t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),i.range=(n,r,o)=>{const a=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r)||!(o>0))return a;let s;do{a.push(s=new Date(+n)),t(n,o),e(n)}while(s<n&&n<r);return a},i.filter=n=>oR(t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},(e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}),n&&(i.count=(t,r)=>(rR.setTime(+t),iR.setTime(+r),e(rR),e(iR),Math.floor(n(rR,iR))),i.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?t=>r(t)%e===0:t=>i.count(0,t)%e===0):i:null)),i}const aR=oR(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);aR.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?oR(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):aR:null);aR.range;const sR=oR(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*QM)},(e,t)=>(t-e)/QM,e=>e.getUTCSeconds()),lR=(sR.range,oR(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*QM)},(e,t)=>{e.setTime(+e+t*$M)},(e,t)=>(t-e)/$M,e=>e.getMinutes())),cR=(lR.range,oR(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*$M)},(e,t)=>(t-e)/$M,e=>e.getUTCMinutes())),uR=(cR.range,oR(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*QM-e.getMinutes()*$M)},(e,t)=>{e.setTime(+e+t*JM)},(e,t)=>(t-e)/JM,e=>e.getHours())),dR=(uR.range,oR(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*JM)},(e,t)=>(t-e)/JM,e=>e.getUTCHours())),hR=(dR.range,oR(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*$M)/ZM,e=>e.getDate()-1)),fR=(hR.range,oR(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ZM,e=>e.getUTCDate()-1)),pR=(fR.range,oR(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ZM,e=>Math.floor(e/ZM)));pR.range;function mR(e){return oR(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*$M)/eR)}const gR=mR(0),yR=mR(1),vR=mR(2),bR=mR(3),xR=mR(4),wR=mR(5),jR=mR(6);gR.range,yR.range,vR.range,bR.range,xR.range,wR.range,jR.range;function SR(e){return oR(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/eR)}const NR=SR(0),ER=SR(1),kR=SR(2),TR=SR(3),_R=SR(4),CR=SR(5),OR=SR(6),AR=(NR.range,ER.range,kR.range,TR.range,_R.range,CR.range,OR.range,oR(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth())),PR=(AR.range,oR(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth())),IR=(PR.range,oR(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear()));IR.every=e=>isFinite(e=Math.floor(e))&&e>0?oR(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)}):null;IR.range;const DR=oR(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());DR.every=e=>isFinite(e=Math.floor(e))&&e>0?oR(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null;DR.range;function MR(e,t,n,r,i,o){const a=[[sR,1,QM],[sR,5,5e3],[sR,15,15e3],[sR,30,3e4],[o,1,$M],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,JM],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,ZM],[r,2,1728e5],[n,1,eR],[t,1,tR],[t,3,7776e6],[e,1,nR]];function s(t,n,r){const i=Math.abs(n-t)/r,o=VI(e=>{let[,,t]=e;return t}).right(a,i);if(o===a.length)return e.every(FI(t/nR,n/nR,r));if(0===o)return aR.every(Math.max(FI(t,n,r),1));const[s,l]=a[i/a[o-1][2]<a[o][2]/i?o-1:o];return s.every(l)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const i=n&&"function"===typeof n.range?n:s(e,t,n),o=i?i.range(e,+t+1):[];return r?o.reverse():o},s]}const[RR,LR]=MR(DR,PR,NR,pR,dR,cR),[FR,UR]=MR(IR,AR,gR,hR,uR,lR);function BR(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function VR(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function zR(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var qR,HR,WR,KR={"-":"",_:" ",0:"0"},GR=/^\s*\d+/,YR=/^%/,XR=/[\\^$*+?|[\]().{}]/g;function QR(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function $R(e){return e.replace(XR,"\\$&")}function JR(e){return new RegExp("^(?:"+e.map($R).join("|")+")","i")}function ZR(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function eL(e,t,n){var r=GR.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function tL(e,t,n){var r=GR.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function nL(e,t,n){var r=GR.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function rL(e,t,n){var r=GR.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function iL(e,t,n){var r=GR.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function oL(e,t,n){var r=GR.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function aL(e,t,n){var r=GR.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function sL(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function lL(e,t,n){var r=GR.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function cL(e,t,n){var r=GR.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function uL(e,t,n){var r=GR.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function dL(e,t,n){var r=GR.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function hL(e,t,n){var r=GR.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function fL(e,t,n){var r=GR.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function pL(e,t,n){var r=GR.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function mL(e,t,n){var r=GR.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function gL(e,t,n){var r=GR.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function yL(e,t,n){var r=YR.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function vL(e,t,n){var r=GR.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function bL(e,t,n){var r=GR.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function xL(e,t){return QR(e.getDate(),t,2)}function wL(e,t){return QR(e.getHours(),t,2)}function jL(e,t){return QR(e.getHours()%12||12,t,2)}function SL(e,t){return QR(1+hR.count(IR(e),e),t,3)}function NL(e,t){return QR(e.getMilliseconds(),t,3)}function EL(e,t){return NL(e,t)+"000"}function kL(e,t){return QR(e.getMonth()+1,t,2)}function TL(e,t){return QR(e.getMinutes(),t,2)}function _L(e,t){return QR(e.getSeconds(),t,2)}function CL(e){var t=e.getDay();return 0===t?7:t}function OL(e,t){return QR(gR.count(IR(e)-1,e),t,2)}function AL(e){var t=e.getDay();return t>=4||0===t?xR(e):xR.ceil(e)}function PL(e,t){return e=AL(e),QR(xR.count(IR(e),e)+(4===IR(e).getDay()),t,2)}function IL(e){return e.getDay()}function DL(e,t){return QR(yR.count(IR(e)-1,e),t,2)}function ML(e,t){return QR(e.getFullYear()%100,t,2)}function RL(e,t){return QR((e=AL(e)).getFullYear()%100,t,2)}function LL(e,t){return QR(e.getFullYear()%1e4,t,4)}function FL(e,t){var n=e.getDay();return QR((e=n>=4||0===n?xR(e):xR.ceil(e)).getFullYear()%1e4,t,4)}function UL(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+QR(t/60|0,"0",2)+QR(t%60,"0",2)}function BL(e,t){return QR(e.getUTCDate(),t,2)}function VL(e,t){return QR(e.getUTCHours(),t,2)}function zL(e,t){return QR(e.getUTCHours()%12||12,t,2)}function qL(e,t){return QR(1+fR.count(DR(e),e),t,3)}function HL(e,t){return QR(e.getUTCMilliseconds(),t,3)}function WL(e,t){return HL(e,t)+"000"}function KL(e,t){return QR(e.getUTCMonth()+1,t,2)}function GL(e,t){return QR(e.getUTCMinutes(),t,2)}function YL(e,t){return QR(e.getUTCSeconds(),t,2)}function XL(e){var t=e.getUTCDay();return 0===t?7:t}function QL(e,t){return QR(NR.count(DR(e)-1,e),t,2)}function $L(e){var t=e.getUTCDay();return t>=4||0===t?_R(e):_R.ceil(e)}function JL(e,t){return e=$L(e),QR(_R.count(DR(e),e)+(4===DR(e).getUTCDay()),t,2)}function ZL(e){return e.getUTCDay()}function eF(e,t){return QR(ER.count(DR(e)-1,e),t,2)}function tF(e,t){return QR(e.getUTCFullYear()%100,t,2)}function nF(e,t){return QR((e=$L(e)).getUTCFullYear()%100,t,2)}function rF(e,t){return QR(e.getUTCFullYear()%1e4,t,4)}function iF(e,t){var n=e.getUTCDay();return QR((e=n>=4||0===n?_R(e):_R.ceil(e)).getUTCFullYear()%1e4,t,4)}function oF(){return"+0000"}function aF(){return"%"}function sF(e){return+e}function lF(e){return Math.floor(+e/1e3)}function cF(e){return new Date(e)}function uF(e){return e instanceof Date?+e:+new Date(+e)}function dF(e,t,n,r,i,o,a,s,l,c){var u=JD(),d=u.invert,h=u.domain,f=c(".%L"),p=c(":%S"),m=c("%I:%M"),g=c("%I %p"),y=c("%a %d"),v=c("%b %d"),b=c("%B"),x=c("%Y");function w(e){return(l(e)<e?f:s(e)<e?p:a(e)<e?m:o(e)<e?g:r(e)<e?i(e)<e?y:v:n(e)<e?b:x)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?h(Array.from(e,uF)):h().map(cF)},u.ticks=function(t){var n=h();return e(n[0],n[n.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?w:c(t)},u.nice=function(e){var n=h();return e&&"function"===typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?h(vM(n,e)):u},u.copy=function(){return QD(u,dF(e,t,n,r,i,o,a,s,l,c))},u}function hF(){return LP.apply(dF(FR,UR,IR,AR,gR,hR,uR,lR,sR,HR).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function fF(){return LP.apply(dF(RR,LR,DR,PR,NR,fR,dR,cR,sR,WR).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function pF(){var e,t,n,r,i,o=0,a=1,s=KD,l=!1;function c(t){return null==t||isNaN(t=+t)?i:s(0===n?.5:(t=(r(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var n,r;return arguments.length?([n,r]=t,s=e(n,r),c):[s(0),s(1)]}}return c.domain=function(i){return arguments.length?([o,a]=i,e=r(o=+o),t=r(a=+a),n=e===t?0:1/(t-e),c):[o,a]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(s=e,c):s},c.range=u(zD),c.rangeRound=u(qD),c.unknown=function(e){return arguments.length?(i=e,c):i},function(i){return r=i,e=i(o),t=i(a),n=e===t?0:1/(t-e),c}}function mF(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function gF(){var e=mM(pF()(KD));return e.copy=function(){return mF(e,gF())},FP.apply(e,arguments)}function yF(){var e=EM(pF()).domain([1,10]);return e.copy=function(){return mF(e,yF()).base(e.base())},FP.apply(e,arguments)}function vF(){var e=CM(pF());return e.copy=function(){return mF(e,vF()).constant(e.constant())},FP.apply(e,arguments)}function bF(){var e=DM(pF());return e.copy=function(){return mF(e,bF()).exponent(e.exponent())},FP.apply(e,arguments)}function xF(){return bF.apply(null,arguments).exponent(.5)}function wF(){var e=[],t=KD;function n(n){if(null!=n&&!isNaN(n=+n))return t((KI(e,n,1)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(UI),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.range=function(){return e.map((n,r)=>t(r/(e.length-1)))},n.quantiles=function(t){return Array.from({length:t+1},(n,r)=>WM(e,r/t))},n.copy=function(){return wF(t).domain(e)},FP.apply(n,arguments)}function jF(){var e,t,n,r,i,o,a,s=0,l=.5,c=1,u=1,d=KD,h=!1;function f(e){return isNaN(e=+e)?a:(e=.5+((e=+o(e))-t)*(u*e<u*t?r:i),d(h?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var n,r,i;return arguments.length?([n,r,i]=t,d=function(e,t){void 0===t&&(t=e,e=zD);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return o[t](e-t)}}(e,[n,r,i]),f):[d(0),d(.5),d(1)]}}return f.domain=function(a){return arguments.length?([s,l,c]=a,e=o(s=+s),t=o(l=+l),n=o(c=+c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,f):[s,l,c]},f.clamp=function(e){return arguments.length?(h=!!e,f):h},f.interpolator=function(e){return arguments.length?(d=e,f):d},f.range=p(zD),f.rangeRound=p(qD),f.unknown=function(e){return arguments.length?(a=e,f):a},function(a){return o=a,e=a(s),t=a(l),n=a(c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,f}}function SF(){var e=mM(jF()(KD));return e.copy=function(){return mF(e,SF())},FP.apply(e,arguments)}function NF(){var e=EM(jF()).domain([.1,1,10]);return e.copy=function(){return mF(e,NF()).base(e.base())},FP.apply(e,arguments)}function EF(){var e=CM(jF());return e.copy=function(){return mF(e,EF()).constant(e.constant())},FP.apply(e,arguments)}function kF(){var e=DM(jF());return e.copy=function(){return mF(e,kF()).exponent(e.exponent())},FP.apply(e,arguments)}function TF(){return kF.apply(null,arguments).exponent(.5)}function _F(e,t){if((i=e.length)>1)for(var n,r,i,o=1,a=e[t[0]],s=a.length;o<i;++o)for(r=a,a=e[t[o]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}!function(e){qR=function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,l=e.shortMonths,c=JR(i),u=ZR(i),d=JR(o),h=ZR(o),f=JR(a),p=ZR(a),m=JR(s),g=ZR(s),y=JR(l),v=ZR(l),b={a:function(e){return a[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:xL,e:xL,f:EL,g:RL,G:FL,H:wL,I:jL,j:SL,L:NL,m:kL,M:TL,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:sF,s:lF,S:_L,u:CL,U:OL,V:PL,w:IL,W:DL,x:null,X:null,y:ML,Y:LL,Z:UL,"%":aF},x={a:function(e){return a[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:BL,e:BL,f:WL,g:nF,G:iF,H:VL,I:zL,j:qL,L:HL,m:KL,M:GL,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:sF,s:lF,S:YL,u:XL,U:QL,V:JL,w:ZL,W:eF,x:null,X:null,y:tF,Y:rF,Z:oF,"%":aF},w={a:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=y.exec(t.slice(n));return r?(e.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return N(e,t,n,r)},d:uL,e:uL,f:gL,g:aL,G:oL,H:hL,I:hL,j:dL,L:mL,m:cL,M:fL,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:lL,Q:vL,s:bL,S:pL,u:tL,U:nL,V:rL,w:eL,W:iL,x:function(e,t,r){return N(e,n,t,r)},X:function(e,t,n){return N(e,r,t,n)},y:aL,Y:oL,Z:sL,"%":yL};function j(e,t){return function(n){var r,i,o,a=[],s=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===e.charCodeAt(s)&&(a.push(e.slice(l,s)),null!=(i=KR[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(o=t[r])&&(r=o(n,i)),a.push(r),l=s+1);return a.push(e.slice(l,s)),a.join("")}}function S(e,t){return function(n){var r,i,o=zR(1900,void 0,1);if(N(o,e,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(t&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=VR(zR(o.y,0,1))).getUTCDay(),r=i>4||0===i?ER.ceil(r):ER(r),r=fR.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=BR(zR(o.y,0,1))).getDay(),r=i>4||0===i?yR.ceil(r):yR(r),r=hR.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?VR(zR(o.y,0,1)).getUTCDay():BR(zR(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,VR(o)):BR(o)}}function N(e,t,n,r){for(var i,o,a=0,s=t.length,l=n.length;a<s;){if(r>=l)return-1;if(37===(i=t.charCodeAt(a++))){if(i=t.charAt(a++),!(o=w[i in KR?t.charAt(a++):i])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=j(n,b),b.X=j(r,b),b.c=j(t,b),x.x=j(n,x),x.X=j(r,x),x.c=j(t,x),{format:function(e){var t=j(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=S(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=j(e+="",x);return t.toString=function(){return e},t},utcParse:function(e){var t=S(e+="",!0);return t.toString=function(){return e},t}}}(e),HR=qR.format,qR.parse,WR=qR.utcFormat,qR.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Array.prototype.slice;function CF(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function OF(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function AF(e,t){return e[t]}function PF(e){const t=[];return t.key=e,t}var IF=n(539),DF=n.n(IF),MF=n(6745),RF=n.n(MF),LF=n(3538),FF=n.n(LF),UF=n(9853),BF=n.n(UF),VF=n(8210),zF=n.n(VF);function qF(e){return function(e){if(Array.isArray(e))return HF(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return HF(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HF(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function HF(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var WF=function(e){return e},KF={"@@functional/placeholder":!0},GF=function(e){return e===KF},YF=function(e){return function t(){return 0===arguments.length||1===arguments.length&&GF(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},XF=function e(t,n){return 1===t?n:YF(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(e){return e!==KF}).length;return a>=t?n.apply(void 0,i):e(t-a,YF(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var o=i.map(function(e){return GF(e)?t.shift():e});return n.apply(void 0,qF(o).concat(t))}))})},QF=function(e){return XF(e.length,e)},$F=function(e,t){for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},JF=QF(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(e){return t[e]}).map(e)}),ZF=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return WF;var r=t.reverse(),i=r[0],o=r.slice(1);return function(){return o.reduce(function(e,t){return t(e)},i.apply(void 0,arguments))}},eU=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},tU=function(e){var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t&&i.every(function(e,n){return e===t[n]})?n:(t=i,n=e.apply(void 0,i))}};var nU=QF(function(e,t,n){var r=+e;return r+n*(+t-r)}),rU=QF(function(e,t,n){var r=t-+e;return(n-e)/(r=r||1/0)}),iU=QF(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const oU={rangeStep:function(e,t,n){for(var r=new(zF())(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o},getDigitCount:function(e){return 0===e?1:Math.floor(new(zF())(e).abs().log(10).toNumber())+1},interpolateNumber:nU,uninterpolateNumber:rU,uninterpolateTruncation:iU};function aU(e){return function(e){if(Array.isArray(e))return cU(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||lU(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sU(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(AG){i=!0,o=AG}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||lU(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lU(e,t){if(e){if("string"===typeof e)return cU(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cU(e,t):void 0}}function cU(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function uU(e){var t=sU(e,2),n=t[0],r=t[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function dU(e,t,n){if(e.lte(0))return new(zF())(0);var r=oU.getDigitCount(e.toNumber()),i=new(zF())(10).pow(r),o=e.div(i),a=1!==r?.05:.1,s=new(zF())(Math.ceil(o.div(a).toNumber())).add(n).mul(a).mul(i);return t?s:new(zF())(Math.ceil(s))}function hU(e,t,n){var r=1,i=new(zF())(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new(zF())(10).pow(oU.getDigitCount(e)-1),i=new(zF())(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new(zF())(Math.floor(e)))}else 0===e?i=new(zF())(Math.floor((t-1)/2)):n||(i=new(zF())(Math.floor(e)));var a=Math.floor((t-1)/2);return ZF(JF(function(e){return i.add(new(zF())(e-a).mul(r)).toNumber()}),$F)(0,t)}function fU(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new(zF())(0),tickMin:new(zF())(0),tickMax:new(zF())(0)};var o,a=dU(new(zF())(t).sub(e).div(n-1),r,i);o=e<=0&&t>=0?new(zF())(0):(o=new(zF())(e).add(t).div(2)).sub(new(zF())(o).mod(a));var s=Math.ceil(o.sub(e).div(a).toNumber()),l=Math.ceil(new(zF())(t).sub(o).div(a).toNumber()),c=s+l+1;return c>n?fU(e,t,n,r,i+1):(c<n&&(l=t>0?l+(n-c):l,s=t>0?s:s+(n-c)),{step:a,tickMin:o.sub(new(zF())(s).mul(a)),tickMax:o.add(new(zF())(l).mul(a))})}var pU=tU(function(e){var t=sU(e,2),n=t[0],r=t[1],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Math.max(i,2),s=sU(uU([n,r]),2),l=s[0],c=s[1];if(l===-1/0||c===1/0){var u=c===1/0?[l].concat(aU($F(0,i-1).map(function(){return 1/0}))):[].concat(aU($F(0,i-1).map(function(){return-1/0})),[c]);return n>r?eU(u):u}if(l===c)return hU(l,i,o);var d=fU(l,c,a,o),h=d.step,f=d.tickMin,p=d.tickMax,m=oU.rangeStep(f,p.add(new(zF())(.1).mul(h)),h);return n>r?eU(m):m}),mU=(tU(function(e){var t=sU(e,2),n=t[0],r=t[1],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Math.max(i,2),s=sU(uU([n,r]),2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[n,r];if(l===c)return hU(l,i,o);var u=dU(new(zF())(c).sub(l).div(a-1),o,0),d=ZF(JF(function(e){return new(zF())(l).add(new(zF())(e).mul(u)).toNumber()}),$F)(0,a).filter(function(e){return e>=l&&e<=c});return n>r?eU(d):d}),tU(function(e,t){var n=sU(e,2),r=n[0],i=n[1],o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=sU(uU([r,i]),2),s=a[0],l=a[1];if(s===-1/0||l===1/0)return[r,i];if(s===l)return[s];var c=Math.max(t,2),u=dU(new(zF())(l).sub(s).div(c-1),o,0),d=[].concat(aU(oU.rangeStep(new(zF())(s),new(zF())(l).sub(new(zF())(.99).mul(u)),u)),[l]);return r>i?eU(d):d})),gU=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function yU(e){return yU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yU(e)}function vU(){return vU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vU.apply(this,arguments)}function bU(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return xU(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xU(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xU(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wU(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function jU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_U(r.key),r)}}function SU(e,t,n){return t=EU(t),function(e,t){if(t&&("object"===yU(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,NU()?Reflect.construct(t,n||[],EU(e).constructor):t.apply(e,n))}function NU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(NU=function(){return!!e})()}function EU(e){return EU=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},EU(e)}function kU(e,t){return kU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},kU(e,t)}function TU(e,t,n){return(t=_U(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _U(e){var t=function(e,t){if("object"!=yU(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=yU(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==yU(t)?t:t+""}var CU=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),SU(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kU(e,t)}(t,e),n=t,r=[{key:"render",value:function(){var e=this.props,t=e.offset,n=e.layout,r=e.width,o=e.dataKey,a=e.data,s=e.dataPointFormatter,l=e.xAxis,c=e.yAxis,u=wU(e,gU),d=s_(u,!1);"x"===this.props.direction&&"number"!==l.type&&S_(!1);var h=a.map(function(e){var a=s(e,o),u=a.x,h=a.y,f=a.value,p=a.errorVal;if(!p)return null;var m,g,y=[];if(Array.isArray(p)){var v=bU(p,2);m=v[0],g=v[1]}else m=g=p;if("vertical"===n){var b=l.scale,x=h+t,w=x+r,j=x-r,S=b(f-m),N=b(f+g);y.push({x1:N,y1:w,x2:N,y2:j}),y.push({x1:S,y1:x,x2:N,y2:x}),y.push({x1:S,y1:w,x2:S,y2:j})}else if("horizontal"===n){var E=c.scale,k=u+t,T=k-r,_=k+r,C=E(f-m),O=E(f+g);y.push({x1:T,y1:O,x2:_,y2:O}),y.push({x1:k,y1:C,x2:k,y2:O}),y.push({x1:T,y1:C,x2:_,y2:C})}return i.createElement(A_,vU({className:"recharts-errorBar",key:"bar-".concat(y.map(function(e){return"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))},d),y.map(function(e){return i.createElement("line",vU({},e,{key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))}))});return i.createElement(A_,{className:"recharts-errorBars"},h)}}],r&&jU(n.prototype,r),o&&jU(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(i.Component);function OU(e){return OU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},OU(e)}function AU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function PU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?AU(Object(n),!0).forEach(function(t){IU(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AU(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function IU(e,t,n){return t=function(e){var t=function(e,t){if("object"!=OU(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=OU(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==OU(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}TU(CU,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"}),TU(CU,"displayName","ErrorBar");var DU=function(e){var t=e.children,n=e.formattedGraphicalItems,r=e.legendWidth,i=e.legendContent,o=r_(t,YO);if(!o)return null;var a,s=YO.defaultProps,l=void 0!==s?PU(PU({},s),o.props):{};return a=o.props&&o.props.payload?o.props&&o.props.payload:"children"===i?(n||[]).reduce(function(e,t){var n=t.item,r=t.props,i=r.sectors||r.data||[];return e.concat(i.map(function(e){return{type:o.props.iconType||n.props.legendType,value:e.name,color:e.fill,payload:e}}))},[]):(n||[]).map(function(e){var t=e.item,n=t.type.defaultProps,r=void 0!==n?PU(PU({},n),t.props):{},i=r.dataKey,o=r.name,a=r.legendType;return{inactive:r.hide,dataKey:i,type:l.iconType||a||"square",color:qU(t),value:o||i,payload:r}}),PU(PU(PU({},l),YO.getWithHeight(o,r)),{},{payload:a,item:o})};function MU(e){return MU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},MU(e)}function RU(e){return function(e){if(Array.isArray(e))return LU(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return LU(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LU(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function LU(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function FU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function UU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?FU(Object(n),!0).forEach(function(t){BU(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FU(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function BU(e,t,n){return t=function(e){var t=function(e,t){if("object"!=MU(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=MU(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==MU(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VU(e,t,n){return wT()(e)||wT()(t)?n:ET(t)?yT()(e,t,n):MT()(t)?t(e):n}function zU(e,t,n,r){var i=FF()(e,function(e){return VU(e,t)});if("number"===n){var o=i.filter(function(e){return NT(e)||parseFloat(e)});return o.length?[RF()(o),DF()(o)]:[1/0,-1/0]}return(r?i.filter(function(e){return!wT()(e)}):i).map(function(e){return ET(e)||e instanceof Date?e:""})}var qU=function(e){var t,n,r=e.type.displayName,i=null!==(t=e.type)&&void 0!==t&&t.defaultProps?UU(UU({},e.type.defaultProps),e.props):e.props,o=i.stroke,a=i.fill;switch(r){case"Line":n=o;break;case"Area":case"Radar":n=o&&"none"!==o?o:a;break;default:n=a}return n},HU=function(e,t,n,r,i){var o=n_(t.props.children,CU).filter(function(e){return function(e,t,n){return!!wT()(t)||("horizontal"===e?"yAxis"===t:"vertical"===e||"x"===n?"xAxis"===t:"y"!==n||"yAxis"===t)}(r,i,e.props.direction)});if(o&&o.length){var a=o.map(function(e){return e.props.dataKey});return e.reduce(function(e,t){var r=VU(t,n);if(wT()(r))return e;var i=Array.isArray(r)?[RF()(r),DF()(r)]:[r,r],o=a.reduce(function(e,n){var r=VU(t,n,0),o=i[0]-Math.abs(Array.isArray(r)?r[0]:r),a=i[1]+Math.abs(Array.isArray(r)?r[1]:r);return[Math.min(o,e[0]),Math.max(a,e[1])]},[1/0,-1/0]);return[Math.min(o[0],e[0]),Math.max(o[1],e[1])]},[1/0,-1/0])}return null},WU=function(e,t,n,r,i){var o=t.map(function(t){var o=t.props.dataKey;return"number"===n&&o&&HU(e,t,o,r)||zU(e,o,n,i)});if("number"===n)return o.reduce(function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},[1/0,-1/0]);var a={};return o.reduce(function(e,t){for(var n=0,r=t.length;n<r;n++)a[t[n]]||(a[t[n]]=!0,e.push(t[n]));return e},[])},KU=function(e,t){return"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t},GU=function(e,t,n,r){if(r)return e.map(function(e){return e.coordinate});var i,o,a=e.map(function(e){return e.coordinate===t&&(i=!0),e.coordinate===n&&(o=!0),e.coordinate});return i||a.push(t),o||a.push(n),a},YU=function(e,t,n){if(!e)return null;var r=e.scale,i=e.duplicateDomain,o=e.type,a=e.range,s="scaleBand"===e.realScaleType?r.bandwidth()/2:2,l=(t||n)&&"category"===o&&r.bandwidth?r.bandwidth()/s:0;return l="angleAxis"===e.axisType&&(null===a||void 0===a?void 0:a.length)>=2?2*jT(a[0]-a[1])*l:l,t&&(e.ticks||e.niceTicks)?(e.ticks||e.niceTicks).map(function(e){var t=i?i.indexOf(e):e;return{coordinate:r(t)+l,value:e,offset:l}}).filter(function(e){return!mT()(e.coordinate)}):e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(e,t){return{coordinate:r(e)+l,value:e,index:t,offset:l}}):r.ticks&&!n?r.ticks(e.tickCount).map(function(e){return{coordinate:r(e)+l,value:e,offset:l}}):r.domain().map(function(e,t){return{coordinate:r(e)+l,value:i?i[e]:e,index:t,offset:l}})},XU=new WeakMap,QU=function(e,t){if("function"!==typeof t)return e;XU.has(e)||XU.set(e,new WeakMap);var n=XU.get(e);if(n.has(t))return n.get(t);var r=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return n.set(t,r),r},$U=1e-4,JU={sign:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0,a=0;a<t;++a){var s=mT()(e[a][n][1])?e[a][n][0]:e[a][n][1];s>=0?(e[a][n][0]=i,e[a][n][1]=i+s,i=e[a][n][1]):(e[a][n][0]=o,e[a][n][1]=o+s,o=e[a][n][1])}},expand:function(e,t){if((r=e.length)>0){for(var n,r,i,o=0,a=e[0].length;o<a;++o){for(i=n=0;n<r;++n)i+=e[n][o][1]||0;if(i)for(n=0;n<r;++n)e[n][o][1]/=i}_F(e,t)}},none:_F,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,i=e[t[0]],o=i.length;r<o;++r){for(var a=0,s=0;a<n;++a)s+=e[a][r][1]||0;i[r][1]+=i[r][0]=-s/2}_F(e,t)}},wiggle:function(e,t){if((i=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,i,o=0,a=1;a<r;++a){for(var s=0,l=0,c=0;s<i;++s){for(var u=e[t[s]],d=u[a][1]||0,h=(d-(u[a-1][1]||0))/2,f=0;f<s;++f){var p=e[t[f]];h+=(p[a][1]||0)-(p[a-1][1]||0)}l+=d,c+=h*d}n[a-1][1]+=n[a-1][0]=o,l&&(o-=c/l)}n[a-1][1]+=n[a-1][0]=o,_F(e,t)}},positive:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0;o<t;++o){var a=mT()(e[o][n][1])?e[o][n][0]:e[o][n][1];a>=0?(e[o][n][0]=i,e[o][n][1]=i+a,i=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}}},ZU=function(e,t,n){var r=t.map(function(e){return e.props.dataKey}),i=JU[n],o=function(){var e=HC([]),t=OF,n=_F,r=AF;function i(i){var o,a,s=Array.from(e.apply(this,arguments),PF),l=s.length,c=-1;for(const e of i)for(o=0,++c;o<l;++o)(s[o][c]=[0,+r(e,s[o].key,c,i)]).data=e;for(o=0,a=CF(t(s));o<l;++o)s[a[o]].index=o;return n(s,a),s}return i.keys=function(t){return arguments.length?(e="function"===typeof t?t:HC(Array.from(t)),i):e},i.value=function(e){return arguments.length?(r="function"===typeof e?e:HC(+e),i):r},i.order=function(e){return arguments.length?(t=null==e?OF:"function"===typeof e?e:HC(Array.from(e)),i):t},i.offset=function(e){return arguments.length?(n=null==e?_F:e,i):n},i}().keys(r).value(function(e,t){return+VU(e,t,0)}).order(OF).offset(i);return o(e)};function eB(e){var t=e.axis,n=e.ticks,r=e.bandSize,i=e.entry,o=e.index,a=e.dataKey;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!wT()(i[t.dataKey])){var s=AT(n,"value",i[t.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=VU(i,wT()(a)?t.dataKey:a);return wT()(l)?null:t.scale(l)}var tB=function(e){var t=e.axis,n=e.ticks,r=e.offset,i=e.bandSize,o=e.entry,a=e.index;if("category"===t.type)return n[a]?n[a].coordinate+r:null;var s=VU(o,t.dataKey,t.domain[a]);return wT()(s)?null:t.scale(s)-i/2+r},nB=function(e,t,n){return Object.keys(e).reduce(function(r,i){var o=e[i].stackedData.reduce(function(e,r){var i=function(e){return e.reduce(function(e,t){return[RF()(t.concat([e[0]]).filter(NT)),DF()(t.concat([e[1]]).filter(NT))]},[1/0,-1/0])}(r.slice(t,n+1));return[Math.min(e[0],i[0]),Math.max(e[1],i[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]).map(function(e){return e===1/0||e===-1/0?0:e})},rB=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,iB=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,oB=function(e,t,n){if(MT()(e))return e(t,n);if(!Array.isArray(e))return t;var r=[];if(NT(e[0]))r[0]=n?e[0]:Math.min(e[0],t[0]);else if(rB.test(e[0])){var i=+rB.exec(e[0])[1];r[0]=t[0]-i}else MT()(e[0])?r[0]=e[0](t[0]):r[0]=t[0];if(NT(e[1]))r[1]=n?e[1]:Math.max(e[1],t[1]);else if(iB.test(e[1])){var o=+iB.exec(e[1])[1];r[1]=t[1]+o}else MT()(e[1])?r[1]=e[1](t[1]):r[1]=t[1];return r},aB=function(e,t,n){if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=w_()(t,function(e){return e.coordinate}),o=1/0,a=1,s=i.length;a<s;a++){var l=i[a],c=i[a-1];o=Math.min((l.coordinate||0)-(c.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},sB=function(e,t,n){return e&&e.length?BF()(e,yT()(n,"type.defaultProps.domain"))?t:e:t},lB=function(e,t){var n=e.type.defaultProps?UU(UU({},e.type.defaultProps),e.props):e.props,r=n.dataKey,i=n.name,o=n.unit,a=n.formatter,s=n.tooltipType,l=n.chartType,c=n.hide;return UU(UU({},s_(e,!1)),{},{dataKey:r,unit:o,formatter:a,name:i||r,color:qU(e),value:VU(t,r),type:s,payload:t,chartType:l,hide:c})};function cB(e){return cB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cB(e)}function uB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function dB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uB(Object(n),!0).forEach(function(t){hB(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uB(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function hB(e,t,n){return t=function(e){var t=function(e,t){if("object"!=cB(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=cB(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==cB(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fB=["Webkit","Moz","O","ms"];function pB(e){return pB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pB(e)}function mB(){return mB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mB.apply(this,arguments)}function gB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function yB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gB(Object(n),!0).forEach(function(t){SB(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gB(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function vB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,NB(r.key),r)}}function bB(e,t,n){return t=wB(t),function(e,t){if(t&&("object"===pB(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,xB()?Reflect.construct(t,n||[],wB(e).constructor):t.apply(e,n))}function xB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(xB=function(){return!!e})()}function wB(e){return wB=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},wB(e)}function jB(e,t){return jB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},jB(e,t)}function SB(e,t,n){return(t=NB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NB(e){var t=function(e,t){if("object"!=pB(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=pB(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==pB(t)?t:t+""}var EB=function(e){return e.changedTouches&&!!e.changedTouches.length},kB=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),SB(n=bB(this,t,[e]),"handleDrag",function(e){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(e):n.state.isSlideMoving&&n.handleSlideDrag(e)}),SB(n,"handleTouchMove",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&n.handleDrag(e.changedTouches[0])}),SB(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var e=n.props,t=e.endIndex,r=e.onDragEnd,i=e.startIndex;null===r||void 0===r||r({endIndex:t,startIndex:i})}),n.detachDragEndListener()}),SB(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),SB(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),SB(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),SB(n,"handleSlideDragStart",function(e){var t=EB(e)?e.changedTouches[0]:e;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:t.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jB(e,t)}(t,e),n=t,r=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(e){var n=e.startX,r=e.endX,i=this.state.scaleValues,o=this.props,a=o.gap,s=o.data.length-1,l=Math.min(n,r),c=Math.max(n,r),u=t.getIndexInRange(i,l),d=t.getIndexInRange(i,c);return{startIndex:u-u%a,endIndex:d===s?s:d-d%a}}},{key:"getTextOfTick",value:function(e){var t=this.props,n=t.data,r=t.tickFormatter,i=t.dataKey,o=VU(n[e],i,e);return MT()(r)?r(o,e):o}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(e){var t=this.state,n=t.slideMoveStartX,r=t.startX,i=t.endX,o=this.props,a=o.x,s=o.width,l=o.travellerWidth,c=o.startIndex,u=o.endIndex,d=o.onChange,h=e.pageX-n;h>0?h=Math.min(h,a+s-l-i,a+s-l-r):h<0&&(h=Math.max(h,a-r,a-i));var f=this.getIndex({startX:r+h,endX:i+h});f.startIndex===c&&f.endIndex===u||!d||d(f),this.setState({startX:r+h,endX:i+h,slideMoveStartX:e.pageX})}},{key:"handleTravellerDragStart",value:function(e,t){var n=EB(t)?t.changedTouches[0]:t;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:e,brushMoveStartX:n.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(e){var t=this.state,n=t.brushMoveStartX,r=t.movingTravellerId,i=t.endX,o=t.startX,a=this.state[r],s=this.props,l=s.x,c=s.width,u=s.travellerWidth,d=s.onChange,h=s.gap,f=s.data,p={startX:this.state.startX,endX:this.state.endX},m=e.pageX-n;m>0?m=Math.min(m,l+c-u-a):m<0&&(m=Math.max(m,l-a)),p[r]=a+m;var g=this.getIndex(p),y=g.startIndex,v=g.endIndex;this.setState(SB(SB({},r,a+m),"brushMoveStartX",e.pageX),function(){d&&function(){var e=f.length-1;return"startX"===r&&(i>o?y%h===0:v%h===0)||i<o&&v===e||"endX"===r&&(i>o?v%h===0:y%h===0)||i>o&&v===e}()&&d(g)})}},{key:"handleTravellerMoveKeyboard",value:function(e,t){var n=this,r=this.state,i=r.scaleValues,o=r.startX,a=r.endX,s=this.state[t],l=i.indexOf(s);if(-1!==l){var c=l+e;if(!(-1===c||c>=i.length)){var u=i[c];"startX"===t&&u>=a||"endX"===t&&u<=o||this.setState(SB({},t,u),function(){n.props.onChange(n.getIndex({startX:n.state.startX,endX:n.state.endX}))})}}}},{key:"renderBackground",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,o=e.height,a=e.fill,s=e.stroke;return i.createElement("rect",{stroke:s,fill:a,x:t,y:n,width:r,height:o})}},{key:"renderPanorama",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,o=e.height,a=e.data,s=e.children,l=e.padding,c=i.Children.only(s);return c?i.cloneElement(c,{x:t,y:n,width:r,height:o,margin:l,compact:!0,data:a}):null}},{key:"renderTravellerLayer",value:function(e,n){var r,o,a=this,s=this.props,l=s.y,c=s.travellerWidth,u=s.height,d=s.traveller,h=s.ariaLabel,f=s.data,p=s.startIndex,m=s.endIndex,g=Math.max(e,this.props.x),y=yB(yB({},s_(this.props,!1)),{},{x:g,y:l,width:c,height:u}),v=h||"Min value: ".concat(null===(r=f[p])||void 0===r?void 0:r.name,", Max value: ").concat(null===(o=f[m])||void 0===o?void 0:o.name);return i.createElement(A_,{tabIndex:0,role:"slider","aria-label":v,"aria-valuenow":e,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[n],onTouchStart:this.travellerDragStartHandlers[n],onKeyDown:function(e){["ArrowLeft","ArrowRight"].includes(e.key)&&(e.preventDefault(),e.stopPropagation(),a.handleTravellerMoveKeyboard("ArrowRight"===e.key?1:-1,n))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(d,y))}},{key:"renderSlide",value:function(e,t){var n=this.props,r=n.y,o=n.height,a=n.stroke,s=n.travellerWidth,l=Math.min(e,t)+s,c=Math.max(Math.abs(t-e)-s,0);return i.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:a,fillOpacity:.2,x:l,y:r,width:c,height:o})}},{key:"renderText",value:function(){var e=this.props,t=e.startIndex,n=e.endIndex,r=e.y,o=e.height,a=e.travellerWidth,s=e.stroke,l=this.state,c=l.startX,u=l.endX,d={pointerEvents:"none",fill:s};return i.createElement(A_,{className:"recharts-brush-texts"},i.createElement(AI,mB({textAnchor:"end",verticalAnchor:"middle",x:Math.min(c,u)-5,y:r+o/2},d),this.getTextOfTick(t)),i.createElement(AI,mB({textAnchor:"start",verticalAnchor:"middle",x:Math.max(c,u)+a+5,y:r+o/2},d),this.getTextOfTick(n)))}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.className,r=e.children,o=e.x,a=e.y,s=e.width,l=e.height,c=e.alwaysShowText,u=this.state,d=u.startX,h=u.endX,f=u.isTextActive,p=u.isSlideMoving,m=u.isTravellerMoving,g=u.isTravellerFocused;if(!t||!t.length||!NT(o)||!NT(a)||!NT(s)||!NT(l)||s<=0||l<=0)return null;var y=cT("recharts-brush",n),v=1===i.Children.count(r),b=function(e,t){if(!e)return null;var n=e.replace(/(\w)/,function(e){return e.toUpperCase()}),r=fB.reduce(function(e,r){return dB(dB({},e),{},hB({},r+n,t))},{});return r[e]=t,r}("userSelect","none");return i.createElement(A_,{className:y,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:b},this.renderBackground(),v&&this.renderPanorama(),this.renderSlide(d,h),this.renderTravellerLayer(d,"startX"),this.renderTravellerLayer(h,"endX"),(f||p||m||g||c)&&this.renderText())}}],o=[{key:"renderDefaultTraveller",value:function(e){var t=e.x,n=e.y,r=e.width,o=e.height,a=e.stroke,s=Math.floor(n+o/2)-1;return i.createElement(i.Fragment,null,i.createElement("rect",{x:t,y:n,width:r,height:o,fill:a,stroke:"none"}),i.createElement("line",{x1:t+1,y1:s,x2:t+r-1,y2:s,fill:"none",stroke:"#fff"}),i.createElement("line",{x1:t+1,y1:s+2,x2:t+r-1,y2:s+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(e,n){return i.isValidElement(e)?i.cloneElement(e,n):MT()(e)?e(n):t.renderDefaultTraveller(n)}},{key:"getDerivedStateFromProps",value:function(e,t){var n=e.data,r=e.width,i=e.x,o=e.travellerWidth,a=e.updateId,s=e.startIndex,l=e.endIndex;if(n!==t.prevData||a!==t.prevUpdateId)return yB({prevData:n,prevTravellerWidth:o,prevUpdateId:a,prevX:i,prevWidth:r},n&&n.length?function(e){var t=e.data,n=e.startIndex,r=e.endIndex,i=e.x,o=e.width,a=e.travellerWidth;if(!t||!t.length)return{};var s=t.length,l=YP().domain(b_()(0,s)).range([i,i+o-a]),c=l.domain().map(function(e){return l(e)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(n),endX:l(r),scale:l,scaleValues:c}}({data:n,width:r,x:i,travellerWidth:o,startIndex:s,endIndex:l}):{scale:null,scaleValues:null});if(t.scale&&(r!==t.prevWidth||i!==t.prevX||o!==t.prevTravellerWidth)){t.scale.range([i,i+r-o]);var c=t.scale.domain().map(function(e){return t.scale(e)});return{prevData:n,prevTravellerWidth:o,prevUpdateId:a,prevX:i,prevWidth:r,startX:t.scale(e.startIndex),endX:t.scale(e.endIndex),scaleValues:c}}return null}},{key:"getIndexInRange",value:function(e,t){for(var n=0,r=e.length-1;r-n>1;){var i=Math.floor((n+r)/2);e[i]>t?r=i:n=i}return t>=e[r]?r:n}}],r&&vB(n.prototype,r),o&&vB(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(i.PureComponent);function TB(e){return TB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},TB(e)}function _B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function CB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_B(Object(n),!0).forEach(function(t){OB(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_B(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function OB(e,t,n){return t=function(e){var t=function(e,t){if("object"!=TB(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=TB(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==TB(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}SB(kB,"displayName","Brush"),SB(kB,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var AB=Math.PI/180,PB=function(e){return 180*e/Math.PI},IB=function(e,t,n,r){return{x:e+Math.cos(-AB*r)*n,y:t+Math.sin(-AB*r)*n}},DB=function(e,t){var n=e.x,r=e.y,i=t.cx,o=t.cy,a=function(e,t){var n=e.x,r=e.y,i=t.x,o=t.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(r-o,2))}({x:n,y:r},{x:i,y:o});if(a<=0)return{radius:a};var s=(n-i)/a,l=Math.acos(s);return r>o&&(l=2*Math.PI-l),{radius:a,angle:PB(l),angleInRadian:l}},MB=function(e,t){var n=t.startAngle,r=t.endAngle,i=Math.floor(n/360),o=Math.floor(r/360);return e+360*Math.min(i,o)},RB=function(e,t){var n=e.x,r=e.y,i=DB({x:n,y:r},t),o=i.radius,a=i.angle,s=t.innerRadius,l=t.outerRadius;if(o<s||o>l)return!1;if(0===o)return!0;var c,u=function(e){var t=e.startAngle,n=e.endAngle,r=Math.floor(t/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:t-360*o,endAngle:n-360*o}}(t),d=u.startAngle,h=u.endAngle,f=a;if(d<=h){for(;f>h;)f-=360;for(;f<d;)f+=360;c=f>=d&&f<=h}else{for(;f>d;)f-=360;for(;f<h;)f+=360;c=f>=h&&f<=d}return c?CB(CB({},t),{},{radius:o,angle:MB(f,t)}):null};function LB(e){return LB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},LB(e)}var FB=["offset"];function UB(e){return function(e){if(Array.isArray(e))return BB(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return BB(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BB(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function BB(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function VB(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function zB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function qB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zB(Object(n),!0).forEach(function(t){HB(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zB(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function HB(e,t,n){return t=function(e){var t=function(e,t){if("object"!=LB(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=LB(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==LB(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WB(){return WB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WB.apply(this,arguments)}var KB=function(e,t,n){var r,o,a=e.position,s=e.viewBox,l=e.offset,c=e.className,u=s,d=u.cx,h=u.cy,f=u.innerRadius,p=u.outerRadius,m=u.startAngle,g=u.endAngle,y=u.clockWise,v=(f+p)/2,b=function(e,t){return jT(t-e)*Math.min(Math.abs(t-e),360)}(m,g),x=b>=0?1:-1;"insideStart"===a?(r=m+x*l,o=y):"insideEnd"===a?(r=g-x*l,o=!y):"end"===a&&(r=g+x*l,o=y),o=b<=0?o:!o;var w=IB(d,h,v,r),j=IB(d,h,v,r+359*(o?1:-1)),S="M".concat(w.x,",").concat(w.y,"\n    A").concat(v,",").concat(v,",0,1,").concat(o?0:1,",\n    ").concat(j.x,",").concat(j.y),N=wT()(e.id)?TT("recharts-radial-line-"):e.id;return i.createElement("text",WB({},n,{dominantBaseline:"central",className:cT("recharts-radial-bar-label",c)}),i.createElement("defs",null,i.createElement("path",{id:N,d:S})),i.createElement("textPath",{xlinkHref:"#".concat(N)},t))};function GB(e){var t,n=e.offset,r=qB({offset:void 0===n?5:n},VB(e,FB)),o=r.viewBox,a=r.position,s=r.value,l=r.children,c=r.content,u=r.className,d=void 0===u?"":u,h=r.textBreakAll;if(!o||wT()(s)&&wT()(l)&&!(0,i.isValidElement)(c)&&!MT()(c))return null;if((0,i.isValidElement)(c))return(0,i.cloneElement)(c,r);if(MT()(c)){if(t=(0,i.createElement)(c,r),(0,i.isValidElement)(t))return t}else t=function(e){var t=e.value,n=e.formatter,r=wT()(e.children)?t:e.children;return MT()(n)?n(r):r}(r);var f=function(e){return"cx"in e&&NT(e.cx)}(o),p=s_(r,!0);if(f&&("insideStart"===a||"insideEnd"===a||"end"===a))return KB(r,t,p);var m=f?function(e){var t=e.viewBox,n=e.offset,r=e.position,i=t,o=i.cx,a=i.cy,s=i.innerRadius,l=i.outerRadius,c=(i.startAngle+i.endAngle)/2;if("outside"===r){var u=IB(o,a,l+n,c),d=u.x;return{x:d,y:u.y,textAnchor:d>=o?"start":"end",verticalAnchor:"middle"}}if("center"===r)return{x:o,y:a,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===r)return{x:o,y:a,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===r)return{x:o,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=IB(o,a,(s+l)/2,c);return{x:h.x,y:h.y,textAnchor:"middle",verticalAnchor:"middle"}}(r):function(e){var t=e.viewBox,n=e.parentViewBox,r=e.offset,i=e.position,o=t,a=o.x,s=o.y,l=o.width,c=o.height,u=c>=0?1:-1,d=u*r,h=u>0?"end":"start",f=u>0?"start":"end",p=l>=0?1:-1,m=p*r,g=p>0?"end":"start",y=p>0?"start":"end";if("top"===i)return qB(qB({},{x:a+l/2,y:s-u*r,textAnchor:"middle",verticalAnchor:h}),n?{height:Math.max(s-n.y,0),width:l}:{});if("bottom"===i)return qB(qB({},{x:a+l/2,y:s+c+d,textAnchor:"middle",verticalAnchor:f}),n?{height:Math.max(n.y+n.height-(s+c),0),width:l}:{});if("left"===i){var v={x:a-m,y:s+c/2,textAnchor:g,verticalAnchor:"middle"};return qB(qB({},v),n?{width:Math.max(v.x-n.x,0),height:c}:{})}if("right"===i){var b={x:a+l+m,y:s+c/2,textAnchor:y,verticalAnchor:"middle"};return qB(qB({},b),n?{width:Math.max(n.x+n.width-b.x,0),height:c}:{})}var x=n?{width:l,height:c}:{};return"insideLeft"===i?qB({x:a+m,y:s+c/2,textAnchor:y,verticalAnchor:"middle"},x):"insideRight"===i?qB({x:a+l-m,y:s+c/2,textAnchor:g,verticalAnchor:"middle"},x):"insideTop"===i?qB({x:a+l/2,y:s+d,textAnchor:"middle",verticalAnchor:f},x):"insideBottom"===i?qB({x:a+l/2,y:s+c-d,textAnchor:"middle",verticalAnchor:h},x):"insideTopLeft"===i?qB({x:a+m,y:s+d,textAnchor:y,verticalAnchor:f},x):"insideTopRight"===i?qB({x:a+l-m,y:s+d,textAnchor:g,verticalAnchor:f},x):"insideBottomLeft"===i?qB({x:a+m,y:s+c-d,textAnchor:y,verticalAnchor:h},x):"insideBottomRight"===i?qB({x:a+l-m,y:s+c-d,textAnchor:g,verticalAnchor:h},x):LT()(i)&&(NT(i.x)||ST(i.x))&&(NT(i.y)||ST(i.y))?qB({x:a+_T(i.x,l),y:s+_T(i.y,c),textAnchor:"end",verticalAnchor:"end"},x):qB({x:a+l/2,y:s+c/2,textAnchor:"middle",verticalAnchor:"middle"},x)}(r);return i.createElement(AI,WB({className:cT("recharts-label",d)},p,m,{breakAll:h}),t)}GB.displayName="Label";var YB=function(e){var t=e.cx,n=e.cy,r=e.angle,i=e.startAngle,o=e.endAngle,a=e.r,s=e.radius,l=e.innerRadius,c=e.outerRadius,u=e.x,d=e.y,h=e.top,f=e.left,p=e.width,m=e.height,g=e.clockWise,y=e.labelViewBox;if(y)return y;if(NT(p)&&NT(m)){if(NT(u)&&NT(d))return{x:u,y:d,width:p,height:m};if(NT(h)&&NT(f))return{x:h,y:f,width:p,height:m}}return NT(u)&&NT(d)?{x:u,y:d,width:0,height:0}:NT(t)&&NT(n)?{cx:t,cy:n,startAngle:i||r||0,endAngle:o||r||0,innerRadius:l||0,outerRadius:c||s||a||0,clockWise:g}:e.viewBox?e.viewBox:{}};GB.parseViewBox=YB,GB.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var r=e.children,o=YB(e),a=n_(r,GB).map(function(e,n){return(0,i.cloneElement)(e,{viewBox:t||o,key:"label-".concat(n)})});if(!n)return a;var s=function(e,t){return e?!0===e?i.createElement(GB,{key:"label-implicit",viewBox:t}):ET(e)?i.createElement(GB,{key:"label-implicit",viewBox:t,value:e}):(0,i.isValidElement)(e)?e.type===GB?(0,i.cloneElement)(e,{key:"label-implicit",viewBox:t}):i.createElement(GB,{key:"label-implicit",content:e,viewBox:t}):MT()(e)?i.createElement(GB,{key:"label-implicit",content:e,viewBox:t}):LT()(e)?i.createElement(GB,WB({viewBox:t},e,{key:"label-implicit"})):null:null}(e.label,t||o);return[s].concat(UB(a))};var XB=function(e,t){var n=e.alwaysShow,r=e.ifOverflow;return n&&(r="extendDomain"),r===t},QB=n(1733),$B=n.n(QB),JB=n(7002),ZB=n.n(JB),eV=function(e){return null};eV.displayName="Cell";var tV=n(4065),nV=n.n(tV);function rV(e){return rV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rV(e)}var iV=["valueAccessor"],oV=["data","dataKey","clockWise","id","textBreakAll"];function aV(e){return function(e){if(Array.isArray(e))return sV(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return sV(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sV(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sV(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lV(){return lV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lV.apply(this,arguments)}function cV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function uV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cV(Object(n),!0).forEach(function(t){dV(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cV(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function dV(e,t,n){return t=function(e){var t=function(e,t){if("object"!=rV(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=rV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==rV(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hV(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var fV=function(e){return Array.isArray(e.value)?nV()(e.value):e.value};function pV(e){var t=e.valueAccessor,n=void 0===t?fV:t,r=hV(e,iV),o=r.data,a=r.dataKey,s=r.clockWise,l=r.id,c=r.textBreakAll,u=hV(r,oV);return o&&o.length?i.createElement(A_,{className:"recharts-label-list"},o.map(function(e,t){var r=wT()(a)?n(e,t):VU(e&&e.payload,a),o=wT()(l)?{}:{id:"".concat(l,"-").concat(t)};return i.createElement(GB,lV({},s_(e,!0),u,o,{parentViewBox:e.parentViewBox,value:r,textBreakAll:c,viewBox:GB.parseViewBox(wT()(s)?e:uV(uV({},e),{},{clockWise:s})),key:"label-".concat(t),index:t}))})):null}pV.displayName="LabelList",pV.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var r=n_(e.children,pV).map(function(e,n){return(0,i.cloneElement)(e,{data:t,key:"labelList-".concat(n)})});if(!n)return r;var o=function(e,t){return e?!0===e?i.createElement(pV,{key:"labelList-implicit",data:t}):i.isValidElement(e)||MT()(e)?i.createElement(pV,{key:"labelList-implicit",data:t,content:e}):LT()(e)?i.createElement(pV,lV({data:t},e,{key:"labelList-implicit"})):null:null}(e.label,t);return[o].concat(aV(r))};var mV=n(2322),gV=n.n(mV),yV=n(6361),vV=n.n(yV);function bV(e){return bV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bV(e)}function xV(){return xV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xV.apply(this,arguments)}function wV(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return jV(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jV(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jV(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function SV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function NV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?SV(Object(n),!0).forEach(function(t){EV(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SV(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function EV(e,t,n){return t=function(e){var t=function(e,t){if("object"!=bV(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=bV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==bV(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kV=function(e,t,n,r,i){var o,a=n-r;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+n,",").concat(t),o+="L ".concat(e+n-a/2,",").concat(t+i),o+="L ".concat(e+n-a/2-r,",").concat(t+i),o+="L ".concat(e,",").concat(t," Z")},TV={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},_V=function(e){var t=NV(NV({},TV),e),n=(0,i.useRef)(),r=wV((0,i.useState)(-1),2),o=r[0],a=r[1];(0,i.useEffect)(function(){if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&a(e)}catch(AG){}},[]);var s=t.x,l=t.y,c=t.upperWidth,u=t.lowerWidth,d=t.height,h=t.className,f=t.animationEasing,p=t.animationDuration,m=t.animationBegin,g=t.isUpdateAnimationActive;if(s!==+s||l!==+l||c!==+c||u!==+u||d!==+d||0===c&&0===u||0===d)return null;var y=cT("recharts-trapezoid",h);return g?i.createElement(EP,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:d,x:s,y:l},to:{upperWidth:c,lowerWidth:u,height:d,x:s,y:l},duration:p,animationEasing:f,isActive:g},function(e){var r=e.upperWidth,a=e.lowerWidth,s=e.height,l=e.x,c=e.y;return i.createElement(EP,{canBegin:o>0,from:"0px ".concat(-1===o?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:p,easing:f},i.createElement("path",xV({},s_(t,!0),{className:y,d:kV(l,c,r,a,s),ref:n})))}):i.createElement("g",null,i.createElement("path",xV({},s_(t,!0),{className:y,d:kV(s,l,c,u,d)})))};function CV(e){return CV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},CV(e)}function OV(){return OV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},OV.apply(this,arguments)}function AV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function PV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?AV(Object(n),!0).forEach(function(t){IV(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AV(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function IV(e,t,n){return t=function(e){var t=function(e,t){if("object"!=CV(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=CV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==CV(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var DV=function(e){var t=e.cx,n=e.cy,r=e.radius,i=e.angle,o=e.sign,a=e.isExternal,s=e.cornerRadius,l=e.cornerIsExternal,c=s*(a?1:-1)+r,u=Math.asin(s/c)/AB,d=l?i:i+o*u,h=l?i-o*u:i;return{center:IB(t,n,c,d),circleTangency:IB(t,n,r,d),lineTangency:IB(t,n,c*Math.cos(u*AB),h),theta:u}},MV=function(e){var t=e.cx,n=e.cy,r=e.innerRadius,i=e.outerRadius,o=e.startAngle,a=function(e,t){return jT(t-e)*Math.min(Math.abs(t-e),359.999)}(o,e.endAngle),s=o+a,l=IB(t,n,i,o),c=IB(t,n,i,s),u="M ".concat(l.x,",").concat(l.y,"\n    A ").concat(i,",").concat(i,",0,\n    ").concat(+(Math.abs(a)>180),",").concat(+(o>s),",\n    ").concat(c.x,",").concat(c.y,"\n  ");if(r>0){var d=IB(t,n,r,o),h=IB(t,n,r,s);u+="L ".concat(h.x,",").concat(h.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(a)>180),",").concat(+(o<=s),",\n            ").concat(d.x,",").concat(d.y," Z")}else u+="L ".concat(t,",").concat(n," Z");return u},RV={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},LV=function(e){var t=PV(PV({},RV),e),n=t.cx,r=t.cy,o=t.innerRadius,a=t.outerRadius,s=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,h=t.className;if(a<o||u===d)return null;var f,p=cT("recharts-sector",h),m=a-o,g=_T(s,m,0,!0);return f=g>0&&Math.abs(u-d)<360?function(e){var t=e.cx,n=e.cy,r=e.innerRadius,i=e.outerRadius,o=e.cornerRadius,a=e.forceCornerRadius,s=e.cornerIsExternal,l=e.startAngle,c=e.endAngle,u=jT(c-l),d=DV({cx:t,cy:n,radius:i,angle:l,sign:u,cornerRadius:o,cornerIsExternal:s}),h=d.circleTangency,f=d.lineTangency,p=d.theta,m=DV({cx:t,cy:n,radius:i,angle:c,sign:-u,cornerRadius:o,cornerIsExternal:s}),g=m.circleTangency,y=m.lineTangency,v=m.theta,b=s?Math.abs(l-c):Math.abs(l-c)-p-v;if(b<0)return a?"M ".concat(f.x,",").concat(f.y,"\n        a").concat(o,",").concat(o,",0,0,1,").concat(2*o,",0\n        a").concat(o,",").concat(o,",0,0,1,").concat(2*-o,",0\n      "):MV({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c});var x="M ".concat(f.x,",").concat(f.y,"\n    A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(h.x,",").concat(h.y,"\n    A").concat(i,",").concat(i,",0,").concat(+(b>180),",").concat(+(u<0),",").concat(g.x,",").concat(g.y,"\n    A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(y.x,",").concat(y.y,"\n  ");if(r>0){var w=DV({cx:t,cy:n,radius:r,angle:l,sign:u,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),j=w.circleTangency,S=w.lineTangency,N=w.theta,E=DV({cx:t,cy:n,radius:r,angle:c,sign:-u,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),k=E.circleTangency,T=E.lineTangency,_=E.theta,C=s?Math.abs(l-c):Math.abs(l-c)-N-_;if(C<0&&0===o)return"".concat(x,"L").concat(t,",").concat(n,"Z");x+="L".concat(T.x,",").concat(T.y,"\n      A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(k.x,",").concat(k.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(C>180),",").concat(+(u>0),",").concat(j.x,",").concat(j.y,"\n      A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(S.x,",").concat(S.y,"Z")}else x+="L".concat(t,",").concat(n,"Z");return x}({cx:n,cy:r,innerRadius:o,outerRadius:a,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):MV({cx:n,cy:r,innerRadius:o,outerRadius:a,startAngle:u,endAngle:d}),i.createElement("path",OV({},s_(t,!0),{className:p,d:f,role:"img"}))},FV=["option","shapeType","propTransformer","activeClassName","isActive"];function UV(e){return UV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},UV(e)}function BV(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function VV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function zV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VV(Object(n),!0).forEach(function(t){qV(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VV(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function qV(e,t,n){return t=function(e){var t=function(e,t){if("object"!=UV(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=UV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==UV(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HV(e,t){return zV(zV({},t),e)}function WV(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return i.createElement(RP,n);case"trapezoid":return i.createElement(_V,n);case"sector":return i.createElement(LV,n);case"symbols":if(function(e){return"symbols"===e}(t))return i.createElement(jO,n);break;default:return null}}function KV(e){var t,n=e.option,r=e.shapeType,o=e.propTransformer,a=void 0===o?HV:o,s=e.activeClassName,l=void 0===s?"recharts-active-shape":s,c=e.isActive,u=BV(e,FV);if((0,i.isValidElement)(n))t=(0,i.cloneElement)(n,zV(zV({},u),function(e){return(0,i.isValidElement)(e)?e.props:e}(n)));else if(MT()(n))t=n(u);else if(gV()(n)&&!vV()(n)){var d=a(n,u);t=i.createElement(WV,{shapeType:r,elementProps:d})}else{var h=u;t=i.createElement(WV,{shapeType:r,elementProps:h})}return c?i.createElement(A_,{className:l},t):t}function GV(e,t){return null!=t&&"trapezoids"in e.props}function YV(e,t){return null!=t&&"sectors"in e.props}function XV(e,t){return null!=t&&"points"in e.props}function QV(e,t){var n,r,i=e.x===(null===t||void 0===t||null===(n=t.labelViewBox)||void 0===n?void 0:n.x)||e.x===t.x,o=e.y===(null===t||void 0===t||null===(r=t.labelViewBox)||void 0===r?void 0:r.y)||e.y===t.y;return i&&o}function $V(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function JV(e,t){var n=e.x===t.x,r=e.y===t.y,i=e.z===t.z;return n&&r&&i}function ZV(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,i=function(e,t){var n;return GV(e,t)?n="trapezoids":YV(e,t)?n="sectors":XV(e,t)&&(n="points"),n}(n,t),o=function(e,t){var n,r;return GV(e,t)?null===(n=t.tooltipPayload)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.payload:YV(e,t)?null===(r=t.tooltipPayload)||void 0===r||null===(r=r[0])||void 0===r||null===(r=r.payload)||void 0===r?void 0:r.payload:XV(e,t)?t.payload:{}}(n,t),a=r.filter(function(e,r){var a=BF()(o,e),s=n.props[i].filter(function(e){var r=function(e,t){var n;return GV(e,t)?n=QV:YV(e,t)?n=$V:XV(e,t)&&(n=JV),n}(n,t);return r(e,t)}),l=n.props[i].indexOf(s[s.length-1]);return a&&r===l});return r.indexOf(a[a.length-1])}var ez=["x","y"];function tz(e){return tz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tz(e)}function nz(){return nz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nz.apply(this,arguments)}function rz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function iz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rz(Object(n),!0).forEach(function(t){oz(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rz(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function oz(e,t,n){return t=function(e){var t=function(e,t){if("object"!=tz(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=tz(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==tz(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function az(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function sz(e,t){var n=e.x,r=e.y,i=az(e,ez),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),c="".concat(t.height||i.height),u=parseInt(c,10),d="".concat(t.width||i.width),h=parseInt(d,10);return iz(iz(iz(iz(iz({},t),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function lz(e){return i.createElement(KV,nz({shapeType:"rectangle",propTransformer:sz,activeClassName:"recharts-active-bar"},e))}var cz,uz=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n,r){if("number"===typeof e)return e;var i=NT(n)||function(e){return wT()(e)}(n);return i?e(n,r):(i||S_(!1),t)}},dz=["value","background"];function hz(e){return hz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hz(e)}function fz(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function pz(){return pz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pz.apply(this,arguments)}function mz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function gz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mz(Object(n),!0).forEach(function(t){jz(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mz(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function yz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Sz(r.key),r)}}function vz(e,t,n){return t=xz(t),function(e,t){if(t&&("object"===hz(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,bz()?Reflect.construct(t,n||[],xz(e).constructor):t.apply(e,n))}function bz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(bz=function(){return!!e})()}function xz(e){return xz=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xz(e)}function wz(e,t){return wz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},wz(e,t)}function jz(e,t,n){return(t=Sz(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sz(e){var t=function(e,t){if("object"!=hz(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=hz(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==hz(t)?t:t+""}var Nz=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return jz(e=vz(this,t,[].concat(r)),"state",{isAnimationFinished:!1}),jz(e,"id",TT("recharts-bar-")),jz(e,"handleAnimationEnd",function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),t&&t()}),jz(e,"handleAnimationStart",function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),t&&t()}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wz(e,t)}(t,e),n=t,r=[{key:"renderRectanglesStatically",value:function(e){var t=this,n=this.props,r=n.shape,o=n.dataKey,a=n.activeIndex,s=n.activeBar,l=s_(this.props,!1);return e&&e.map(function(e,n){var c=n===a,u=c?s:r,d=gz(gz(gz({},l),e),{},{isActive:c,option:u,index:n,dataKey:o,onAnimationStart:t.handleAnimationStart,onAnimationEnd:t.handleAnimationEnd});return i.createElement(A_,pz({className:"recharts-bar-rectangle"},KT(t.props,e,n),{key:"rectangle-".concat(null===e||void 0===e?void 0:e.x,"-").concat(null===e||void 0===e?void 0:e.y,"-").concat(null===e||void 0===e?void 0:e.value,"-").concat(n)}),i.createElement(lz,d))})}},{key:"renderRectanglesWithAnimation",value:function(){var e=this,t=this.props,n=t.data,r=t.layout,o=t.isAnimationActive,a=t.animationBegin,s=t.animationDuration,l=t.animationEasing,c=t.animationId,u=this.state.prevData;return i.createElement(EP,{begin:a,duration:s,isActive:o,easing:l,from:{t:0},to:{t:1},key:"bar-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(t){var o=t.t,a=n.map(function(e,t){var n=u&&u[t];if(n){var i=OT(n.x,e.x),a=OT(n.y,e.y),s=OT(n.width,e.width),l=OT(n.height,e.height);return gz(gz({},e),{},{x:i(o),y:a(o),width:s(o),height:l(o)})}if("horizontal"===r){var c=OT(0,e.height)(o);return gz(gz({},e),{},{y:e.y+e.height-c,height:c})}var d=OT(0,e.width)(o);return gz(gz({},e),{},{width:d})});return i.createElement(A_,null,e.renderRectanglesStatically(a))})}},{key:"renderRectangles",value:function(){var e=this.props,t=e.data,n=e.isAnimationActive,r=this.state.prevData;return!(n&&t&&t.length)||r&&BF()(r,t)?this.renderRectanglesStatically(t):this.renderRectanglesWithAnimation()}},{key:"renderBackground",value:function(){var e=this,t=this.props,n=t.data,r=t.dataKey,o=t.activeIndex,a=s_(this.props.background,!1);return n.map(function(t,n){t.value;var s=t.background,l=fz(t,dz);if(!s)return null;var c=gz(gz(gz(gz(gz({},l),{},{fill:"#eee"},s),a),KT(e.props,t,n)),{},{onAnimationStart:e.handleAnimationStart,onAnimationEnd:e.handleAnimationEnd,dataKey:r,index:n,className:"recharts-bar-background-rectangle"});return i.createElement(lz,pz({key:"background-bar-".concat(n),option:e.props.background,isActive:n===o},c))})}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,r=n.data,o=n.xAxis,a=n.yAxis,s=n.layout,l=n_(n.children,CU);if(!l)return null;var c="vertical"===s?r[0].height/2:r[0].width/2,u=function(e,t){var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:VU(e,t)}},d={clipPath:e?"url(#clipPath-".concat(t,")"):null};return i.createElement(A_,d,l.map(function(e){return i.cloneElement(e,{key:"error-bar-".concat(t,"-").concat(e.props.dataKey),data:r,xAxis:o,yAxis:a,layout:s,offset:c,dataPointFormatter:u})}))}},{key:"render",value:function(){var e=this.props,t=e.hide,n=e.data,r=e.className,o=e.xAxis,a=e.yAxis,s=e.left,l=e.top,c=e.width,u=e.height,d=e.isAnimationActive,h=e.background,f=e.id;if(t||!n||!n.length)return null;var p=this.state.isAnimationFinished,m=cT("recharts-bar",r),g=o&&o.allowDataOverflow,y=a&&a.allowDataOverflow,v=g||y,b=wT()(f)?this.id:f;return i.createElement(A_,{className:m},g||y?i.createElement("defs",null,i.createElement("clipPath",{id:"clipPath-".concat(b)},i.createElement("rect",{x:g?s:s-c/2,y:y?l:l-u/2,width:g?c:2*c,height:y?u:2*u}))):null,i.createElement(A_,{className:"recharts-bar-rectangles",clipPath:v?"url(#clipPath-".concat(b,")"):null},h?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(v,b),(!d||p)&&pV.renderCallByParent(this.props,n))}}],o=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curData:e.data,prevData:t.curData}:e.data!==t.curData?{curData:e.data}:null}}],r&&yz(n.prototype,r),o&&yz(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(i.PureComponent);function Ez(e){return Ez="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ez(e)}function kz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Oz(r.key),r)}}function Tz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tz(Object(n),!0).forEach(function(t){Cz(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tz(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Cz(e,t,n){return(t=Oz(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oz(e){var t=function(e,t){if("object"!=Ez(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ez(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ez(t)?t:t+""}cz=Nz,jz(Nz,"displayName","Bar"),jz(Nz,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!iC.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"}),jz(Nz,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,i=e.bandSize,o=e.xAxis,a=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,u=e.dataStartIndex,d=e.displayedData,h=e.offset,f=function(e,t){if(!e)return null;for(var n=0,r=e.length;n<r;n++)if(e[n].item===t)return e[n].position;return null}(r,n);if(!f)return null;var p=t.layout,m=n.type.defaultProps,g=void 0!==m?gz(gz({},m),n.props):n.props,y=g.dataKey,v=g.children,b=g.minPointSize,x="horizontal"===p?a:o,w=c?x.scale.domain():null,j=function(e){var t=e.numericAxis,n=t.scale.domain();if("number"===t.type){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]}({numericAxis:x}),S=n_(v,eV),N=d.map(function(e,t){var r,d,h,m,g,v;c?r=function(e,t){if(!t||2!==t.length||!NT(t[0])||!NT(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!NT(e[0])||e[0]<n)&&(i[0]=n),(!NT(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i}(c[u+t],w):(r=VU(e,y),Array.isArray(r)||(r=[j,r]));var x=uz(b,cz.defaultProps.minPointSize)(r[1],t);if("horizontal"===p){var N,E=[a.scale(r[0]),a.scale(r[1])],k=E[0],T=E[1];d=tB({axis:o,ticks:s,bandSize:i,offset:f.offset,entry:e,index:t}),h=null!==(N=null!==T&&void 0!==T?T:k)&&void 0!==N?N:void 0,m=f.size;var _=k-T;if(g=Number.isNaN(_)?0:_,v={x:d,y:a.y,width:m,height:a.height},Math.abs(x)>0&&Math.abs(g)<Math.abs(x)){var C=jT(g||x)*(Math.abs(x)-Math.abs(g));h-=C,g+=C}}else{var O=[o.scale(r[0]),o.scale(r[1])],A=O[0],P=O[1];if(d=A,h=tB({axis:a,ticks:l,bandSize:i,offset:f.offset,entry:e,index:t}),m=P-A,g=f.size,v={x:o.x,y:h,width:o.width,height:g},Math.abs(x)>0&&Math.abs(m)<Math.abs(x))m+=jT(m||x)*(Math.abs(x)-Math.abs(m))}return gz(gz(gz({},e),{},{x:d,y:h,width:m,height:g,value:c?r:r[1],payload:e,background:v},S&&S[t]&&S[t].props),{},{tooltipPayload:[lB(n,e)],tooltipPosition:{x:d+m/2,y:h+g/2}})});return gz({data:N,layout:p},h)});var Az=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.layout,c=e.children,u=Object.keys(n),d={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},h=!!r_(c,Nz);return u.reduce(function(a,s){var c,u,f,p,m,g=n[s],y=g.orientation,v=g.domain,b=g.padding,x=void 0===b?{}:b,w=g.mirror,j=g.reversed,S="".concat(y).concat(w?"Mirror":"");if("number"===g.type&&("gap"===g.padding||"no-gap"===g.padding)){var N=v[1]-v[0],E=1/0,k=g.categoricalDomain.sort(PT);if(k.forEach(function(e,t){t>0&&(E=Math.min((e||0)-(k[t-1]||0),E))}),Number.isFinite(E)){var T=E/N,_="vertical"===g.layout?r.height:r.width;if("gap"===g.padding&&(c=T*_/2),"no-gap"===g.padding){var C=_T(e.barCategoryGap,T*_),O=T*_/2;c=O-C-(O-C)/_*C}}}u="xAxis"===i?[r.left+(x.left||0)+(c||0),r.left+r.width-(x.right||0)-(c||0)]:"yAxis"===i?"horizontal"===l?[r.top+r.height-(x.bottom||0),r.top+(x.top||0)]:[r.top+(x.top||0)+(c||0),r.top+r.height-(x.bottom||0)-(c||0)]:g.range,j&&(u=[u[1],u[0]]);var A=function(e,n,r){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if("auto"===i)return"radial"===a&&"radiusAxis"===s?{scale:KP(),realScaleType:"band"}:"radial"===a&&"angleAxis"===s?{scale:gM(),realScaleType:"linear"}:"category"===o&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:YP(),realScaleType:"point"}:"category"===o?{scale:KP(),realScaleType:"band"}:{scale:gM(),realScaleType:"linear"};if(fT()(i)){var l="scale".concat(wC()(i));return{scale:(t[l]||YP)(),realScaleType:t[l]?l:"point"}}return MT()(i)?{scale:i}:{scale:YP(),realScaleType:"point"}}(g,o,h),P=A.scale,I=A.realScaleType;P.domain(v).range(u),function(e){var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-$U,o=Math.max(r[0],r[1])+$U,a=e(t[0]),s=e(t[n-1]);(a<i||a>o||s<i||s>o)&&e.domain([t[0],t[n-1]])}}(P);var D=function(e,t){var n=t.realScaleType,r=t.type,i=t.tickCount,o=t.originalDomain,a=t.allowDecimals,s=n||t.scale;if("auto"!==s&&"linear"!==s)return null;if(i&&"number"===r&&o&&("auto"===o[0]||"auto"===o[1])){var l=e.domain();if(!l.length)return null;var c=pU(l,i,a);return e.domain([RF()(c),DF()(c)]),{niceTicks:c}}if(i&&"number"===r){var u=e.domain();return{niceTicks:mU(u,i,a)}}return null}(P,_z(_z({},g),{},{realScaleType:I}));"xAxis"===i?(m="top"===y&&!w||"bottom"===y&&w,f=r.left,p=d[S]-m*g.height):"yAxis"===i&&(m="left"===y&&!w||"right"===y&&w,f=d[S]-m*g.width,p=r.top);var M=_z(_z(_z({},g),D),{},{realScaleType:I,x:f,y:p,scale:P,width:"xAxis"===i?r.width:g.width,height:"yAxis"===i?r.height:g.height});return M.bandSize=aB(M,D),g.hide||"xAxis"!==i?g.hide||(d[S]+=(m?-1:1)*M.width):d[S]+=(m?-1:1)*M.height,_z(_z({},a),{},Cz({},s,M))},{})},Pz=function(e,t){var n=e.x,r=e.y,i=t.x,o=t.y;return{x:Math.min(n,i),y:Math.min(r,o),width:Math.abs(i-n),height:Math.abs(o-r)}},Iz=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scale=t}return t=e,n=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.bandAware,r=t.position;if(void 0!==e){if(r)switch(r){case"start":default:return this.scale(e);case"middle":var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i;case"end":var o=this.bandwidth?this.bandwidth():0;return this.scale(e)+o}if(n){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}},{key:"isInRange",value:function(e){var t=this.range(),n=t[0],r=t[t.length-1];return n<=r?e>=n&&e<=r:e>=r&&e<=n}}],r=[{key:"create",value:function(t){return new e(t)}}],n&&kz(t.prototype,n),r&&kz(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();Cz(Iz,"EPS",1e-4);var Dz=function(e){var t=Object.keys(e).reduce(function(t,n){return _z(_z({},t),{},Cz({},n,Iz.create(e[n])))},{});return _z(_z({},t),{},{apply:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.bandAware,i=n.position;return $B()(e,function(e,n){return t[n].apply(e,{bandAware:r,position:i})})},isInRange:function(e){return ZB()(e,function(e,n){return t[n].isInRange(e)})}})};function Mz(){return Mz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mz.apply(this,arguments)}function Rz(e){return Rz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rz(e)}function Lz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Fz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lz(Object(n),!0).forEach(function(t){Hz(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lz(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Uz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Wz(r.key),r)}}function Bz(e,t,n){return t=zz(t),function(e,t){if(t&&("object"===Rz(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Vz()?Reflect.construct(t,n||[],zz(e).constructor):t.apply(e,n))}function Vz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Vz=function(){return!!e})()}function zz(e){return zz=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},zz(e)}function qz(e,t){return qz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qz(e,t)}function Hz(e,t,n){return(t=Wz(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wz(e){var t=function(e,t){if("object"!=Rz(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Rz(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Rz(t)?t:t+""}var Kz=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Bz(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qz(e,t)}(t,e),n=t,r=[{key:"render",value:function(){var e=this.props,n=e.x,r=e.y,o=e.r,a=e.alwaysShow,s=e.clipPathId,l=ET(n),c=ET(r);if(IT(void 0===a,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!l||!c)return null;var u=function(e){var t=e.x,n=e.y,r=e.xAxis,i=e.yAxis,o=Dz({x:r.scale,y:i.scale}),a=o.apply({x:t,y:n},{bandAware:!0});return XB(e,"discard")&&!o.isInRange(a)?null:a}(this.props);if(!u)return null;var d=u.x,h=u.y,f=this.props,p=f.shape,m=f.className,g=Fz(Fz({clipPath:XB(this.props,"hidden")?"url(#".concat(s,")"):void 0},s_(this.props,!0)),{},{cx:d,cy:h});return i.createElement(A_,{className:cT("recharts-reference-dot",m)},t.renderDot(p,g),GB.renderCallByParent(this.props,{x:d-o,y:h-o,width:2*o,height:2*o}))}}],r&&Uz(n.prototype,r),o&&Uz(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(i.Component);Hz(Kz,"displayName","ReferenceDot"),Hz(Kz,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1}),Hz(Kz,"renderDot",function(e,t){return i.isValidElement(e)?i.cloneElement(e,t):MT()(e)?e(t):i.createElement(QO,Mz({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"}))});var Gz=n(4597),Yz=n.n(Gz),Xz=n(8990),Qz=n.n(Xz),$z=n(5797),Jz=n.n($z)()(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")});var Zz=(0,i.createContext)(void 0),eq=(0,i.createContext)(void 0),tq=(0,i.createContext)(void 0),nq=(0,i.createContext)({}),rq=(0,i.createContext)(void 0),iq=(0,i.createContext)(0),oq=(0,i.createContext)(0),aq=function(e){var t=e.state,n=t.xAxisMap,r=t.yAxisMap,o=t.offset,a=e.clipPathId,s=e.children,l=e.width,c=e.height,u=Jz(o);return i.createElement(Zz.Provider,{value:n},i.createElement(eq.Provider,{value:r},i.createElement(nq.Provider,{value:o},i.createElement(tq.Provider,{value:u},i.createElement(rq.Provider,{value:a},i.createElement(iq.Provider,{value:c},i.createElement(oq.Provider,{value:l},s)))))))};var sq=function(e){var t=(0,i.useContext)(Zz);null==t&&S_(!1);var n=t[e];return null==n&&S_(!1),n},lq=function(e){var t=(0,i.useContext)(eq);null==t&&S_(!1);var n=t[e];return null==n&&S_(!1),n},cq=function(){return(0,i.useContext)(oq)},uq=function(){return(0,i.useContext)(iq)};function dq(e){return dq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dq(e)}function hq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,xq(r.key),r)}}function fq(e,t,n){return t=mq(t),function(e,t){if(t&&("object"===dq(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,pq()?Reflect.construct(t,n||[],mq(e).constructor):t.apply(e,n))}function pq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(pq=function(){return!!e})()}function mq(e){return mq=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},mq(e)}function gq(e,t){return gq=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},gq(e,t)}function yq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function vq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yq(Object(n),!0).forEach(function(t){bq(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yq(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function bq(e,t,n){return(t=xq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xq(e){var t=function(e,t){if("object"!=dq(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=dq(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==dq(t)?t:t+""}function wq(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return jq(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jq(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jq(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Sq(){return Sq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sq.apply(this,arguments)}function Nq(e){var t=e.x,n=e.y,r=e.segment,o=e.xAxisId,a=e.yAxisId,s=e.shape,l=e.className,c=e.alwaysShow,u=(0,i.useContext)(rq),d=sq(o),h=lq(a),f=(0,i.useContext)(tq);if(!u||!f)return null;IT(void 0===c,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=function(e,t,n,r,i,o,a,s,l){var c=i.x,u=i.y,d=i.width,h=i.height;if(n){var f=l.y,p=e.y.apply(f,{position:o});if(XB(l,"discard")&&!e.y.isInRange(p))return null;var m=[{x:c+d,y:p},{x:c,y:p}];return"left"===s?m.reverse():m}if(t){var g=l.x,y=e.x.apply(g,{position:o});if(XB(l,"discard")&&!e.x.isInRange(y))return null;var v=[{x:y,y:u+h},{x:y,y:u}];return"top"===a?v.reverse():v}if(r){var b=l.segment.map(function(t){return e.apply(t,{position:o})});return XB(l,"discard")&&Yz()(b,function(t){return!e.isInRange(t)})?null:b}return null}(Dz({x:d.scale,y:h.scale}),ET(t),ET(n),r&&2===r.length,f,e.position,d.orientation,h.orientation,e);if(!p)return null;var m=wq(p,2),g=m[0],y=g.x,v=g.y,b=m[1],x=b.x,w=b.y,j=vq(vq({clipPath:XB(e,"hidden")?"url(#".concat(u,")"):void 0},s_(e,!0)),{},{x1:y,y1:v,x2:x,y2:w});return i.createElement(A_,{className:cT("recharts-reference-line",l)},function(e,t){return i.isValidElement(e)?i.cloneElement(e,t):MT()(e)?e(t):i.createElement("line",Sq({},t,{className:"recharts-reference-line-line"}))}(s,j),GB.renderCallByParent(e,function(e){var t=e.x1,n=e.y1,r=e.x2,i=e.y2;return Pz({x:t,y:n},{x:r,y:i})}({x1:y,y1:v,x2:x,y2:w})))}var Eq=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),fq(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gq(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return i.createElement(Nq,this.props)}}])&&hq(n.prototype,r),o&&hq(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(i.Component);function kq(){return kq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kq.apply(this,arguments)}function Tq(e){return Tq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tq(e)}function _q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Cq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_q(Object(n),!0).forEach(function(t){Mq(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_q(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Oq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Rq(r.key),r)}}function Aq(e,t,n){return t=Iq(t),function(e,t){if(t&&("object"===Tq(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Pq()?Reflect.construct(t,n||[],Iq(e).constructor):t.apply(e,n))}function Pq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Pq=function(){return!!e})()}function Iq(e){return Iq=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Iq(e)}function Dq(e,t){return Dq=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Dq(e,t)}function Mq(e,t,n){return(t=Rq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rq(e){var t=function(e,t){if("object"!=Tq(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Tq(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Tq(t)?t:t+""}bq(Eq,"displayName","ReferenceLine"),bq(Eq,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});var Lq=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Aq(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dq(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,n=e.x1,r=e.x2,o=e.y1,a=e.y2,s=e.className,l=e.alwaysShow,c=e.clipPathId;IT(void 0===l,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var u=ET(n),d=ET(r),h=ET(o),f=ET(a),p=this.props.shape;if(!u&&!d&&!h&&!f&&!p)return null;var m=function(e,t,n,r,i){var o=i.x1,a=i.x2,s=i.y1,l=i.y2,c=i.xAxis,u=i.yAxis;if(!c||!u)return null;var d=Dz({x:c.scale,y:u.scale}),h={x:e?d.x.apply(o,{position:"start"}):d.x.rangeMin,y:n?d.y.apply(s,{position:"start"}):d.y.rangeMin},f={x:t?d.x.apply(a,{position:"end"}):d.x.rangeMax,y:r?d.y.apply(l,{position:"end"}):d.y.rangeMax};return!XB(i,"discard")||d.isInRange(h)&&d.isInRange(f)?Pz(h,f):null}(u,d,h,f,this.props);if(!m&&!p)return null;var g=XB(this.props,"hidden")?"url(#".concat(c,")"):void 0;return i.createElement(A_,{className:cT("recharts-reference-area",s)},t.renderRect(p,Cq(Cq({clipPath:g},s_(this.props,!0)),m)),GB.renderCallByParent(this.props,m))}}])&&Oq(n.prototype,r),o&&Oq(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(i.Component);function Fq(e){return function(e){if(Array.isArray(e))return Uq(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Uq(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Uq(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Uq(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Mq(Lq,"displayName","ReferenceArea"),Mq(Lq,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1}),Mq(Lq,"renderRect",function(e,t){return i.isValidElement(e)?i.cloneElement(e,t):MT()(e)?e(t):i.createElement(RP,kq({},t,{className:"recharts-reference-area-rect"}))});var Bq=function(e,t,n,r,i){var o=n_(e,Eq),a=n_(e,Kz),s=[].concat(Fq(o),Fq(a)),l=n_(e,Lq),c="".concat(r,"Id"),u=r[0],d=t;if(s.length&&(d=s.reduce(function(e,t){if(t.props[c]===n&&XB(t.props,"extendDomain")&&NT(t.props[u])){var r=t.props[u];return[Math.min(e[0],r),Math.max(e[1],r)]}return e},d)),l.length){var h="".concat(u,"1"),f="".concat(u,"2");d=l.reduce(function(e,t){if(t.props[c]===n&&XB(t.props,"extendDomain")&&NT(t.props[h])&&NT(t.props[f])){var r=t.props[h],i=t.props[f];return[Math.min(e[0],r,i),Math.max(e[1],r,i)]}return e},d)}return i&&i.length&&(d=i.reduce(function(e,t){return NT(t)?[Math.min(e[0],t),Math.max(e[1],t)]:e},d)),d},Vq=n(7283),zq=new(n.n(Vq)()),qq="recharts.syncMouseEvents";function Hq(e){return Hq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hq(e)}function Wq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Gq(r.key),r)}}function Kq(e,t,n){return(t=Gq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gq(e){var t=function(e,t){if("object"!=Hq(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Hq(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Hq(t)?t:t+""}var Yq=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Kq(this,"activeIndex",0),Kq(this,"coordinateList",[]),Kq(this,"layout","horizontal")},t=[{key:"setDetails",value:function(e){var t,n=e.coordinateList,r=void 0===n?null:n,i=e.container,o=void 0===i?null:i,a=e.layout,s=void 0===a?null:a,l=e.offset,c=void 0===l?null:l,u=e.mouseHandlerCallback,d=void 0===u?null:u;this.coordinateList=null!==(t=null!==r&&void 0!==r?r:this.coordinateList)&&void 0!==t?t:[],this.container=null!==o&&void 0!==o?o:this.container,this.layout=null!==s&&void 0!==s?s:this.layout,this.offset=null!==c&&void 0!==c?c:this.offset,this.mouseHandlerCallback=null!==d&&void 0!==d?d:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(e){if(0!==this.coordinateList.length)switch(e.key){case"ArrowRight":if("horizontal"!==this.layout)return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break;case"ArrowLeft":if("horizontal"!==this.layout)return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse()}}},{key:"setIndex",value:function(e){this.activeIndex=e}},{key:"spoofMouse",value:function(){var e,t;if("horizontal"===this.layout&&0!==this.coordinateList.length){var n=this.container.getBoundingClientRect(),r=n.x,i=n.y,o=n.height,a=this.coordinateList[this.activeIndex].coordinate,s=(null===(e=window)||void 0===e?void 0:e.scrollX)||0,l=(null===(t=window)||void 0===t?void 0:t.scrollY)||0,c=r+a+s,u=i+this.offset.top+o/2+l;this.mouseHandlerCallback({pageX:c,pageY:u})}}}],t&&Wq(e.prototype,t),n&&Wq(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();function Xq(){}function Qq(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function $q(e){this._context=e}function Jq(e){this._context=e}function Zq(e){this._context=e}$q.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Qq(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Qq(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Jq.prototype={areaStart:Xq,areaEnd:Xq,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Qq(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Zq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Qq(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class eH{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function tH(e){this._context=e}function nH(e){this._context=e}function rH(e){return new nH(e)}function iH(e){return e<0?-1:1}function oH(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(iH(o)+iH(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function aH(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function sH(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,i+s*t,o-s,a-s*n,o,a)}function lH(e){this._context=e}function cH(e){this._context=new uH(e)}function uH(e){this._context=e}function dH(e){this._context=e}function hH(e){var t,n,r=e.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/o[t-1],o[t]-=n,a[t]-=n*a[t-1];for(i[r-1]=a[r-1]/o[r-1],t=r-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function fH(e,t){this._context=e,this._t=t}function pH(e){return e[0]}function mH(e){return e[1]}function gH(e,t){var n=HC(!0),r=null,i=rH,o=null,a=hO(s);function s(s){var l,c,u,d=(s=CF(s)).length,h=!1;for(null==r&&(o=i(u=a())),l=0;l<=d;++l)!(l<d&&n(c=s[l],l,s))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+e(c,l,s),+t(c,l,s));if(u)return o=null,u+""||null}return e="function"===typeof e?e:void 0===e?pH:HC(e),t="function"===typeof t?t:void 0===t?mH:HC(t),s.x=function(t){return arguments.length?(e="function"===typeof t?t:HC(+t),s):e},s.y=function(e){return arguments.length?(t="function"===typeof e?e:HC(+e),s):t},s.defined=function(e){return arguments.length?(n="function"===typeof e?e:HC(!!e),s):n},s.curve=function(e){return arguments.length?(i=e,null!=r&&(o=i(r)),s):i},s.context=function(e){return arguments.length?(null==e?r=o=null:o=i(r=e),s):r},s}function yH(e,t,n){var r=null,i=HC(!0),o=null,a=rH,s=null,l=hO(c);function c(c){var u,d,h,f,p,m=(c=CF(c)).length,g=!1,y=new Array(m),v=new Array(m);for(null==o&&(s=a(p=l())),u=0;u<=m;++u){if(!(u<m&&i(f=c[u],u,c))===g)if(g=!g)d=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=u-1;h>=d;--h)s.point(y[h],v[h]);s.lineEnd(),s.areaEnd()}g&&(y[u]=+e(f,u,c),v[u]=+t(f,u,c),s.point(r?+r(f,u,c):y[u],n?+n(f,u,c):v[u]))}if(p)return s=null,p+""||null}function u(){return gH().defined(i).curve(a).context(o)}return e="function"===typeof e?e:void 0===e?pH:HC(+e),t="function"===typeof t?t:HC(void 0===t?0:+t),n="function"===typeof n?n:void 0===n?mH:HC(+n),c.x=function(t){return arguments.length?(e="function"===typeof t?t:HC(+t),r=null,c):e},c.x0=function(t){return arguments.length?(e="function"===typeof t?t:HC(+t),c):e},c.x1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:HC(+e),c):r},c.y=function(e){return arguments.length?(t="function"===typeof e?e:HC(+e),n=null,c):t},c.y0=function(e){return arguments.length?(t="function"===typeof e?e:HC(+e),c):t},c.y1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:HC(+e),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(e){return arguments.length?(i="function"===typeof e?e:HC(!!e),c):i},c.curve=function(e){return arguments.length?(a=e,null!=o&&(s=a(o)),c):a},c.context=function(e){return arguments.length?(null==e?o=s=null:s=a(o=e),c):o},c}function vH(e){return vH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vH(e)}function bH(){return bH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bH.apply(this,arguments)}function xH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function wH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xH(Object(n),!0).forEach(function(t){jH(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xH(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function jH(e,t,n){return t=function(e){var t=function(e,t){if("object"!=vH(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=vH(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==vH(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}tH.prototype={areaStart:Xq,areaEnd:Xq,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},nH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},lH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:sH(this,this._t0,aH(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,sH(this,aH(this,n=oH(this,e,t)),n);break;default:sH(this,this._t0,n=oH(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(cH.prototype=Object.create(lH.prototype)).point=function(e,t){lH.prototype.point.call(this,t,e)},uH.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}},dH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=hH(e),i=hH(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[a],t[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},fH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var SH={curveBasisClosed:function(e){return new Jq(e)},curveBasisOpen:function(e){return new Zq(e)},curveBasis:function(e){return new $q(e)},curveBumpX:function(e){return new eH(e,!0)},curveBumpY:function(e){return new eH(e,!1)},curveLinearClosed:function(e){return new tH(e)},curveLinear:rH,curveMonotoneX:function(e){return new lH(e)},curveMonotoneY:function(e){return new cH(e)},curveNatural:function(e){return new dH(e)},curveStep:function(e){return new fH(e,.5)},curveStepAfter:function(e){return new fH(e,1)},curveStepBefore:function(e){return new fH(e,0)}},NH=function(e){return e.x===+e.x&&e.y===+e.y},EH=function(e){return e.x},kH=function(e){return e.y},TH=function(e){var t,n=e.type,r=void 0===n?"linear":n,i=e.points,o=void 0===i?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,c=void 0!==l&&l,u=function(e,t){if(MT()(e))return e;var n="curve".concat(wC()(e));return"curveMonotone"!==n&&"curveBump"!==n||!t?SH[n]||rH:SH["".concat(n).concat("vertical"===t?"Y":"X")]}(r,s),d=c?o.filter(function(e){return NH(e)}):o;if(Array.isArray(a)){var h=c?a.filter(function(e){return NH(e)}):a,f=d.map(function(e,t){return wH(wH({},e),{},{base:h[t]})});return(t="vertical"===s?yH().y(kH).x1(EH).x0(function(e){return e.base.x}):yH().x(EH).y1(kH).y0(function(e){return e.base.y})).defined(NH).curve(u),t(f)}return(t="vertical"===s&&NT(a)?yH().y(kH).x1(EH).x0(a):NT(a)?yH().x(EH).y1(kH).y0(a):gH().x(EH).y(kH)).defined(NH).curve(u),t(d)},_H=function(e){var t=e.className,n=e.points,r=e.path,o=e.pathRef;if((!n||!n.length)&&!r)return null;var a=n&&n.length?TH(e):r;return i.createElement("path",bH({},s_(e,!1),WT(e),{className:cT("recharts-curve",t),d:a,ref:o}))};function CH(e){return CH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},CH(e)}var OH=["x","y","top","left","width","height","className"];function AH(){return AH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},AH.apply(this,arguments)}function PH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function IH(e,t,n){return t=function(e){var t=function(e,t){if("object"!=CH(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=CH(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==CH(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DH(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var MH=function(e,t,n,r,i,o){return"M".concat(e,",").concat(i,"v").concat(r,"M").concat(o,",").concat(t,"h").concat(n)},RH=function(e){var t=e.x,n=void 0===t?0:t,r=e.y,o=void 0===r?0:r,a=e.top,s=void 0===a?0:a,l=e.left,c=void 0===l?0:l,u=e.width,d=void 0===u?0:u,h=e.height,f=void 0===h?0:h,p=e.className,m=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?PH(Object(n),!0).forEach(function(t){IH(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PH(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({x:n,y:o,top:s,left:c,width:d,height:f},DH(e,OH));return NT(n)&&NT(o)&&NT(d)&&NT(f)&&NT(s)&&NT(c)?i.createElement("path",AH({},s_(m,!0),{className:cT("recharts-cross",p),d:MH(n,o,d,f,s,c)})):null};function LH(e){var t=e.cx,n=e.cy,r=e.radius,i=e.startAngle,o=e.endAngle;return{points:[IB(t,n,r,i),IB(t,n,r,o)],cx:t,cy:n,radius:r,startAngle:i,endAngle:o}}function FH(e,t,n){var r,i,o,a;if("horizontal"===e)o=r=t.x,i=n.top,a=n.top+n.height;else if("vertical"===e)a=i=t.y,r=n.left,o=n.left+n.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return LH(t);var s=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,d=t.angle,h=IB(s,l,c,d),f=IB(s,l,u,d);r=h.x,i=h.y,o=f.x,a=f.y}return[{x:r,y:i},{x:o,y:a}]}function UH(e){return UH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},UH(e)}function BH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function VH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?BH(Object(n),!0).forEach(function(t){zH(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BH(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function zH(e,t,n){return t=function(e){var t=function(e,t){if("object"!=UH(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=UH(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==UH(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qH(e){var t,n,r,o=e.element,a=e.tooltipEventType,s=e.isActive,l=e.activeCoordinate,c=e.activePayload,u=e.offset,d=e.activeTooltipIndex,h=e.tooltipAxisBandSize,f=e.layout,p=e.chartName,m=null!==(t=o.props.cursor)&&void 0!==t?t:null===(n=o.type.defaultProps)||void 0===n?void 0:n.cursor;if(!o||!m||!s||!l||"ScatterChart"!==p&&"axis"!==a)return null;var g=_H;if("ScatterChart"===p)r=l,g=RH;else if("BarChart"===p)r=function(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-i:n.left+.5,y:"horizontal"===e?n.top+.5:t.y-i,width:"horizontal"===e?r:n.width-1,height:"horizontal"===e?n.height-1:r}}(f,l,u,h),g=RP;else if("radial"===f){var y=LH(l),v=y.cx,b=y.cy,x=y.radius;r={cx:v,cy:b,startAngle:y.startAngle,endAngle:y.endAngle,innerRadius:x,outerRadius:x},g=LV}else r={points:FH(f,l,u)},g=_H;var w=VH(VH(VH(VH({stroke:"#ccc",pointerEvents:"none"},u),r),s_(m,!1)),{},{payload:c,payloadIndex:d,className:cT("recharts-tooltip-cursor",m.className)});return(0,i.isValidElement)(m)?(0,i.cloneElement)(m,w):(0,i.createElement)(g,w)}var HH=["item"],WH=["children","className","width","height","style","compact","title","desc"];function KH(e){return KH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},KH(e)}function GH(){return GH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},GH.apply(this,arguments)}function YH(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||nW(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function XH(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function QH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,sW(r.key),r)}}function $H(e,t,n){return t=ZH(t),function(e,t){if(t&&("object"===KH(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,JH()?Reflect.construct(t,n||[],ZH(e).constructor):t.apply(e,n))}function JH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(JH=function(){return!!e})()}function ZH(e){return ZH=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ZH(e)}function eW(e,t){return eW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},eW(e,t)}function tW(e){return function(e){if(Array.isArray(e))return rW(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||nW(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nW(e,t){if(e){if("string"===typeof e)return rW(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rW(e,t):void 0}}function rW(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function iW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function oW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iW(Object(n),!0).forEach(function(t){aW(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iW(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function aW(e,t,n){return(t=sW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sW(e){var t=function(e,t){if("object"!=KH(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=KH(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==KH(t)?t:t+""}var lW={xAxis:["bottom","top"],yAxis:["left","right"]},cW={width:"100%",height:"100%"},uW={x:0,y:0};function dW(e){return e}var hW=function(e,t){var n=t.graphicalItems,r=t.dataStartIndex,i=t.dataEndIndex,o=(null!==n&&void 0!==n?n:[]).reduce(function(e,t){var n=t.props.data;return n&&n.length?[].concat(tW(e),tW(n)):e},[]);return o.length>0?o:e&&e.length&&NT(r)&&NT(i)?e.slice(r,i+1):[]};function fW(e){return"number"===e?[0,"auto"]:void 0}var pW=function(e,t,n,r){var i=e.graphicalItems,o=e.tooltipAxis,a=hW(t,e);return n<0||!i||!i.length||n>=a.length?null:i.reduce(function(i,s){var l,c,u=null!==(l=s.props.data)&&void 0!==l?l:t;(u&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(u=u.slice(e.dataStartIndex,e.dataEndIndex+1)),o.dataKey&&!o.allowDuplicatedCategory)?c=AT(void 0===u?a:u,o.dataKey,r):c=u&&u[n]||a[n];return c?[].concat(tW(i),[lB(s,c)]):i},[])},mW=function(e,t,n,r){var i=r||{x:e.chartX,y:e.chartY},o=function(e,t){return"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius}(i,n),a=e.orderedTooltipTicks,s=e.tooltipAxis,l=e.tooltipTicks,c=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,a=null!==(t=null===n||void 0===n?void 0:n.length)&&void 0!==t?t:0;if(a<=1)return 0;if(i&&"angleAxis"===i.axisType&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var s=i.range,l=0;l<a;l++){var c=l>0?r[l-1].coordinate:r[a-1].coordinate,u=r[l].coordinate,d=l>=a-1?r[0].coordinate:r[l+1].coordinate,h=void 0;if(jT(u-c)!==jT(d-u)){var f=[];if(jT(d-u)===jT(s[1]-s[0])){h=d;var p=u+s[1]-s[0];f[0]=Math.min(p,(p+c)/2),f[1]=Math.max(p,(p+c)/2)}else{h=c;var m=d+s[1]-s[0];f[0]=Math.min(u,(m+u)/2),f[1]=Math.max(u,(m+u)/2)}var g=[Math.min(u,(h+u)/2),Math.max(u,(h+u)/2)];if(e>g[0]&&e<=g[1]||e>=f[0]&&e<=f[1]){o=r[l].index;break}}else{var y=Math.min(c,d),v=Math.max(c,d);if(e>(y+u)/2&&e<=(v+u)/2){o=r[l].index;break}}}else for(var b=0;b<a;b++)if(0===b&&e<=(n[b].coordinate+n[b+1].coordinate)/2||b>0&&b<a-1&&e>(n[b].coordinate+n[b-1].coordinate)/2&&e<=(n[b].coordinate+n[b+1].coordinate)/2||b===a-1&&e>(n[b].coordinate+n[b-1].coordinate)/2){o=n[b].index;break}return o}(o,a,l,s);if(c>=0&&l){var u=l[c]&&l[c].value,d=pW(e,t,c,u),h=function(e,t,n,r){var i=t.find(function(e){return e&&e.index===n});if(i){if("horizontal"===e)return{x:i.coordinate,y:r.y};if("vertical"===e)return{x:r.x,y:i.coordinate};if("centric"===e){var o=i.coordinate,a=r.radius;return oW(oW(oW({},r),IB(r.cx,r.cy,a,o)),{},{angle:o,radius:a})}var s=i.coordinate,l=r.angle;return oW(oW(oW({},r),IB(r.cx,r.cy,s,l)),{},{angle:l,radius:s})}return uW}(n,a,c,i);return{activeTooltipIndex:c,activeLabel:u,activePayload:d,activeCoordinate:h}}return null},gW=function(e,t){var n=t.axes,r=t.graphicalItems,i=t.axisType,o=t.axisIdKey,a=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,d=e.stackOffset,h=KU(c,i);return n.reduce(function(t,n){var f,p=void 0!==n.type.defaultProps?oW(oW({},n.type.defaultProps),n.props):n.props,m=p.type,g=p.dataKey,y=p.allowDataOverflow,v=p.allowDuplicatedCategory,b=p.scale,x=p.ticks,w=p.includeHidden,j=p[o];if(t[j])return t;var S,N,E,k=hW(e.data,{graphicalItems:r.filter(function(e){var t;return(o in e.props?e.props[o]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[o])===j}),dataStartIndex:s,dataEndIndex:l}),T=k.length;(function(e,t,n){if("number"===n&&!0===t&&Array.isArray(e)){var r=null===e||void 0===e?void 0:e[0],i=null===e||void 0===e?void 0:e[1];if(r&&i&&NT(r)&&NT(i))return!0}return!1})(p.domain,y,m)&&(S=oB(p.domain,null,y),!h||"number"!==m&&"auto"===b||(E=zU(k,g,"category")));var _=fW(m);if(!S||0===S.length){var C,O=null!==(C=p.domain)&&void 0!==C?C:_;if(g){if(S=zU(k,g,m),"category"===m&&h){var A=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++){if(n[e[r]])return!0;n[e[r]]=!0}return!1}(S);v&&A?(N=S,S=b_()(0,T)):v||(S=sB(O,S,n).reduce(function(e,t){return e.indexOf(t)>=0?e:[].concat(tW(e),[t])},[]))}else if("category"===m)S=v?S.filter(function(e){return""!==e&&!wT()(e)}):sB(O,S,n).reduce(function(e,t){return e.indexOf(t)>=0||""===t||wT()(t)?e:[].concat(tW(e),[t])},[]);else if("number"===m){var P=function(e,t,n,r,i){var o=t.map(function(t){return HU(e,t,n,i,r)}).filter(function(e){return!wT()(e)});return o&&o.length?o.reduce(function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},[1/0,-1/0]):null}(k,r.filter(function(e){var t,n,r=o in e.props?e.props[o]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[o],i="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===j&&(w||!i)}),g,i,c);P&&(S=P)}!h||"number"!==m&&"auto"===b||(E=zU(k,g,"category"))}else S=h?b_()(0,T):a&&a[j]&&a[j].hasStack&&"number"===m?"expand"===d?[0,1]:nB(a[j].stackGroups,s,l):WU(k,r.filter(function(e){var t=o in e.props?e.props[o]:e.type.defaultProps[o],n="hide"in e.props?e.props.hide:e.type.defaultProps.hide;return t===j&&(w||!n)}),m,c,!0);if("number"===m)S=Bq(u,S,j,i,x),O&&(S=oB(O,S,y));else if("category"===m&&O){var I=O;S.every(function(e){return I.indexOf(e)>=0})&&(S=I)}}return oW(oW({},t),{},aW({},j,oW(oW({},p),{},{axisType:i,domain:S,categoricalDomain:E,duplicateDomain:N,originalDomain:null!==(f=p.domain)&&void 0!==f?f:_,isCategorical:h,layout:c})))},{})},yW=function(e,t){var n=t.axisType,r=void 0===n?"xAxis":n,i=t.AxisComp,o=t.graphicalItems,a=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.children,u="".concat(r,"Id"),d=n_(c,i),h={};return d&&d.length?h=gW(e,{axes:d,graphicalItems:o,axisType:r,axisIdKey:u,stackGroups:a,dataStartIndex:s,dataEndIndex:l}):o&&o.length&&(h=function(e,t){var n=t.graphicalItems,r=t.Axis,i=t.axisType,o=t.axisIdKey,a=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,d=hW(e.data,{graphicalItems:n,dataStartIndex:s,dataEndIndex:l}),h=d.length,f=KU(c,i),p=-1;return n.reduce(function(e,t){var m,g=(void 0!==t.type.defaultProps?oW(oW({},t.type.defaultProps),t.props):t.props)[o],y=fW("number");return e[g]?e:(p++,f?m=b_()(0,h):a&&a[g]&&a[g].hasStack?(m=nB(a[g].stackGroups,s,l),m=Bq(u,m,g,i)):(m=oB(y,WU(d,n.filter(function(e){var t,n,r=o in e.props?e.props[o]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[o],i="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===g&&!i}),"number",c),r.defaultProps.allowDataOverflow),m=Bq(u,m,g,i)),oW(oW({},e),{},aW({},g,oW(oW({axisType:i},r.defaultProps),{},{hide:!0,orientation:yT()(lW,"".concat(i,".").concat(p%2),null),domain:m,originalDomain:y,isCategorical:f,layout:c}))))},{})}(e,{Axis:i,graphicalItems:o,axisType:r,axisIdKey:u,stackGroups:a,dataStartIndex:s,dataEndIndex:l})),h},vW=function(e){var t=e.children,n=e.defaultShowTooltip,r=r_(t,kB),i=0,o=0;return e.data&&0!==e.data.length&&(o=e.data.length-1),r&&r.props&&(r.props.startIndex>=0&&(i=r.props.startIndex),r.props.endIndex>=0&&(o=r.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:Boolean(n)}},bW=function(e){return"horizontal"===e?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===e?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===e?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},xW=function(e,t){var n=e.props,r=(e.graphicalItems,e.xAxisMap),i=void 0===r?{}:r,o=e.yAxisMap,a=void 0===o?{}:o,s=n.width,l=n.height,c=n.children,u=n.margin||{},d=r_(c,kB),h=r_(c,YO),f=Object.keys(a).reduce(function(e,t){var n=a[t],r=n.orientation;return n.mirror||n.hide?e:oW(oW({},e),{},aW({},r,e[r]+n.width))},{left:u.left||0,right:u.right||0}),p=Object.keys(i).reduce(function(e,t){var n=i[t],r=n.orientation;return n.mirror||n.hide?e:oW(oW({},e),{},aW({},r,yT()(e,"".concat(r))+n.height))},{top:u.top||0,bottom:u.bottom||0}),m=oW(oW({},p),f),g=m.bottom;d&&(m.bottom+=d.props.height||kB.defaultProps.height),h&&t&&(m=function(e,t,n,r){var i=n.children,o=n.width,a=n.margin,s=o-(a.left||0)-(a.right||0),l=DU({children:i,legendWidth:s});if(l){var c=r||{},u=c.width,d=c.height,h=l.align,f=l.verticalAlign,p=l.layout;if(("vertical"===p||"horizontal"===p&&"middle"===f)&&"center"!==h&&NT(e[h]))return UU(UU({},e),{},BU({},h,e[h]+(u||0)));if(("horizontal"===p||"vertical"===p&&"center"===h)&&"middle"!==f&&NT(e[f]))return UU(UU({},e),{},BU({},f,e[f]+(d||0)))}return e}(m,0,n,t));var y=s-m.left-m.right,v=l-m.top-m.bottom;return oW(oW({brushBottom:g},m),{},{width:Math.max(y,0),height:Math.max(v,0)})},wW=function(e,t){return"xAxis"===t?e[t].width:"yAxis"===t?e[t].height:void 0},jW=function(e){var t=e.chartName,n=e.GraphicalChild,r=e.defaultTooltipEventType,o=void 0===r?"axis":r,a=e.validateTooltipEventTypes,s=void 0===a?["axis"]:a,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,d=e.defaultProps,h=function(e,t){var n=t.graphicalItems,r=t.stackGroups,i=t.offset,o=t.updateId,a=t.dataStartIndex,s=t.dataEndIndex,c=e.barSize,u=e.layout,d=e.barGap,h=e.barCategoryGap,f=e.maxBarSize,p=bW(u),m=p.numericAxisName,g=p.cateAxisName,y=function(e){return!(!e||!e.length)&&e.some(function(e){var t=JT(e&&e.type);return t&&t.indexOf("Bar")>=0})}(n),v=[];return n.forEach(function(n,p){var b=hW(e.data,{graphicalItems:[n],dataStartIndex:a,dataEndIndex:s}),x=void 0!==n.type.defaultProps?oW(oW({},n.type.defaultProps),n.props):n.props,w=x.dataKey,j=x.maxBarSize,S=x["".concat(m,"Id")],N=x["".concat(g,"Id")],E=l.reduce(function(e,n){var r=t["".concat(n.axisType,"Map")],i=x["".concat(n.axisType,"Id")];r&&r[i]||"zAxis"===n.axisType||S_(!1);var o=r[i];return oW(oW({},e),{},aW(aW({},n.axisType,o),"".concat(n.axisType,"Ticks"),YU(o)))},{}),k=E[g],T=E["".concat(g,"Ticks")],_=r&&r[S]&&r[S].hasStack&&function(e,t){var n,r=(null!==(n=e.type)&&void 0!==n&&n.defaultProps?UU(UU({},e.type.defaultProps),e.props):e.props).stackId;if(ET(r)){var i=t[r];if(i){var o=i.items.indexOf(e);return o>=0?i.stackedData[o]:null}}return null}(n,r[S].stackGroups),C=JT(n.type).indexOf("Bar")>=0,O=aB(k,T),A=[],P=y&&function(e){var t=e.barSize,n=e.totalSize,r=e.stackGroups,i=void 0===r?{}:r;if(!i)return{};for(var o={},a=Object.keys(i),s=0,l=a.length;s<l;s++)for(var c=i[a[s]].stackGroups,u=Object.keys(c),d=0,h=u.length;d<h;d++){var f=c[u[d]],p=f.items,m=f.cateAxisId,g=p.filter(function(e){return JT(e.type).indexOf("Bar")>=0});if(g&&g.length){var y=g[0].type.defaultProps,v=void 0!==y?UU(UU({},y),g[0].props):g[0].props,b=v.barSize,x=v[m];o[x]||(o[x]=[]);var w=wT()(b)?t:b;o[x].push({item:g[0],stackList:g.slice(1),barSize:wT()(w)?void 0:_T(w,n,0)})}}return o}({barSize:c,stackGroups:r,totalSize:wW(E,g)});if(C){var I,D,M=wT()(j)?f:j,R=null!==(I=null!==(D=aB(k,T,!0))&&void 0!==D?D:M)&&void 0!==I?I:0;A=function(e){var t=e.barGap,n=e.barCategoryGap,r=e.bandSize,i=e.sizeList,o=void 0===i?[]:i,a=e.maxBarSize,s=o.length;if(s<1)return null;var l,c=_T(t,r,0,!0),u=[];if(o[0].barSize===+o[0].barSize){var d=!1,h=r/s,f=o.reduce(function(e,t){return e+t.barSize||0},0);(f+=(s-1)*c)>=r&&(f-=(s-1)*c,c=0),f>=r&&h>0&&(d=!0,f=s*(h*=.9));var p={offset:((r-f)/2|0)-c,size:0};l=o.reduce(function(e,t){var n={item:t.item,position:{offset:p.offset+p.size+c,size:d?h:t.barSize}},r=[].concat(RU(e),[n]);return p=r[r.length-1].position,t.stackList&&t.stackList.length&&t.stackList.forEach(function(e){r.push({item:e,position:p})}),r},u)}else{var m=_T(n,r,0,!0);r-2*m-(s-1)*c<=0&&(c=0);var g=(r-2*m-(s-1)*c)/s;g>1&&(g>>=0);var y=a===+a?Math.min(g,a):g;l=o.reduce(function(e,t,n){var r=[].concat(RU(e),[{item:t.item,position:{offset:m+(g+c)*n+(g-y)/2,size:y}}]);return t.stackList&&t.stackList.length&&t.stackList.forEach(function(e){r.push({item:e,position:r[r.length-1].position})}),r},u)}return l}({barGap:d,barCategoryGap:h,bandSize:R!==O?R:O,sizeList:P[N],maxBarSize:M}),R!==O&&(A=A.map(function(e){return oW(oW({},e),{},{position:oW(oW({},e.position),{},{offset:e.position.offset-R/2})})}))}var L,F,U=n&&n.type&&n.type.getComposedData;U&&v.push({props:oW(oW({},U(oW(oW({},E),{},{displayedData:b,props:e,dataKey:w,item:n,bandSize:O,barPosition:A,offset:i,stackedData:_,layout:u,dataStartIndex:a,dataEndIndex:s}))),{},aW(aW(aW({key:n.key||"item-".concat(p)},m,E[m]),g,E[g]),"animationId",o)),childIndex:(L=n,F=e.children,t_(F).indexOf(L)),item:n})}),v},f=function(e,r){var i=e.props,o=e.dataStartIndex,a=e.dataEndIndex,s=e.updateId;if(!i_({props:i}))return null;var c=i.children,d=i.layout,f=i.stackOffset,p=i.data,m=i.reverseStackOrder,g=bW(d),y=g.numericAxisName,v=g.cateAxisName,b=n_(c,n),x=function(e,t,n,r,i,o){if(!e)return null;var a=(o?t.reverse():t).reduce(function(e,t){var i,o=null!==(i=t.type)&&void 0!==i&&i.defaultProps?UU(UU({},t.type.defaultProps),t.props):t.props,a=o.stackId;if(o.hide)return e;var s=o[n],l=e[s]||{hasStack:!1,stackGroups:{}};if(ET(a)){var c=l.stackGroups[a]||{numericAxisId:n,cateAxisId:r,items:[]};c.items.push(t),l.hasStack=!0,l.stackGroups[a]=c}else l.stackGroups[TT("_stackId_")]={numericAxisId:n,cateAxisId:r,items:[t]};return UU(UU({},e),{},BU({},s,l))},{});return Object.keys(a).reduce(function(t,o){var s=a[o];return s.hasStack&&(s.stackGroups=Object.keys(s.stackGroups).reduce(function(t,o){var a=s.stackGroups[o];return UU(UU({},t),{},BU({},o,{numericAxisId:n,cateAxisId:r,items:a.items,stackedData:ZU(e,a.items,i)}))},{})),UU(UU({},t),{},BU({},o,s))},{})}(p,b,"".concat(y,"Id"),"".concat(v,"Id"),f,m),w=l.reduce(function(e,t){var n="".concat(t.axisType,"Map");return oW(oW({},e),{},aW({},n,yW(i,oW(oW({},t),{},{graphicalItems:b,stackGroups:t.axisType===y&&x,dataStartIndex:o,dataEndIndex:a}))))},{}),j=xW(oW(oW({},w),{},{props:i,graphicalItems:b}),null===r||void 0===r?void 0:r.legendBBox);Object.keys(w).forEach(function(e){w[e]=u(i,w[e],j,e.replace("Map",""),t)});var S=function(e){var t=CT(e),n=YU(t,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:w_()(n,function(e){return e.coordinate}),tooltipAxis:t,tooltipAxisBandSize:aB(t,n)}}(w["".concat(v,"Map")]),N=h(i,oW(oW({},w),{},{dataStartIndex:o,dataEndIndex:a,updateId:s,graphicalItems:b,stackGroups:x,offset:j}));return oW(oW({formattedGraphicalItems:N,graphicalItems:b,offset:j,stackGroups:x},S),w)},p=function(e){function n(e){var r,o,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),aW(a=$H(this,n,[e]),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),aW(a,"accessibilityManager",new Yq),aW(a,"handleLegendBBoxUpdate",function(e){if(e){var t=a.state,n=t.dataStartIndex,r=t.dataEndIndex,i=t.updateId;a.setState(oW({legendBBox:e},f({props:a.props,dataStartIndex:n,dataEndIndex:r,updateId:i},oW(oW({},a.state),{},{legendBBox:e}))))}}),aW(a,"handleReceiveSyncEvent",function(e,t,n){if(a.props.syncId===e){if(n===a.eventEmitterSymbol&&"function"!==typeof a.props.syncMethod)return;a.applySyncEvent(t)}}),aW(a,"handleBrushChange",function(e){var t=e.startIndex,n=e.endIndex;if(t!==a.state.dataStartIndex||n!==a.state.dataEndIndex){var r=a.state.updateId;a.setState(function(){return oW({dataStartIndex:t,dataEndIndex:n},f({props:a.props,dataStartIndex:t,dataEndIndex:n,updateId:r},a.state))}),a.triggerSyncEvent({dataStartIndex:t,dataEndIndex:n})}}),aW(a,"handleMouseEnter",function(e){var t=a.getMouseInfo(e);if(t){var n=oW(oW({},t),{},{isTooltipActive:!0});a.setState(n),a.triggerSyncEvent(n);var r=a.props.onMouseEnter;MT()(r)&&r(n,e)}}),aW(a,"triggeredAfterMouseMove",function(e){var t=a.getMouseInfo(e),n=t?oW(oW({},t),{},{isTooltipActive:!0}):{isTooltipActive:!1};a.setState(n),a.triggerSyncEvent(n);var r=a.props.onMouseMove;MT()(r)&&r(n,e)}),aW(a,"handleItemMouseEnter",function(e){a.setState(function(){return{isTooltipActive:!0,activeItem:e,activePayload:e.tooltipPayload,activeCoordinate:e.tooltipPosition||{x:e.cx,y:e.cy}}})}),aW(a,"handleItemMouseLeave",function(){a.setState(function(){return{isTooltipActive:!1}})}),aW(a,"handleMouseMove",function(e){e.persist(),a.throttleTriggeredAfterMouseMove(e)}),aW(a,"handleMouseLeave",function(e){a.throttleTriggeredAfterMouseMove.cancel();var t={isTooltipActive:!1};a.setState(t),a.triggerSyncEvent(t);var n=a.props.onMouseLeave;MT()(n)&&n(t,e)}),aW(a,"handleOuterEvent",function(e){var t,n=function(e){var t=e&&e.type;return t&&$T[t]?$T[t]:null}(e),r=yT()(a.props,"".concat(n));n&&MT()(r)&&r(null!==(t=/.*touch.*/i.test(n)?a.getMouseInfo(e.changedTouches[0]):a.getMouseInfo(e))&&void 0!==t?t:{},e)}),aW(a,"handleClick",function(e){var t=a.getMouseInfo(e);if(t){var n=oW(oW({},t),{},{isTooltipActive:!0});a.setState(n),a.triggerSyncEvent(n);var r=a.props.onClick;MT()(r)&&r(n,e)}}),aW(a,"handleMouseDown",function(e){var t=a.props.onMouseDown;MT()(t)&&t(a.getMouseInfo(e),e)}),aW(a,"handleMouseUp",function(e){var t=a.props.onMouseUp;MT()(t)&&t(a.getMouseInfo(e),e)}),aW(a,"handleTouchMove",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&a.throttleTriggeredAfterMouseMove(e.changedTouches[0])}),aW(a,"handleTouchStart",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&a.handleMouseDown(e.changedTouches[0])}),aW(a,"handleTouchEnd",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&a.handleMouseUp(e.changedTouches[0])}),aW(a,"handleDoubleClick",function(e){var t=a.props.onDoubleClick;MT()(t)&&t(a.getMouseInfo(e),e)}),aW(a,"handleContextMenu",function(e){var t=a.props.onContextMenu;MT()(t)&&t(a.getMouseInfo(e),e)}),aW(a,"triggerSyncEvent",function(e){void 0!==a.props.syncId&&zq.emit(qq,a.props.syncId,e,a.eventEmitterSymbol)}),aW(a,"applySyncEvent",function(e){var t=a.props,n=t.layout,r=t.syncMethod,i=a.state.updateId,o=e.dataStartIndex,s=e.dataEndIndex;if(void 0!==e.dataStartIndex||void 0!==e.dataEndIndex)a.setState(oW({dataStartIndex:o,dataEndIndex:s},f({props:a.props,dataStartIndex:o,dataEndIndex:s,updateId:i},a.state)));else if(void 0!==e.activeTooltipIndex){var l=e.chartX,c=e.chartY,u=e.activeTooltipIndex,d=a.state,h=d.offset,p=d.tooltipTicks;if(!h)return;if("function"===typeof r)u=r(p,e);else if("value"===r){u=-1;for(var m=0;m<p.length;m++)if(p[m].value===e.activeLabel){u=m;break}}var g=oW(oW({},h),{},{x:h.left,y:h.top}),y=Math.min(l,g.x+g.width),v=Math.min(c,g.y+g.height),b=p[u]&&p[u].value,x=pW(a.state,a.props.data,u),w=p[u]?{x:"horizontal"===n?p[u].coordinate:y,y:"horizontal"===n?v:p[u].coordinate}:uW;a.setState(oW(oW({},e),{},{activeLabel:b,activeCoordinate:w,activePayload:x,activeTooltipIndex:u}))}else a.setState(e)}),aW(a,"renderCursor",function(e){var n,r=a.state,o=r.isTooltipActive,s=r.activeCoordinate,l=r.activePayload,c=r.offset,u=r.activeTooltipIndex,d=r.tooltipAxisBandSize,h=a.getTooltipEventType(),f=null!==(n=e.props.active)&&void 0!==n?n:o,p=a.props.layout,m=e.key||"_recharts-cursor";return i.createElement(qH,{key:m,activeCoordinate:s,activePayload:l,activeTooltipIndex:u,chartName:t,element:e,isActive:f,layout:p,offset:c,tooltipAxisBandSize:d,tooltipEventType:h})}),aW(a,"renderPolarAxis",function(e,t,n){var r=yT()(e,"type.axisType"),o=yT()(a.state,"".concat(r,"Map")),s=e.type.defaultProps,l=void 0!==s?oW(oW({},s),e.props):e.props,c=o&&o[l["".concat(r,"Id")]];return(0,i.cloneElement)(e,oW(oW({},c),{},{className:cT(r,c.className),key:e.key||"".concat(t,"-").concat(n),ticks:YU(c,!0)}))}),aW(a,"renderPolarGrid",function(e){var t=e.props,n=t.radialLines,r=t.polarAngles,o=t.polarRadius,s=a.state,l=s.radiusAxisMap,c=s.angleAxisMap,u=CT(l),d=CT(c),h=d.cx,f=d.cy,p=d.innerRadius,m=d.outerRadius;return(0,i.cloneElement)(e,{polarAngles:Array.isArray(r)?r:YU(d,!0).map(function(e){return e.coordinate}),polarRadius:Array.isArray(o)?o:YU(u,!0).map(function(e){return e.coordinate}),cx:h,cy:f,innerRadius:p,outerRadius:m,key:e.key||"polar-grid",radialLines:n})}),aW(a,"renderLegend",function(){var e=a.state.formattedGraphicalItems,t=a.props,n=t.children,r=t.width,o=t.height,s=a.props.margin||{},l=r-(s.left||0)-(s.right||0),u=DU({children:n,formattedGraphicalItems:e,legendWidth:l,legendContent:c});if(!u)return null;var d=u.item,h=XH(u,HH);return(0,i.cloneElement)(d,oW(oW({},h),{},{chartWidth:r,chartHeight:o,margin:s,onBBoxUpdate:a.handleLegendBBoxUpdate}))}),aW(a,"renderTooltip",function(){var e,t=a.props,n=t.children,r=t.accessibilityLayer,o=r_(n,bC);if(!o)return null;var s=a.state,l=s.isTooltipActive,c=s.activeCoordinate,u=s.activePayload,d=s.activeLabel,h=s.offset,f=null!==(e=o.props.active)&&void 0!==e?e:l;return(0,i.cloneElement)(o,{viewBox:oW(oW({},h),{},{x:h.left,y:h.top}),active:f,label:d,payload:f?u:[],coordinate:c,accessibilityLayer:r})}),aW(a,"renderBrush",function(e){var t=a.props,n=t.margin,r=t.data,o=a.state,s=o.offset,l=o.dataStartIndex,c=o.dataEndIndex,u=o.updateId;return(0,i.cloneElement)(e,{key:e.key||"_recharts-brush",onChange:QU(a.handleBrushChange,e.props.onChange),data:r,x:NT(e.props.x)?e.props.x:s.left,y:NT(e.props.y)?e.props.y:s.top+s.height+s.brushBottom-(n.bottom||0),width:NT(e.props.width)?e.props.width:s.width,startIndex:l,endIndex:c,updateId:"brush-".concat(u)})}),aW(a,"renderReferenceElement",function(e,t,n){if(!e)return null;var r=a.clipPathId,o=a.state,s=o.xAxisMap,l=o.yAxisMap,c=o.offset,u=e.type.defaultProps||{},d=e.props,h=d.xAxisId,f=void 0===h?u.xAxisId:h,p=d.yAxisId,m=void 0===p?u.yAxisId:p;return(0,i.cloneElement)(e,{key:e.key||"".concat(t,"-").concat(n),xAxis:s[f],yAxis:l[m],viewBox:{x:c.left,y:c.top,width:c.width,height:c.height},clipPathId:r})}),aW(a,"renderActivePoints",function(e){var t=e.item,r=e.activePoint,i=e.basePoint,o=e.childIndex,a=e.isRange,s=[],l=t.props.key,c=void 0!==t.item.type.defaultProps?oW(oW({},t.item.type.defaultProps),t.item.props):t.item.props,u=c.activeDot,d=oW(oW({index:o,dataKey:c.dataKey,cx:r.x,cy:r.y,r:4,fill:qU(t.item),strokeWidth:2,stroke:"#fff",payload:r.payload,value:r.value},s_(u,!1)),WT(u));return s.push(n.renderActiveDot(u,d,"".concat(l,"-activePoint-").concat(o))),i?s.push(n.renderActiveDot(u,oW(oW({},d),{},{cx:i.x,cy:i.y}),"".concat(l,"-basePoint-").concat(o))):a&&s.push(null),s}),aW(a,"renderGraphicChild",function(e,t,n){var r=a.filterFormatItem(e,t,n);if(!r)return null;var o=a.getTooltipEventType(),s=a.state,l=s.isTooltipActive,c=s.tooltipAxis,u=s.activeTooltipIndex,d=s.activeLabel,h=r_(a.props.children,bC),f=r.props,p=f.points,m=f.isRange,g=f.baseLine,y=void 0!==r.item.type.defaultProps?oW(oW({},r.item.type.defaultProps),r.item.props):r.item.props,v=y.activeDot,b=y.hide,x=y.activeBar,w=y.activeShape,j=Boolean(!b&&l&&h&&(v||x||w)),S={};"axis"!==o&&h&&"click"===h.props.trigger?S={onClick:QU(a.handleItemMouseEnter,e.props.onClick)}:"axis"!==o&&(S={onMouseLeave:QU(a.handleItemMouseLeave,e.props.onMouseLeave),onMouseEnter:QU(a.handleItemMouseEnter,e.props.onMouseEnter)});var N=(0,i.cloneElement)(e,oW(oW({},r.props),S));if(j){if(!(u>=0)){var E,k=(null!==(E=a.getItemByXY(a.state.activeCoordinate))&&void 0!==E?E:{graphicalItem:N}).graphicalItem,T=k.item,_=void 0===T?e:T,C=k.childIndex,O=oW(oW(oW({},r.props),S),{},{activeIndex:C});return[(0,i.cloneElement)(_,O),null,null]}var A,P;if(c.dataKey&&!c.allowDuplicatedCategory){var I="function"===typeof c.dataKey?function(e){return"function"===typeof c.dataKey?c.dataKey(e.payload):null}:"payload.".concat(c.dataKey.toString());A=AT(p,I,d),P=m&&g&&AT(g,I,d)}else A=null===p||void 0===p?void 0:p[u],P=m&&g&&g[u];if(w||x){var D=void 0!==e.props.activeIndex?e.props.activeIndex:u;return[(0,i.cloneElement)(e,oW(oW(oW({},r.props),S),{},{activeIndex:D})),null,null]}if(!wT()(A))return[N].concat(tW(a.renderActivePoints({item:r,activePoint:A,basePoint:P,childIndex:u,isRange:m})))}return m?[N,null,null]:[N,null]}),aW(a,"renderCustomized",function(e,t,n){return(0,i.cloneElement)(e,oW(oW({key:"recharts-customized-".concat(n)},a.props),a.state))}),aW(a,"renderMap",{CartesianGrid:{handler:dW,once:!0},ReferenceArea:{handler:a.renderReferenceElement},ReferenceLine:{handler:dW},ReferenceDot:{handler:a.renderReferenceElement},XAxis:{handler:dW},YAxis:{handler:dW},Brush:{handler:a.renderBrush,once:!0},Bar:{handler:a.renderGraphicChild},Line:{handler:a.renderGraphicChild},Area:{handler:a.renderGraphicChild},Radar:{handler:a.renderGraphicChild},RadialBar:{handler:a.renderGraphicChild},Scatter:{handler:a.renderGraphicChild},Pie:{handler:a.renderGraphicChild},Funnel:{handler:a.renderGraphicChild},Tooltip:{handler:a.renderCursor,once:!0},PolarGrid:{handler:a.renderPolarGrid,once:!0},PolarAngleAxis:{handler:a.renderPolarAxis},PolarRadiusAxis:{handler:a.renderPolarAxis},Customized:{handler:a.renderCustomized}}),a.clipPathId="".concat(null!==(r=e.id)&&void 0!==r?r:TT("recharts"),"-clip"),a.throttleTriggeredAfterMouseMove=dT()(a.triggeredAfterMouseMove,null!==(o=e.throttleDelay)&&void 0!==o?o:1e3/60),a.state={},a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eW(e,t)}(n,e),r=n,a=[{key:"componentDidMount",value:function(){var e,t;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:null!==(e=this.props.margin.left)&&void 0!==e?e:0,top:null!==(t=this.props.margin.top)&&void 0!==t?t:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var e=this.props,t=e.children,n=e.data,r=e.height,i=e.layout,o=r_(t,bC);if(o){var a=o.props.defaultIndex;if(!("number"!==typeof a||a<0||a>this.state.tooltipTicks.length-1)){var s=this.state.tooltipTicks[a]&&this.state.tooltipTicks[a].value,l=pW(this.state,n,a,s),c=this.state.tooltipTicks[a].coordinate,u=(this.state.offset.top+r)/2,d="horizontal"===i?{x:c,y:u}:{y:c,x:u},h=this.state.formattedGraphicalItems.find(function(e){return"Scatter"===e.item.type.name});h&&(d=oW(oW({},d),h.props.points[a].tooltipPosition),l=h.props.points[a].tooltipPayload);var f={activeTooltipIndex:a,isTooltipActive:!0,activeLabel:s,activePayload:l,activeCoordinate:d};this.setState(f),this.renderCursor(o),this.accessibilityManager.setIndex(a)}}}},{key:"getSnapshotBeforeUpdate",value:function(e,t){return this.props.accessibilityLayer?(this.state.tooltipTicks!==t.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==e.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==e.margin&&this.accessibilityManager.setDetails({offset:{left:null!==(n=this.props.margin.left)&&void 0!==n?n:0,top:null!==(r=this.props.margin.top)&&void 0!==r?r:0}}),null):null;var n,r}},{key:"componentDidUpdate",value:function(e){l_([r_(e.children,bC)],[r_(this.props.children,bC)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var e=r_(this.props.children,bC);if(e&&"boolean"===typeof e.props.shared){var t=e.props.shared?"axis":"item";return s.indexOf(t)>=0?t:o}return o}},{key:"getMouseInfo",value:function(e){if(!this.container)return null;var t,n=this.container,r=n.getBoundingClientRect(),i={top:(t=r).top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft},o={chartX:Math.round(e.pageX-i.left),chartY:Math.round(e.pageY-i.top)},a=r.width/n.offsetWidth||1,s=this.inRange(o.chartX,o.chartY,a);if(!s)return null;var l=this.state,c=l.xAxisMap,u=l.yAxisMap,d=this.getTooltipEventType(),h=mW(this.state,this.props.data,this.props.layout,s);if("axis"!==d&&c&&u){var f=CT(c).scale,p=CT(u).scale,m=f&&f.invert?f.invert(o.chartX):null,g=p&&p.invert?p.invert(o.chartY):null;return oW(oW({},o),{},{xValue:m,yValue:g},h)}return h?oW(oW({},o),h):null}},{key:"inRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=this.props.layout,i=e/n,o=t/n;if("horizontal"===r||"vertical"===r){var a=this.state.offset;return i>=a.left&&i<=a.left+a.width&&o>=a.top&&o<=a.top+a.height?{x:i,y:o}:null}var s=this.state,l=s.angleAxisMap,c=s.radiusAxisMap;if(l&&c){var u=CT(l);return RB({x:i,y:o},u)}return null}},{key:"parseEventsOfWrapper",value:function(){var e=this.props.children,t=this.getTooltipEventType(),n=r_(e,bC),r={};return n&&"axis"===t&&(r="click"===n.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu}),oW(oW({},WT(this.props,this.handleOuterEvent)),r)}},{key:"addListener",value:function(){zq.on(qq,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){zq.removeListener(qq,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(e,t,n){for(var r=this.state.formattedGraphicalItems,i=0,o=r.length;i<o;i++){var a=r[i];if(a.item===e||a.props.key===e.key||t===JT(a.item.type)&&n===a.childIndex)return a}return null}},{key:"renderClipPath",value:function(){var e=this.clipPathId,t=this.state.offset,n=t.left,r=t.top,o=t.height,a=t.width;return i.createElement("defs",null,i.createElement("clipPath",{id:e},i.createElement("rect",{x:n,y:r,height:o,width:a})))}},{key:"getXScales",value:function(){var e=this.state.xAxisMap;return e?Object.entries(e).reduce(function(e,t){var n=YH(t,2),r=n[0],i=n[1];return oW(oW({},e),{},aW({},r,i.scale))},{}):null}},{key:"getYScales",value:function(){var e=this.state.yAxisMap;return e?Object.entries(e).reduce(function(e,t){var n=YH(t,2),r=n[0],i=n[1];return oW(oW({},e),{},aW({},r,i.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(e){var t;return null===(t=this.state.xAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getYScaleByAxisId",value:function(e){var t;return null===(t=this.state.yAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getItemByXY",value:function(e){var t=this.state,n=t.formattedGraphicalItems,r=t.activeItem;if(n&&n.length)for(var i=0,o=n.length;i<o;i++){var a=n[i],s=a.props,l=a.item,c=void 0!==l.type.defaultProps?oW(oW({},l.type.defaultProps),l.props):l.props,u=JT(l.type);if("Bar"===u){var d=(s.data||[]).find(function(t){return DP(e,t)});if(d)return{graphicalItem:a,payload:d}}else if("RadialBar"===u){var h=(s.data||[]).find(function(t){return RB(e,t)});if(h)return{graphicalItem:a,payload:h}}else if(GV(a,r)||YV(a,r)||XV(a,r)){var f=ZV({graphicalItem:a,activeTooltipItem:r,itemData:c.data}),p=void 0===c.activeIndex?f:c.activeIndex;return{graphicalItem:oW(oW({},a),{},{childIndex:p}),payload:XV(a,r)?c.data[f]:a.props.data[f]}}}return null}},{key:"render",value:function(){var e=this;if(!i_(this))return null;var t,n,r=this.props,o=r.children,a=r.className,s=r.width,l=r.height,c=r.style,u=r.compact,d=r.title,h=r.desc,f=XH(r,WH),p=s_(f,!1);if(u)return i.createElement(aq,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},i.createElement(T_,GH({},p,{width:s,height:l,title:d,desc:h}),this.renderClipPath(),u_(o,this.renderMap)));this.props.accessibilityLayer&&(p.tabIndex=null!==(t=this.props.tabIndex)&&void 0!==t?t:0,p.role=null!==(n=this.props.role)&&void 0!==n?n:"application",p.onKeyDown=function(t){e.accessibilityManager.keyboardEvent(t)},p.onFocus=function(){e.accessibilityManager.focus()});var m=this.parseEventsOfWrapper();return i.createElement(aq,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},i.createElement("div",GH({className:cT("recharts-wrapper",a),style:oW({position:"relative",cursor:"default",width:s,height:l},c)},m,{ref:function(t){e.container=t}}),i.createElement(T_,GH({},p,{width:s,height:l,title:d,desc:h,style:cW}),this.renderClipPath(),u_(o,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}],a&&QH(r.prototype,a),l&&QH(r,l),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,l}(i.Component);aW(p,"displayName",t),aW(p,"defaultProps",oW({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),aW(p,"getDerivedStateFromProps",function(e,t){var n=e.dataKey,r=e.data,i=e.children,o=e.width,a=e.height,s=e.layout,l=e.stackOffset,c=e.margin,u=t.dataStartIndex,d=t.dataEndIndex;if(void 0===t.updateId){var h=vW(e);return oW(oW(oW({},h),{},{updateId:0},f(oW(oW({props:e},h),{},{updateId:0}),t)),{},{prevDataKey:n,prevData:r,prevWidth:o,prevHeight:a,prevLayout:s,prevStackOffset:l,prevMargin:c,prevChildren:i})}if(n!==t.prevDataKey||r!==t.prevData||o!==t.prevWidth||a!==t.prevHeight||s!==t.prevLayout||l!==t.prevStackOffset||!UT(c,t.prevMargin)){var p=vW(e),m={chartX:t.chartX,chartY:t.chartY,isTooltipActive:t.isTooltipActive},g=oW(oW({},mW(t,r,s)),{},{updateId:t.updateId+1}),y=oW(oW(oW({},p),m),g);return oW(oW(oW({},y),f(oW({props:e},y),t)),{},{prevDataKey:n,prevData:r,prevWidth:o,prevHeight:a,prevLayout:s,prevStackOffset:l,prevMargin:c,prevChildren:i})}if(!l_(i,t.prevChildren)){var v,b,x,w,j=r_(i,kB),S=j&&null!==(v=null===(b=j.props)||void 0===b?void 0:b.startIndex)&&void 0!==v?v:u,N=j&&null!==(x=null===(w=j.props)||void 0===w?void 0:w.endIndex)&&void 0!==x?x:d,E=S!==u||N!==d,k=!wT()(r)&&!E?t.updateId:t.updateId+1;return oW(oW({updateId:k},f(oW(oW({props:e},t),{},{updateId:k,dataStartIndex:S,dataEndIndex:N}),t)),{},{prevChildren:i,dataStartIndex:S,dataEndIndex:N})}return null}),aW(p,"renderActiveDot",function(e,t,n){var r;return r=(0,i.isValidElement)(e)?(0,i.cloneElement)(e,t):MT()(e)?e(t):i.createElement(QO,t),i.createElement(A_,{className:"recharts-active-dot",key:n},r)});var m=(0,i.forwardRef)(function(e,t){return i.createElement(p,GH({},e,{ref:t}))});return m.displayName=p.displayName,m},SW=["type","layout","connectNulls","ref"],NW=["key"];function EW(e){return EW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},EW(e)}function kW(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function TW(){return TW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},TW.apply(this,arguments)}function _W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function CW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_W(Object(n),!0).forEach(function(t){LW(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_W(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function OW(e){return function(e){if(Array.isArray(e))return AW(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return AW(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AW(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function AW(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function PW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,FW(r.key),r)}}function IW(e,t,n){return t=MW(t),function(e,t){if(t&&("object"===EW(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,DW()?Reflect.construct(t,n||[],MW(e).constructor):t.apply(e,n))}function DW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(DW=function(){return!!e})()}function MW(e){return MW=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},MW(e)}function RW(e,t){return RW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},RW(e,t)}function LW(e,t,n){return(t=FW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FW(e){var t=function(e,t){if("object"!=EW(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=EW(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==EW(t)?t:t+""}var UW=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return LW(e=IW(this,t,[].concat(r)),"state",{isAnimationFinished:!0,totalLength:0}),LW(e,"generateSimpleStrokeDasharray",function(e,t){return"".concat(t,"px ").concat(e-t,"px")}),LW(e,"getStrokeDasharray",function(n,r,i){var o=i.reduce(function(e,t){return e+t});if(!o)return e.generateSimpleStrokeDasharray(r,n);for(var a=Math.floor(n/o),s=n%o,l=r-n,c=[],u=0,d=0;u<i.length;d+=i[u],++u)if(d+i[u]>s){c=[].concat(OW(i.slice(0,u)),[s-d]);break}var h=c.length%2===0?[0,l]:[l];return[].concat(OW(t.repeat(i,a)),OW(c),h).map(function(e){return"".concat(e,"px")}).join(", ")}),LW(e,"id",TT("recharts-line-")),LW(e,"pathRef",function(t){e.mainCurve=t}),LW(e,"handleAnimationEnd",function(){e.setState({isAnimationFinished:!0}),e.props.onAnimationEnd&&e.props.onAnimationEnd()}),LW(e,"handleAnimationStart",function(){e.setState({isAnimationFinished:!1}),e.props.onAnimationStart&&e.props.onAnimationStart()}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RW(e,t)}(t,e),n=t,r=[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();this.setState({totalLength:e})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();e!==this.state.totalLength&&this.setState({totalLength:e})}}},{key:"getTotalLength",value:function(){var e=this.mainCurve;try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(AG){return 0}}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,r=n.points,o=n.xAxis,a=n.yAxis,s=n.layout,l=n_(n.children,CU);if(!l)return null;var c=function(e,t){return{x:e.x,y:e.y,value:e.value,errorVal:VU(e.payload,t)}},u={clipPath:e?"url(#clipPath-".concat(t,")"):null};return i.createElement(A_,u,l.map(function(e){return i.cloneElement(e,{key:"bar-".concat(e.props.dataKey),data:r,xAxis:o,yAxis:a,layout:s,dataPointFormatter:c})}))}},{key:"renderDots",value:function(e,n,r){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.dot,s=o.points,l=o.dataKey,c=s_(this.props,!1),u=s_(a,!0),d=s.map(function(e,n){var r=CW(CW(CW({key:"dot-".concat(n),r:3},c),u),{},{index:n,cx:e.x,cy:e.y,value:e.value,dataKey:l,payload:e.payload,points:s});return t.renderDotItem(a,r)}),h={clipPath:e?"url(#clipPath-".concat(n?"":"dots-").concat(r,")"):null};return i.createElement(A_,TW({className:"recharts-line-dots",key:"dots"},h),d)}},{key:"renderCurveStatically",value:function(e,t,n,r){var o=this.props,a=o.type,s=o.layout,l=o.connectNulls,c=(o.ref,kW(o,SW)),u=CW(CW(CW({},s_(c,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:t?"url(#clipPath-".concat(n,")"):null,points:e},r),{},{type:a,layout:s,connectNulls:l});return i.createElement(_H,TW({},u,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(e,t){var n=this,r=this.props,o=r.points,a=r.strokeDasharray,s=r.isAnimationActive,l=r.animationBegin,c=r.animationDuration,u=r.animationEasing,d=r.animationId,h=r.animateNewValues,f=r.width,p=r.height,m=this.state,g=m.prevPoints,y=m.totalLength;return i.createElement(EP,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"line-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(r){var i=r.t;if(g){var s=g.length/o.length,l=o.map(function(e,t){var n=Math.floor(t*s);if(g[n]){var r=g[n],o=OT(r.x,e.x),a=OT(r.y,e.y);return CW(CW({},e),{},{x:o(i),y:a(i)})}if(h){var l=OT(2*f,e.x),c=OT(p/2,e.y);return CW(CW({},e),{},{x:l(i),y:c(i)})}return CW(CW({},e),{},{x:e.x,y:e.y})});return n.renderCurveStatically(l,e,t)}var c,u=OT(0,y)(i);if(a){var d="".concat(a).split(/[,\s]+/gim).map(function(e){return parseFloat(e)});c=n.getStrokeDasharray(u,y,d)}else c=n.generateSimpleStrokeDasharray(y,u);return n.renderCurveStatically(o,e,t,{strokeDasharray:c})})}},{key:"renderCurve",value:function(e,t){var n=this.props,r=n.points,i=n.isAnimationActive,o=this.state,a=o.prevPoints,s=o.totalLength;return i&&r&&r.length&&(!a&&s>0||!BF()(a,r))?this.renderCurveWithAnimation(e,t):this.renderCurveStatically(r,e,t)}},{key:"render",value:function(){var e,t=this.props,n=t.hide,r=t.dot,o=t.points,a=t.className,s=t.xAxis,l=t.yAxis,c=t.top,u=t.left,d=t.width,h=t.height,f=t.isAnimationActive,p=t.id;if(n||!o||!o.length)return null;var m=this.state.isAnimationFinished,g=1===o.length,y=cT("recharts-line",a),v=s&&s.allowDataOverflow,b=l&&l.allowDataOverflow,x=v||b,w=wT()(p)?this.id:p,j=null!==(e=s_(r,!1))&&void 0!==e?e:{r:3,strokeWidth:2},S=j.r,N=void 0===S?3:S,E=j.strokeWidth,k=void 0===E?2:E,T=(function(e){return e&&"object"===QT(e)&&"clipDot"in e}(r)?r:{}).clipDot,_=void 0===T||T,C=2*N+k;return i.createElement(A_,{className:y},v||b?i.createElement("defs",null,i.createElement("clipPath",{id:"clipPath-".concat(w)},i.createElement("rect",{x:v?u:u-d/2,y:b?c:c-h/2,width:v?d:2*d,height:b?h:2*h})),!_&&i.createElement("clipPath",{id:"clipPath-dots-".concat(w)},i.createElement("rect",{x:u-C/2,y:c-C/2,width:d+C,height:h+C}))):null,!g&&this.renderCurve(x,w),this.renderErrorBar(x,w),(g||r)&&this.renderDots(x,_,w),(!f||m)&&pV.renderCallByParent(this.props,o))}}],o=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}},{key:"repeat",value:function(e,t){for(var n=e.length%2!==0?[].concat(OW(e),[0]):e,r=[],i=0;i<t;++i)r=[].concat(OW(r),OW(n));return r}},{key:"renderDotItem",value:function(e,t){var n;if(i.isValidElement(e))n=i.cloneElement(e,t);else if(MT()(e))n=e(t);else{var r=t.key,o=kW(t,NW),a=cT("recharts-line-dot","boolean"!==typeof e?e.className:"");n=i.createElement(QO,TW({key:r},o,{className:a}))}return n}}],r&&PW(n.prototype,r),o&&PW(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(i.PureComponent);function BW(e,t,n){if(t<1)return[];if(1===t&&void 0===n)return e;for(var r=[],i=0;i<e.length;i+=t){if(void 0!==n&&!0!==n(e[i]))return;r.push(e[i])}return r}function VW(e,t,n){return function(e){var t=e.width,n=e.height,r=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),i=r*Math.PI/180,o=Math.atan(n/t),a=i>o&&i<Math.PI-o?n/Math.sin(i):t/Math.cos(i);return Math.abs(a)}({width:e.width+t.width,height:e.height+t.height},n)}function zW(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-i)<=0}function qW(e){return qW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qW(e)}function HW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function WW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?HW(Object(n),!0).forEach(function(t){KW(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HW(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function KW(e,t,n){return t=function(e){var t=function(e,t){if("object"!=qW(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=qW(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==qW(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GW(e,t,n){var r=e.tick,i=e.ticks,o=e.viewBox,a=e.minTickGap,s=e.orientation,l=e.interval,c=e.tickFormatter,u=e.unit,d=e.angle;if(!i||!i.length||!r)return[];if(NT(l)||iC.isSsr)return function(e,t){return BW(e,t+1)}(i,"number"===typeof l&&NT(l)?l:0);var h=[],f="top"===s||"bottom"===s?"width":"height",p=u&&"width"===f?nI(u,{fontSize:t,letterSpacing:n}):{width:0,height:0},m=function(e,r){var i=MT()(c)?c(e.value,r):e.value;return"width"===f?VW(nI(i,{fontSize:t,letterSpacing:n}),p,d):nI(i,{fontSize:t,letterSpacing:n})[f]},g=i.length>=2?jT(i[1].coordinate-i[0].coordinate):1,y=function(e,t,n){var r="width"===n,i=e.x,o=e.y,a=e.width,s=e.height;return 1===t?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}(o,g,f);return"equidistantPreserveStart"===l?function(e,t,n,r,i){for(var o,a=(r||[]).slice(),s=t.start,l=t.end,c=0,u=1,d=s,h=function(){var t=null===r||void 0===r?void 0:r[c];if(void 0===t)return{v:BW(r,u)};var o,a=c,h=function(){return void 0===o&&(o=n(t,a)),o},f=t.coordinate,p=0===c||zW(e,f,h,d,l);p||(c=0,d=s,u+=1),p&&(d=f+e*(h()/2+i),c+=u)};u<=a.length;)if(o=h())return o.v;return[]}(g,y,m,i,a):(h="preserveStart"===l||"preserveStartEnd"===l?function(e,t,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=t.start,c=t.end;if(o){var u=r[s-1],d=n(u,s-1),h=e*(u.coordinate+e*d/2-c);a[s-1]=u=WW(WW({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate}),zW(e,u.tickCoord,function(){return d},l,c)&&(c=u.tickCoord-e*(d/2+i),a[s-1]=WW(WW({},u),{},{isShow:!0}))}for(var f=o?s-1:s,p=function(t){var r,o=a[t],s=function(){return void 0===r&&(r=n(o,t)),r};if(0===t){var u=e*(o.coordinate-e*s()/2-l);a[t]=o=WW(WW({},o),{},{tickCoord:u<0?o.coordinate-u*e:o.coordinate})}else a[t]=o=WW(WW({},o),{},{tickCoord:o.coordinate});zW(e,o.tickCoord,s,l,c)&&(l=o.tickCoord+e*(s()/2+i),a[t]=WW(WW({},o),{},{isShow:!0}))},m=0;m<f;m++)p(m);return a}(g,y,m,i,a,"preserveStartEnd"===l):function(e,t,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=t.start,l=t.end,c=function(t){var r,c=o[t],u=function(){return void 0===r&&(r=n(c,t)),r};if(t===a-1){var d=e*(c.coordinate+e*u()/2-l);o[t]=c=WW(WW({},c),{},{tickCoord:d>0?c.coordinate-d*e:c.coordinate})}else o[t]=c=WW(WW({},c),{},{tickCoord:c.coordinate});zW(e,c.tickCoord,u,s,l)&&(l=c.tickCoord-e*(u()/2+i),o[t]=WW(WW({},c),{},{isShow:!0}))},u=a-1;u>=0;u--)c(u);return o}(g,y,m,i,a),h.filter(function(e){return e.isShow}))}LW(UW,"displayName","Line"),LW(UW,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!iC.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1}),LW(UW,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,a=e.dataKey,s=e.bandSize,l=e.displayedData,c=e.offset,u=t.layout,d=l.map(function(e,t){var l=VU(e,a);return"horizontal"===u?{x:eB({axis:n,ticks:i,bandSize:s,entry:e,index:t}),y:wT()(l)?null:r.scale(l),value:l,payload:e}:{x:wT()(l)?null:n.scale(l),y:eB({axis:r,ticks:o,bandSize:s,entry:e,index:t}),value:l,payload:e}});return CW({points:d,layout:u},c)});var YW=["viewBox"],XW=["viewBox"],QW=["ticks"];function $W(e){return $W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$W(e)}function JW(){return JW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},JW.apply(this,arguments)}function ZW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eK(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ZW(Object(n),!0).forEach(function(t){sK(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZW(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tK(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function nK(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,lK(r.key),r)}}function rK(e,t,n){return t=oK(t),function(e,t){if(t&&("object"===$W(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,iK()?Reflect.construct(t,n||[],oK(e).constructor):t.apply(e,n))}function iK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(iK=function(){return!!e})()}function oK(e){return oK=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},oK(e)}function aK(e,t){return aK=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},aK(e,t)}function sK(e,t,n){return(t=lK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lK(e){var t=function(e,t){if("object"!=$W(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=$W(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$W(t)?t:t+""}var cK=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=rK(this,t,[e])).state={fontSize:"",letterSpacing:""},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aK(e,t)}(t,e),n=t,r=[{key:"shouldComponentUpdate",value:function(e,t){var n=e.viewBox,r=tK(e,YW),i=this.props,o=i.viewBox,a=tK(i,XW);return!UT(n,o)||!UT(r,a)||!UT(t,this.state)}},{key:"componentDidMount",value:function(){var e=this.layerReference;if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];t&&this.setState({fontSize:window.getComputedStyle(t).fontSize,letterSpacing:window.getComputedStyle(t).letterSpacing})}}},{key:"getTickLineCoord",value:function(e){var t,n,r,i,o,a,s=this.props,l=s.x,c=s.y,u=s.width,d=s.height,h=s.orientation,f=s.tickSize,p=s.mirror,m=s.tickMargin,g=p?-1:1,y=e.tickSize||f,v=NT(e.tickCoord)?e.tickCoord:e.coordinate;switch(h){case"top":t=n=e.coordinate,a=(r=(i=c+ +!p*d)-g*y)-g*m,o=v;break;case"left":r=i=e.coordinate,o=(t=(n=l+ +!p*u)-g*y)-g*m,a=v;break;case"right":r=i=e.coordinate,o=(t=(n=l+ +p*u)+g*y)+g*m,a=v;break;default:t=n=e.coordinate,a=(r=(i=c+ +p*d)+g*y)+g*m,o=v}return{line:{x1:t,y1:r,x2:n,y2:i},tick:{x:o,y:a}}}},{key:"getTickTextAnchor",value:function(){var e,t=this.props,n=t.orientation,r=t.mirror;switch(n){case"left":e=r?"start":"end";break;case"right":e=r?"end":"start";break;default:e="middle"}return e}},{key:"getTickVerticalAnchor",value:function(){var e=this.props,t=e.orientation,n=e.mirror,r="end";switch(t){case"left":case"right":r="middle";break;case"top":r=n?"start":"end";break;default:r=n?"end":"start"}return r}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,o=e.height,a=e.orientation,s=e.mirror,l=e.axisLine,c=eK(eK(eK({},s_(this.props,!1)),s_(l,!1)),{},{fill:"none"});if("top"===a||"bottom"===a){var u=+("top"===a&&!s||"bottom"===a&&s);c=eK(eK({},c),{},{x1:t,y1:n+u*o,x2:t+r,y2:n+u*o})}else{var d=+("left"===a&&!s||"right"===a&&s);c=eK(eK({},c),{},{x1:t+d*r,y1:n,x2:t+d*r,y2:n+o})}return i.createElement("line",JW({},c,{className:cT("recharts-cartesian-axis-line",yT()(l,"className"))}))}},{key:"renderTicks",value:function(e,n,r){var o=this,a=this.props,s=a.tickLine,l=a.stroke,c=a.tick,u=a.tickFormatter,d=a.unit,h=GW(eK(eK({},this.props),{},{ticks:e}),n,r),f=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),m=s_(this.props,!1),g=s_(c,!1),y=eK(eK({},m),{},{fill:"none"},s_(s,!1)),v=h.map(function(e,n){var r=o.getTickLineCoord(e),a=r.line,v=r.tick,b=eK(eK(eK(eK({textAnchor:f,verticalAnchor:p},m),{},{stroke:"none",fill:l},g),v),{},{index:n,payload:e,visibleTicksCount:h.length,tickFormatter:u});return i.createElement(A_,JW({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e.value,"-").concat(e.coordinate,"-").concat(e.tickCoord)},KT(o.props,e,n)),s&&i.createElement("line",JW({},y,a,{className:cT("recharts-cartesian-axis-tick-line",yT()(s,"className"))})),c&&t.renderTickItem(c,b,"".concat(MT()(u)?u(e.value,n):e.value).concat(d||"")))});return i.createElement("g",{className:"recharts-cartesian-axis-ticks"},v)}},{key:"render",value:function(){var e=this,t=this.props,n=t.axisLine,r=t.width,o=t.height,a=t.ticksGenerator,s=t.className;if(t.hide)return null;var l=this.props,c=l.ticks,u=tK(l,QW),d=c;return MT()(a)&&(d=c&&c.length>0?a(this.props):a(u)),r<=0||o<=0||!d||!d.length?null:i.createElement(A_,{className:cT("recharts-cartesian-axis",s),ref:function(t){e.layerReference=t}},n&&this.renderAxisLine(),this.renderTicks(d,this.state.fontSize,this.state.letterSpacing),GB.renderCallByParent(this.props))}}],o=[{key:"renderTickItem",value:function(e,t,n){var r=cT(t.className,"recharts-cartesian-axis-tick-value");return i.isValidElement(e)?i.cloneElement(e,eK(eK({},t),{},{className:r})):MT()(e)?e(eK(eK({},t),{},{className:r})):i.createElement(AI,JW({},t,{className:"recharts-cartesian-axis-tick-value"}),n)}}],r&&nK(n.prototype,r),o&&nK(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(i.Component);function uK(e){return uK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uK(e)}function dK(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,yK(r.key),r)}}function hK(e,t,n){return t=pK(t),function(e,t){if(t&&("object"===uK(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,fK()?Reflect.construct(t,n||[],pK(e).constructor):t.apply(e,n))}function fK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(fK=function(){return!!e})()}function pK(e){return pK=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},pK(e)}function mK(e,t){return mK=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},mK(e,t)}function gK(e,t,n){return(t=yK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yK(e){var t=function(e,t){if("object"!=uK(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=uK(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==uK(t)?t:t+""}function vK(){return vK=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vK.apply(this,arguments)}function bK(e){var t=e.xAxisId,n=cq(),r=uq(),o=sq(t);return null==o?null:i.createElement(cK,vK({},o,{className:cT("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(e){return YU(e,!0)}}))}sK(cK,"displayName","CartesianAxis"),sK(cK,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var xK=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),hK(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mK(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return i.createElement(bK,this.props)}}])&&dK(n.prototype,r),o&&dK(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(i.Component);function wK(e){return wK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wK(e)}function jK(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_K(r.key),r)}}function SK(e,t,n){return t=EK(t),function(e,t){if(t&&("object"===wK(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,NK()?Reflect.construct(t,n||[],EK(e).constructor):t.apply(e,n))}function NK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(NK=function(){return!!e})()}function EK(e){return EK=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},EK(e)}function kK(e,t){return kK=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},kK(e,t)}function TK(e,t,n){return(t=_K(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _K(e){var t=function(e,t){if("object"!=wK(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=wK(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==wK(t)?t:t+""}function CK(){return CK=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},CK.apply(this,arguments)}gK(xK,"displayName","XAxis"),gK(xK,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});var OK=function(e){var t=e.yAxisId,n=cq(),r=uq(),o=lq(t);return null==o?null:i.createElement(cK,CK({},o,{className:cT("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(e){return YU(e,!0)}}))},AK=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),SK(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kK(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return i.createElement(OK,this.props)}}])&&jK(n.prototype,r),o&&jK(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(i.Component);TK(AK,"displayName","YAxis"),TK(AK,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});var PK=jW({chartName:"LineChart",GraphicalChild:UW,axisComponents:[{axisType:"xAxis",AxisComp:xK},{axisType:"yAxis",AxisComp:AK}],formatAxisMap:Az}),IK=["x1","y1","x2","y2","key"],DK=["offset"];function MK(e){return MK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},MK(e)}function RK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function LK(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?RK(Object(n),!0).forEach(function(t){FK(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RK(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function FK(e,t,n){return t=function(e){var t=function(e,t){if("object"!=MK(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=MK(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==MK(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UK(){return UK=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},UK.apply(this,arguments)}function BK(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var VK=function(e){var t=e.fill;if(!t||"none"===t)return null;var n=e.fillOpacity,r=e.x,o=e.y,a=e.width,s=e.height,l=e.ry;return i.createElement("rect",{x:r,y:o,ry:l,width:a,height:s,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function zK(e,t){var n;if(i.isValidElement(e))n=i.cloneElement(e,t);else if(MT()(e))n=e(t);else{var r=t.x1,o=t.y1,a=t.x2,s=t.y2,l=t.key,c=BK(t,IK),u=s_(c,!1),d=(u.offset,BK(u,DK));n=i.createElement("line",UK({},d,{x1:r,y1:o,x2:a,y2:s,fill:"none",key:l}))}return n}function qK(e){var t=e.x,n=e.width,r=e.horizontal,o=void 0===r||r,a=e.horizontalPoints;if(!o||!a||!a.length)return null;var s=a.map(function(r,i){var a=LK(LK({},e),{},{x1:t,y1:r,x2:t+n,y2:r,key:"line-".concat(i),index:i});return zK(o,a)});return i.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function HK(e){var t=e.y,n=e.height,r=e.vertical,o=void 0===r||r,a=e.verticalPoints;if(!o||!a||!a.length)return null;var s=a.map(function(r,i){var a=LK(LK({},e),{},{x1:r,y1:t,x2:r,y2:t+n,key:"line-".concat(i),index:i});return zK(o,a)});return i.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function WK(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,o=e.y,a=e.width,s=e.height,l=e.horizontalPoints,c=e.horizontal;if(!(void 0===c||c)||!t||!t.length)return null;var u=l.map(function(e){return Math.round(e+o-o)}).sort(function(e,t){return e-t});o!==u[0]&&u.unshift(0);var d=u.map(function(e,l){var c=!u[l+1]?o+s-e:u[l+1]-e;if(c<=0)return null;var d=l%t.length;return i.createElement("rect",{key:"react-".concat(l),y:e,x:r,height:c,width:a,stroke:"none",fill:t[d],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return i.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function KK(e){var t=e.vertical,n=void 0===t||t,r=e.verticalFill,o=e.fillOpacity,a=e.x,s=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!n||!r||!r.length)return null;var d=u.map(function(e){return Math.round(e+a-a)}).sort(function(e,t){return e-t});a!==d[0]&&d.unshift(0);var h=d.map(function(e,t){var n=!d[t+1]?a+l-e:d[t+1]-e;if(n<=0)return null;var u=t%r.length;return i.createElement("rect",{key:"react-".concat(t),x:e,y:s,width:n,height:c,stroke:"none",fill:r[u],fillOpacity:o,className:"recharts-cartesian-grid-bg"})});return i.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var GK=function(e,t){var n=e.xAxis,r=e.width,i=e.height,o=e.offset;return GU(GW(LK(LK(LK({},cK.defaultProps),n),{},{ticks:YU(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,t)},YK=function(e,t){var n=e.yAxis,r=e.width,i=e.height,o=e.offset;return GU(GW(LK(LK(LK({},cK.defaultProps),n),{},{ticks:YU(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,t)},XK={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function QK(e){var t,n,r,o,a,s,l=cq(),c=uq(),u=(0,i.useContext)(nq),d=LK(LK({},e),{},{stroke:null!==(t=e.stroke)&&void 0!==t?t:XK.stroke,fill:null!==(n=e.fill)&&void 0!==n?n:XK.fill,horizontal:null!==(r=e.horizontal)&&void 0!==r?r:XK.horizontal,horizontalFill:null!==(o=e.horizontalFill)&&void 0!==o?o:XK.horizontalFill,vertical:null!==(a=e.vertical)&&void 0!==a?a:XK.vertical,verticalFill:null!==(s=e.verticalFill)&&void 0!==s?s:XK.verticalFill,x:NT(e.x)?e.x:u.left,y:NT(e.y)?e.y:u.top,width:NT(e.width)?e.width:u.width,height:NT(e.height)?e.height:u.height}),h=d.x,f=d.y,p=d.width,m=d.height,g=d.syncWithTicks,y=d.horizontalValues,v=d.verticalValues,b=function(){var e=(0,i.useContext)(Zz);return CT(e)}(),x=function(){var e=(0,i.useContext)(eq);return Qz()(e,function(e){return ZB()(e.domain,Number.isFinite)})||CT(e)}();if(!NT(p)||p<=0||!NT(m)||m<=0||!NT(h)||h!==+h||!NT(f)||f!==+f)return null;var w=d.verticalCoordinatesGenerator||GK,j=d.horizontalCoordinatesGenerator||YK,S=d.horizontalPoints,N=d.verticalPoints;if((!S||!S.length)&&MT()(j)){var E=y&&y.length,k=j({yAxis:x?LK(LK({},x),{},{ticks:E?y:x.ticks}):void 0,width:l,height:c,offset:u},!!E||g);IT(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(MK(k),"]")),Array.isArray(k)&&(S=k)}if((!N||!N.length)&&MT()(w)){var T=v&&v.length,_=w({xAxis:b?LK(LK({},b),{},{ticks:T?v:b.ticks}):void 0,width:l,height:c,offset:u},!!T||g);IT(Array.isArray(_),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(MK(_),"]")),Array.isArray(_)&&(N=_)}return i.createElement("g",{className:"recharts-cartesian-grid"},i.createElement(VK,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),i.createElement(qK,UK({},d,{offset:u,horizontalPoints:S,xAxis:b,yAxis:x})),i.createElement(HK,UK({},d,{offset:u,verticalPoints:N,xAxis:b,yAxis:x})),i.createElement(WK,UK({},d,{horizontalPoints:S})),i.createElement(KK,UK({},d,{verticalPoints:N})))}QK.displayName="CartesianGrid";var $K=jW({chartName:"BarChart",GraphicalChild:Nz,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:xK},{axisType:"yAxis",AxisComp:AK}],formatAxisMap:Az});const JK=function(e){let{size:t=120,stroke:n=10,value:r=0,color:i="#0d6efd",label:o=""}=e;const a=(t-n)/2,s=2*Math.PI*a,l=s-r/100*s;return(0,Fe.jsxs)("div",{className:"d-inline-flex flex-column align-items-center",children:[(0,Fe.jsxs)("svg",{width:t,height:t,children:[(0,Fe.jsx)("circle",{stroke:"#e9ecef",fill:"transparent",strokeWidth:n,r:a,cx:t/2,cy:t/2}),(0,Fe.jsx)(EN.circle,{stroke:i,fill:"transparent",strokeWidth:n,strokeLinecap:"round",r:a,cx:t/2,cy:t/2,initial:{strokeDasharray:s,strokeDashoffset:s},animate:{strokeDasharray:s,strokeDashoffset:l},transition:{duration:1,ease:"easeOut"}}),(0,Fe.jsxs)("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"fw-semibold",style:{fontSize:16},children:[Math.round(r),"%"]})]}),o?(0,Fe.jsx)("div",{className:"small text-muted mt-1",children:o}):null]})};const ZK=function(e){let{userRole:t,onSendDrillAnnouncement:n,onSendEmergencyAlert:r}=e;const[o,a]=(0,i.useState)(""),[s,l]=(0,i.useState)(""),[c,u]=(0,i.useState)(!1);return(0,Fe.jsx)("div",{className:"card shadow-sm",children:(0,Fe.jsxs)("div",{className:"card-body",children:[(0,Fe.jsxs)("h5",{className:"card-title d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-broadcast text-primary"}),"Real-time Communication"]}),(0,Fe.jsx)("p",{className:"text-muted small mb-3",children:"admin"===t?"Enable broadcast messaging to students, parents, and staff during incidents.":"Send drill announcements to your classes and students."}),(0,Fe.jsxs)("div",{className:"mb-4",children:[(0,Fe.jsx)("label",{className:"form-label fw-semibold",children:"Drill Announcement"}),(0,Fe.jsx)("textarea",{className:"form-control",rows:"3",placeholder:"Enter drill announcement message...",value:o,onChange:e=>a(e.target.value),disabled:c}),(0,Fe.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-2",children:[(0,Fe.jsxs)("small",{className:"text-muted",children:[o.length,"/500 characters"]}),(0,Fe.jsx)("button",{className:"btn btn-warning btn-sm",onClick:async()=>{if(o.trim()){u(!0);try{const e=await fetch("http://localhost:5000/api/drill-announcements",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:"Drill Announcement",message:o,drillType:"fire",priority:"normal",targetClasses:["all"],teacherName:"Admin",institution:"BML Munjal University"})});(await e.json()).success&&(a(""),alert("Drill announcement sent successfully!"))}catch(e){console.error("Error sending drill announcement:",e),alert("Error sending drill announcement")}finally{u(!1)}}},disabled:!o.trim()||c,children:c?(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("span",{className:"spinner-border spinner-border-sm me-1",role:"status"}),"Sending..."]}):(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("i",{className:"bi bi-bell me-1"}),"Send Drill Announcement"]})})]})]}),"admin"===t&&(0,Fe.jsxs)("div",{className:"border-top pt-3",children:[(0,Fe.jsx)("label",{className:"form-label fw-semibold text-danger",children:"Emergency Alert"}),(0,Fe.jsx)("textarea",{className:"form-control",rows:"3",placeholder:"Enter emergency alert message...",value:s,onChange:e=>l(e.target.value),disabled:c}),(0,Fe.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-2",children:[(0,Fe.jsxs)("small",{className:"text-muted",children:[s.length,"/500 characters"]}),(0,Fe.jsx)("button",{className:"btn btn-danger btn-sm",onClick:async()=>{if(s.trim()){u(!0);try{const e=await fetch("http://localhost:5000/api/emergency-alerts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:"Emergency Alert",message:s,severity:"high",region:"All Regions",affectedAreas:["All Areas"]})});(await e.json()).success&&(l(""),alert("Emergency alert sent successfully!"))}catch(e){console.error("Error sending emergency alert:",e),alert("Error sending emergency alert")}finally{u(!1)}}},disabled:!s.trim()||c,children:c?(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("span",{className:"spinner-border spinner-border-sm me-1",role:"status"}),"Sending..."]}):(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("i",{className:"bi bi-exclamation-triangle me-1"}),"Send Emergency Alert"]})})]})]})]})})};const eG=function(e){let{onSaveAlert:t,onCancel:n}=e;const[r,o]=(0,i.useState)({title:"",description:"",alertType:"earthquake",severity:"medium",region:"",coordinates:{lat:"",lng:""},affectedAreas:[],validFrom:"",validUntil:"",isActive:!0,priority:"normal"}),[a,s]=(0,i.useState)({}),[l,c]=(0,i.useState)(!1),u=[{value:"earthquake",label:"Earthquake",icon:"\ud83c\udf0d",color:"danger"},{value:"flood",label:"Flood",icon:"\ud83c\udf0a",color:"info"},{value:"fire",label:"Fire",icon:"\ud83d\udd25",color:"danger"},{value:"cyclone",label:"Cyclone",icon:"\ud83c\udf00",color:"warning"},{value:"landslide",label:"Landslide",icon:"\u26f0\ufe0f",color:"warning"},{value:"tsunami",label:"Tsunami",icon:"\ud83c\udf0a",color:"danger"},{value:"drought",label:"Drought",icon:"\u2600\ufe0f",color:"warning"},{value:"general",label:"General Alert",icon:"\ud83d\udce2",color:"secondary"}],d=[{value:"low",label:"Low",color:"success",description:"Minor risk, monitor situation"},{value:"medium",label:"Medium",color:"warning",description:"Moderate risk, take precautions"},{value:"high",label:"High",color:"danger",description:"Significant risk, immediate action required"},{value:"critical",label:"Critical",color:"dark",description:"Extreme risk, evacuate immediately"}],h=e=>{const{name:t,value:n,type:r,checked:i}=e.target;if(t.includes(".")){const[e,r]=t.split(".");o(t=>lt(lt({},t),{},{[e]:lt(lt({},t[e]),{},{[r]:n})}))}else o(e=>lt(lt({},e),{},{[t]:"checkbox"===r?i:n}));a[t]&&s(e=>lt(lt({},e),{},{[t]:""}))},f=u.find(e=>e.value===r.alertType),p=d.find(e=>e.value===r.severity);return(0,Fe.jsx)("div",{className:"card shadow-sm",children:(0,Fe.jsxs)("div",{className:"card-body",children:[(0,Fe.jsxs)("h5",{className:"card-title d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-broadcast text-danger"}),"Create New Alert"]}),(0,Fe.jsx)("p",{className:"text-muted small mb-4",children:"Create and configure disaster alerts for your region. All alerts will be sent to students, teachers, and staff in real-time."}),(0,Fe.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return r.title.trim()||(e.title="Alert title is required"),r.description.trim()||(e.description="Alert description is required"),r.region||(e.region="Region is required"),r.validFrom||(e.validFrom="Valid from date is required"),r.validUntil||(e.validUntil="Valid until date is required"),r.validFrom&&r.validUntil&&new Date(r.validFrom)>=new Date(r.validUntil)&&(e.validUntil="Valid until must be after valid from date"),s(e),0===Object.keys(e).length})()){c(!0);try{const e=lt(lt({},r),{},{createdAt:(new Date).toISOString(),createdBy:"admin",status:"active"});await eT.createAlert(e);o({title:"",description:"",alertType:"earthquake",severity:"medium",region:"",coordinates:{lat:"",lng:""},affectedAreas:[],validFrom:"",validUntil:"",isActive:!0,priority:"normal"}),alert("Alert created successfully! It will be visible to all users in the alerts section.")}catch(t){console.error("Error saving alert:",t),alert("Error creating alert: "+t.message)}finally{c(!1)}}},children:[(0,Fe.jsxs)("div",{className:"row g-3 mb-3",children:[(0,Fe.jsxs)("div",{className:"col-12 col-md-6",children:[(0,Fe.jsx)("label",{className:"form-label fw-semibold",children:"Alert Type *"}),(0,Fe.jsx)("select",{className:"form-select ".concat(a.alertType?"is-invalid":""),name:"alertType",value:r.alertType,onChange:h,disabled:l,children:u.map(e=>(0,Fe.jsxs)("option",{value:e.value,children:[e.icon," ",e.label]},e.value))}),a.alertType&&(0,Fe.jsx)("div",{className:"invalid-feedback",children:a.alertType})]}),(0,Fe.jsxs)("div",{className:"col-12 col-md-6",children:[(0,Fe.jsx)("label",{className:"form-label fw-semibold",children:"Severity Level *"}),(0,Fe.jsx)("select",{className:"form-select ".concat(a.severity?"is-invalid":""),name:"severity",value:r.severity,onChange:h,disabled:l,children:d.map(e=>(0,Fe.jsxs)("option",{value:e.value,children:[e.label," - ",e.description]},e.value))}),a.severity&&(0,Fe.jsx)("div",{className:"invalid-feedback",children:a.severity})]})]}),(0,Fe.jsxs)("div",{className:"row g-3 mb-3",children:[(0,Fe.jsxs)("div",{className:"col-12",children:[(0,Fe.jsx)("label",{className:"form-label fw-semibold",children:"Alert Title *"}),(0,Fe.jsx)("input",{type:"text",className:"form-control ".concat(a.title?"is-invalid":""),name:"title",value:r.title,onChange:h,placeholder:"e.g., Landslide Risk, Flood Warning, Earthquake Alert",maxLength:100,disabled:l}),a.title&&(0,Fe.jsx)("div",{className:"invalid-feedback",children:a.title}),(0,Fe.jsxs)("small",{className:"text-muted",children:[r.title.length,"/100 characters"]})]}),(0,Fe.jsxs)("div",{className:"col-12",children:[(0,Fe.jsx)("label",{className:"form-label fw-semibold",children:"Alert Description *"}),(0,Fe.jsx)("textarea",{className:"form-control ".concat(a.description?"is-invalid":""),rows:"3",name:"description",value:r.description,onChange:h,placeholder:"Provide detailed information about the alert, affected areas, and recommended actions...",maxLength:500,disabled:l}),a.description&&(0,Fe.jsx)("div",{className:"invalid-feedback",children:a.description}),(0,Fe.jsxs)("small",{className:"text-muted",children:[r.description.length,"/500 characters"]})]})]}),(0,Fe.jsxs)("div",{className:"row g-3 mb-3",children:[(0,Fe.jsxs)("div",{className:"col-12 col-md-6",children:[(0,Fe.jsx)("label",{className:"form-label fw-semibold",children:"Region *"}),(0,Fe.jsxs)("select",{className:"form-select ".concat(a.region?"is-invalid":""),name:"region",value:r.region,onChange:h,disabled:l,children:[(0,Fe.jsx)("option",{value:"",children:"Select Region"}),["Himachal Pradesh","Assam","Bihar","Uttarakhand","Kerala","Tamil Nadu","Gujarat","Maharashtra","West Bengal","Odisha","Andhra Pradesh","Karnataka","Rajasthan","Punjab","Haryana","Delhi","Uttar Pradesh","Madhya Pradesh","Jharkhand","Chhattisgarh"].map(e=>(0,Fe.jsx)("option",{value:e,children:e},e))]}),a.region&&(0,Fe.jsx)("div",{className:"invalid-feedback",children:a.region})]}),(0,Fe.jsxs)("div",{className:"col-12 col-md-6",children:[(0,Fe.jsx)("label",{className:"form-label fw-semibold",children:"Coordinates (Optional)"}),(0,Fe.jsxs)("div",{className:"row g-2",children:[(0,Fe.jsx)("div",{className:"col-6",children:(0,Fe.jsx)("input",{type:"number",className:"form-control",name:"coordinates.lat",value:r.coordinates.lat,onChange:h,placeholder:"Latitude",step:"any",disabled:l})}),(0,Fe.jsx)("div",{className:"col-6",children:(0,Fe.jsx)("input",{type:"number",className:"form-control",name:"coordinates.lng",value:r.coordinates.lng,onChange:h,placeholder:"Longitude",step:"any",disabled:l})})]})]})]}),(0,Fe.jsxs)("div",{className:"mb-3",children:[(0,Fe.jsx)("label",{className:"form-label fw-semibold",children:"Affected Areas"}),(0,Fe.jsxs)("div",{className:"d-flex gap-2 mb-2",children:[(0,Fe.jsx)("input",{type:"text",id:"affectedAreaInput",className:"form-control",placeholder:"Enter affected area (e.g., School Zone A, Building B)",disabled:l}),(0,Fe.jsx)("button",{type:"button",className:"btn btn-outline-primary",onClick:()=>{const e=document.getElementById("affectedAreaInput").value.trim();e&&!r.affectedAreas.includes(e)&&(o(t=>lt(lt({},t),{},{affectedAreas:[...t.affectedAreas,e]})),document.getElementById("affectedAreaInput").value="")},disabled:l,children:(0,Fe.jsx)("i",{className:"bi bi-plus"})})]}),r.affectedAreas.length>0&&(0,Fe.jsx)("div",{className:"d-flex flex-wrap gap-1",children:r.affectedAreas.map((e,t)=>(0,Fe.jsxs)("span",{className:"badge bg-primary d-flex align-items-center gap-1",children:[e,(0,Fe.jsx)("button",{type:"button",className:"btn-close btn-close-white",style:{fontSize:"0.7rem"},onClick:()=>(e=>{o(t=>lt(lt({},t),{},{affectedAreas:t.affectedAreas.filter(t=>t!==e)}))})(e),disabled:l})]},t))})]}),(0,Fe.jsxs)("div",{className:"row g-3 mb-3",children:[(0,Fe.jsxs)("div",{className:"col-12 col-md-6",children:[(0,Fe.jsx)("label",{className:"form-label fw-semibold",children:"Valid From *"}),(0,Fe.jsx)("input",{type:"datetime-local",className:"form-control ".concat(a.validFrom?"is-invalid":""),name:"validFrom",value:r.validFrom,onChange:h,disabled:l}),a.validFrom&&(0,Fe.jsx)("div",{className:"invalid-feedback",children:a.validFrom})]}),(0,Fe.jsxs)("div",{className:"col-12 col-md-6",children:[(0,Fe.jsx)("label",{className:"form-label fw-semibold",children:"Valid Until *"}),(0,Fe.jsx)("input",{type:"datetime-local",className:"form-control ".concat(a.validUntil?"is-invalid":""),name:"validUntil",value:r.validUntil,onChange:h,disabled:l}),a.validUntil&&(0,Fe.jsx)("div",{className:"invalid-feedback",children:a.validUntil})]})]}),(0,Fe.jsxs)("div",{className:"mb-4",children:[(0,Fe.jsx)("label",{className:"form-label fw-semibold",children:"Alert Preview"}),(0,Fe.jsx)("div",{className:"card border",children:(0,Fe.jsx)("div",{className:"card-body",children:(0,Fe.jsxs)("div",{className:"d-flex align-items-start gap-3",children:[(0,Fe.jsx)("div",{className:"flex-shrink-0",children:(0,Fe.jsx)("div",{className:"bg-".concat((null===f||void 0===f?void 0:f.color)||"secondary","-subtle rounded-circle d-flex align-items-center justify-content-center"),style:{width:"40px",height:"40px"},children:(0,Fe.jsx)("span",{style:{fontSize:"1.2rem"},children:(null===f||void 0===f?void 0:f.icon)||"\ud83d\udce2"})})}),(0,Fe.jsxs)("div",{className:"flex-grow-1",children:[(0,Fe.jsxs)("div",{className:"d-flex align-items-center gap-2 mb-1",children:[(0,Fe.jsx)("h6",{className:"mb-0 fw-semibold",children:r.title||"Alert Title"}),(0,Fe.jsx)("span",{className:"badge bg-".concat((null===p||void 0===p?void 0:p.color)||"secondary"),children:(null===p||void 0===p?void 0:p.label)||"Medium"})]}),(0,Fe.jsx)("div",{className:"text-muted small mb-1",children:r.validFrom?new Date(r.validFrom).toLocaleString():"Date and time"}),(0,Fe.jsx)("div",{className:"text-muted small",children:r.description||"Alert description will appear here..."})]})]})})})]}),(0,Fe.jsxs)("div",{className:"d-flex justify-content-end gap-2",children:[(0,Fe.jsx)("button",{type:"button",className:"btn btn-outline-secondary",onClick:n,disabled:l,children:"Cancel"}),(0,Fe.jsx)("button",{type:"submit",className:"btn btn-danger",disabled:l,children:l?(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status"}),"Creating Alert..."]}):(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("i",{className:"bi bi-broadcast me-2"}),"Create Alert"]})})]})]})]})})},tG=[{month:"Apr",completion:22},{month:"May",completion:38},{month:"Jun",completion:55},{month:"Jul",completion:68},{month:"Aug",completion:74},{month:"Sep",completion:81}];const nG=function(){const[e,t]=(0,i.useState)({line:getComputedStyle(document.documentElement).getPropertyValue("--chart-line").trim()||"#0d6efd",grid:getComputedStyle(document.documentElement).getPropertyValue("--chart-grid").trim()||"#e9ecef"});return(0,i.useEffect)(()=>{const e=()=>{const e=getComputedStyle(document.documentElement);t({line:e.getPropertyValue("--chart-line").trim(),grid:e.getPropertyValue("--chart-grid").trim()})};return window.addEventListener("themechange",e),()=>window.removeEventListener("themechange",e)},[]),(0,Fe.jsxs)("div",{className:"row g-3",children:[(0,Fe.jsx)("div",{className:"col-12",children:(0,Fe.jsxs)("div",{className:"alert alert-info d-flex align-items-center gap-2 py-2",role:"status","aria-live":"polite",children:[(0,Fe.jsx)("i",{className:"bi bi-info-circle","aria-hidden":"true"}),(0,Fe.jsx)("div",{className:"small",children:"Institute dashboard: track preparedness, drills, modules, and compliance. Configure alerts for your region."})]})}),(0,Fe.jsx)("div",{className:"col-12 col-xl-8",children:(0,Fe.jsx)("div",{className:"card h-100 shadow-sm",children:(0,Fe.jsxs)("div",{className:"card-body",children:[(0,Fe.jsxs)("h4",{className:"card-title d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-graph-up text-success"}),"Preparedness Completion Over Time"]}),(0,Fe.jsx)("div",{style:{height:300},children:(0,Fe.jsx)(y_,{width:"100%",height:"100%",children:(0,Fe.jsxs)(PK,{data:tG,children:[(0,Fe.jsx)(UW,{type:"monotone",dataKey:"completion",stroke:e.line||"#0d6efd",strokeWidth:3}),(0,Fe.jsx)(QK,{stroke:e.grid||"#e9ecef",strokeDasharray:"5 5"}),(0,Fe.jsx)(xK,{dataKey:"month"}),(0,Fe.jsx)(AK,{domain:[0,100],tickFormatter:e=>"".concat(e,"%")}),(0,Fe.jsx)(bC,{formatter:e=>"".concat(e,"%")})]})})})]})})}),(0,Fe.jsx)("div",{className:"col-12 col-xl-4",children:(0,Fe.jsx)("div",{className:"card h-100 shadow-sm",children:(0,Fe.jsxs)("div",{className:"card-body",children:[(0,Fe.jsxs)("h4",{className:"card-title d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-speedometer2 text-primary"}),"Snapshot"]}),(0,Fe.jsxs)("div",{className:"d-flex justify-content-around py-2",children:[(0,Fe.jsx)(JK,{value:81,label:"Preparedness",color:"#0d6efd"}),(0,Fe.jsx)(JK,{value:64,label:"Module Avg",color:"#198754"}),(0,Fe.jsx)(JK,{value:42,label:"Drill Rate",color:"#ffc107"})]})]})})}),(0,Fe.jsx)("div",{className:"col-12",children:(0,Fe.jsx)(eG,{onSaveAlert:async e=>{console.log("Saving alert:",e);const t=new CustomEvent("emergencyAlert",{detail:{type:"emergency_alert",title:e.title,message:e.description,severity:e.severity,alertType:e.alertType,region:e.region,createdAt:e.createdAt}});window.dispatchEvent(t)},onCancel:()=>console.log("Alert creation cancelled")})}),(0,Fe.jsx)("div",{className:"col-12 col-xl-6",children:(0,Fe.jsx)("div",{className:"card h-100 shadow-sm",children:(0,Fe.jsxs)("div",{className:"card-body",children:[(0,Fe.jsxs)("h5",{className:"card-title d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-clipboard-check text-warning"}),"Compliance overview"]}),(0,Fe.jsx)("div",{style:{height:250},children:(0,Fe.jsx)(y_,{width:"100%",height:"100%",children:(0,Fe.jsxs)($K,{data:[{name:"NDMA",value:76},{name:"Fire",value:62},{name:"First Aid",value:55}],children:[(0,Fe.jsx)(QK,{stroke:e.grid||"#e9ecef",strokeDasharray:"3 3"}),(0,Fe.jsx)(xK,{dataKey:"name"}),(0,Fe.jsx)(AK,{domain:[0,100]}),(0,Fe.jsx)(bC,{}),(0,Fe.jsx)(Nz,{dataKey:"value",fill:e.line||"#0d6efd",radius:[4,4,0,0]})]})})})]})})}),(0,Fe.jsx)("div",{className:"col-12",children:(0,Fe.jsx)(ZK,{userRole:"admin",onSendDrillAnnouncement:async e=>{console.log("Sending drill announcement:",e)},onSendEmergencyAlert:async e=>{console.log("Sending emergency alert:",e)}})})]})};const rG=function(e){let{onSendDrillAnnouncement:t}=e;const[n,r]=(0,i.useState)({title:"",message:"",targetClasses:[],priority:"normal",scheduledFor:"",drillType:"fire"}),[o,a]=(0,i.useState)(!1),[s,l]=(0,i.useState)(""),[c,u]=(0,i.useState)(""),d=[{id:"class1",name:"B.Sc CS - II",studentCount:45},{id:"class2",name:"B.Com - I",studentCount:38},{id:"class3",name:"B.A. - III",studentCount:42},{id:"class4",name:"M.Sc Physics",studentCount:28}],h=e=>{const{name:t,value:n}=e.target;r(e=>lt(lt({},e),{},{[t]:n})),l(""),u("")},f=n.targetClasses.length,p=n.targetClasses.reduce((e,t)=>{const n=d.find(e=>e.id===t);return e+(n?n.studentCount:0)},0);return(0,Fe.jsx)("div",{className:"card shadow-sm",children:(0,Fe.jsxs)("div",{className:"card-body",children:[(0,Fe.jsxs)("h5",{className:"card-title d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-broadcast text-primary"}),"Send Drill Announcement"]}),(0,Fe.jsx)("p",{className:"text-muted small mb-4",children:"Send drill announcements to your classes and students. They will receive real-time notifications."}),(0,Fe.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),n.title.trim()&&n.message.trim())if(0!==n.targetClasses.length){a(!0),u(""),l("");try{var i,o,s;const e=lt(lt({},n),{},{teacherId:null===(i=Cg())||void 0===i?void 0:i.uid,teacherName:null===(o=Cg())||void 0===o?void 0:o.name,institution:null===(s=Cg())||void 0===s?void 0:s.institution,createdAt:(new Date).toISOString(),status:"sent"});await t(e),l("Drill announcement sent successfully!"),r({title:"",message:"",targetClasses:[],priority:"normal",scheduledFor:"",drillType:"fire"})}catch(c){u(c.message||"Failed to send drill announcement")}finally{a(!1)}}else u("Please select at least one class");else u("Please fill in both title and message")},children:[(0,Fe.jsxs)("div",{className:"row g-3 mb-3",children:[(0,Fe.jsxs)("div",{className:"col-12",children:[(0,Fe.jsx)("label",{className:"form-label fw-semibold",children:"Announcement Title *"}),(0,Fe.jsx)("input",{type:"text",className:"form-control",name:"title",value:n.title,onChange:h,placeholder:"e.g., Fire Safety Drill - Building A",maxLength:100,disabled:o,required:!0}),(0,Fe.jsxs)("small",{className:"text-muted",children:[n.title.length,"/100 characters"]})]}),(0,Fe.jsxs)("div",{className:"col-12",children:[(0,Fe.jsx)("label",{className:"form-label fw-semibold",children:"Message *"}),(0,Fe.jsx)("textarea",{className:"form-control",rows:"4",name:"message",value:n.message,onChange:h,placeholder:"Enter your drill announcement message...",maxLength:500,disabled:o,required:!0}),(0,Fe.jsxs)("small",{className:"text-muted",children:[n.message.length,"/500 characters"]})]})]}),(0,Fe.jsxs)("div",{className:"row g-3 mb-3",children:[(0,Fe.jsxs)("div",{className:"col-12 col-md-6",children:[(0,Fe.jsx)("label",{className:"form-label fw-semibold",children:"Drill Type"}),(0,Fe.jsx)("select",{className:"form-select",name:"drillType",value:n.drillType,onChange:h,disabled:o,children:[{value:"fire",label:"Fire Safety Drill",icon:"\ud83d\udd25"},{value:"earthquake",label:"Earthquake Drill",icon:"\ud83c\udf0d"},{value:"flood",label:"Flood Safety Drill",icon:"\ud83c\udf0a"},{value:"evacuation",label:"General Evacuation",icon:"\ud83d\udea8"}].map(e=>(0,Fe.jsxs)("option",{value:e.value,children:[e.icon," ",e.label]},e.value))})]}),(0,Fe.jsxs)("div",{className:"col-12 col-md-6",children:[(0,Fe.jsx)("label",{className:"form-label fw-semibold",children:"Priority"}),(0,Fe.jsx)("select",{className:"form-select",name:"priority",value:n.priority,onChange:h,disabled:o,children:[{value:"low",label:"Low Priority",color:"success"},{value:"normal",label:"Normal Priority",color:"warning"},{value:"high",label:"High Priority",color:"danger"}].map(e=>(0,Fe.jsx)("option",{value:e.value,children:e.label},e.value))})]})]}),(0,Fe.jsxs)("div",{className:"mb-3",children:[(0,Fe.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[(0,Fe.jsx)("label",{className:"form-label fw-semibold mb-0",children:"Target Classes *"}),(0,Fe.jsxs)("div",{className:"btn-group btn-group-sm",children:[(0,Fe.jsx)("button",{type:"button",className:"btn btn-outline-primary btn-sm",onClick:()=>{r(e=>lt(lt({},e),{},{targetClasses:d.map(e=>e.id)}))},disabled:o,children:"Select All"}),(0,Fe.jsx)("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>{r(e=>lt(lt({},e),{},{targetClasses:[]}))},disabled:o,children:"Clear All"})]})]}),(0,Fe.jsx)("div",{className:"row g-2",children:d.map(e=>(0,Fe.jsx)("div",{className:"col-12 col-md-6",children:(0,Fe.jsxs)("div",{className:"form-check",children:[(0,Fe.jsx)("input",{className:"form-check-input",type:"checkbox",id:"class-".concat(e.id),checked:n.targetClasses.includes(e.id),onChange:()=>{return t=e.id,void r(e=>lt(lt({},e),{},{targetClasses:e.targetClasses.includes(t)?e.targetClasses.filter(e=>e!==t):[...e.targetClasses,t]}));var t},disabled:o}),(0,Fe.jsx)("label",{className:"form-check-label",htmlFor:"class-".concat(e.id),children:(0,Fe.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,Fe.jsx)("span",{className:"fw-medium",children:e.name}),(0,Fe.jsxs)("small",{className:"text-muted",children:[e.studentCount," students"]})]})})]})},e.id))}),f>0&&(0,Fe.jsx)("div",{className:"mt-2 p-2 bg-light rounded",children:(0,Fe.jsxs)("small",{className:"text-muted",children:[(0,Fe.jsx)("i",{className:"bi bi-info-circle me-1"}),"Selected ",f," class(es) with ",p," total students"]})})]}),(0,Fe.jsxs)("div",{className:"mb-4",children:[(0,Fe.jsx)("label",{className:"form-label fw-semibold",children:"Schedule for Later (Optional)"}),(0,Fe.jsx)("input",{type:"datetime-local",className:"form-control",name:"scheduledFor",value:n.scheduledFor,onChange:h,disabled:o}),(0,Fe.jsx)("small",{className:"text-muted",children:"Leave empty to send immediately"})]}),s&&(0,Fe.jsxs)("div",{className:"alert alert-success alert-dismissible fade show",role:"alert",children:[(0,Fe.jsx)("i",{className:"bi bi-check-circle me-2"}),s,(0,Fe.jsx)("button",{type:"button",className:"btn-close",onClick:()=>l("")})]}),c&&(0,Fe.jsxs)("div",{className:"alert alert-danger alert-dismissible fade show",role:"alert",children:[(0,Fe.jsx)("i",{className:"bi bi-exclamation-triangle me-2"}),c,(0,Fe.jsx)("button",{type:"button",className:"btn-close",onClick:()=>u("")})]}),(0,Fe.jsxs)("div",{className:"d-flex justify-content-end gap-2",children:[(0,Fe.jsx)("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>r({title:"",message:"",targetClasses:[],priority:"normal",scheduledFor:"",drillType:"fire"}),disabled:o,children:"Reset"}),(0,Fe.jsx)("button",{type:"submit",className:"btn btn-warning",disabled:o||!n.title.trim()||!n.message.trim()||0===n.targetClasses.length,children:o?(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status"}),"Sending..."]}):(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("i",{className:"bi bi-bell me-2"}),"Send Drill Announcement"]})})]})]})]})})};const iG=new class{constructor(){this.baseURL={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:5000/api",this.token=localStorage.getItem("token")}setToken(e){this.token=e,localStorage.setItem("token",e)}async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n="".concat(this.baseURL).concat(e),r=lt({headers:lt({"Content-Type":"application/json"},this.token&&{Authorization:"Bearer ".concat(this.token)})},t);try{const e=await fetch(n,r),t=await e.json();if(!e.ok)throw new Error(t.message||"Something went wrong");return t}catch(i){throw console.error("Drill Announcement API Error:",i),i}}async sendDrillAnnouncement(e){try{const t=await this.request("/drill-announcements",{method:"POST",body:JSON.stringify(e)});return this.simulateRealTimeNotification(t.data),t}catch(t){throw new Error("Failed to send drill announcement: "+t.message)}}async getTeacherAnnouncements(e){try{return(await this.request("/drill-announcements?teacherId=".concat(e))).data.announcements}catch(t){throw new Error("Failed to fetch announcements: "+t.message)}}async getStudentAnnouncements(e){try{return(await this.request("/drill-announcements")).data.announcements}catch(t){throw new Error("Failed to fetch announcements: "+t.message)}}simulateRealTimeNotification(e){const t=new CustomEvent("drillAnnouncement",{detail:{type:"drill_announcement",title:e.title,message:e.message,drillType:e.drillType,priority:e.priority,teacherName:e.teacherName,sentAt:e.sentAt}});window.dispatchEvent(t),"granted"===Notification.permission&&new Notification("Drill Announcement: ".concat(e.title),{body:e.message,icon:"/favicon.ico",tag:"drill-announcement"})}async requestNotificationPermission(){if("Notification"in window){return"granted"===await Notification.requestPermission()}return!1}async getAnnouncementStats(e){try{const t=JSON.parse(localStorage.getItem("drillAnnouncements")||"[]").filter(t=>t.teacherId===e),n={total:t.length,thisWeek:t.filter(e=>{const t=new Date;return t.setDate(t.getDate()-7),new Date(e.sentAt)>t}).length,byType:{},byPriority:{}};return t.forEach(e=>{n.byType[e.drillType]=(n.byType[e.drillType]||0)+1,n.byPriority[e.priority]=(n.byPriority[e.priority]||0)+1}),n}catch(t){throw new Error("Failed to fetch announcement stats: "+t.message)}}};const oG=function(e){let{onClose:t,onSuccess:n}=e;const[r,o]=(0,i.useState)({title:"",description:"",dueDate:"",estimatedTime:"25 minutes",targetClasses:[],videoFile:null,pdfFile:null}),[a,s]=(0,i.useState)(!1),[l,c]=(0,i.useState)({video:0,pdf:0}),[u,d]=(0,i.useState)({}),h=Cg(),f=e=>{const{name:t,value:n}=e.target;o(e=>lt(lt({},e),{},{[t]:n})),u[t]&&d(e=>lt(lt({},e),{},{[t]:""}))},p=(e,t)=>{const n=e.target.files[0];if(n){const e="video"===t?52428800:10485760;if(n.size>e)return void d(e=>lt(lt({},e),{},{[t]:"File size must be less than ".concat("video"===t?"50MB":"10MB")}));if(!("video"===t?["video/mp4","video/avi","video/mov","video/wmv"]:["application/pdf"]).includes(n.type))return void d(e=>lt(lt({},e),{},{[t]:"Please select a valid ".concat("video"===t?"video":"PDF"," file")}));o(e=>lt(lt({},e),{},{["video"===t?"videoFile":"pdfFile"]:n})),d(e=>lt(lt({},e),{},{[t]:""}))}},m=async(e,t)=>{const n=new FormData;n.append("file",e),n.append("type",t);const r=await fetch("http://localhost:5000/api/upload",{method:"POST",body:n});if(!r.ok)throw new Error("Failed to upload ".concat(t));return r.json()},g=async e=>{if(e.preventDefault(),(()=>{const e={};return r.title.trim()||(e.title="Title is required"),r.description.trim()||(e.description="Description is required"),r.dueDate||(e.dueDate="Due date is required"),0===r.targetClasses.length&&(e.targetClasses="Please select at least one class"),r.videoFile||r.pdfFile||(e.files="Please upload at least one file (video or PDF)"),d(e),0===Object.keys(e).length})()){s(!0),c({video:0,pdf:0});try{const e={title:r.title,description:r.description,dueDate:r.dueDate,estimatedTime:r.estimatedTime,targetClasses:r.targetClasses,teacherName:(null===h||void 0===h?void 0:h.name)||"Teacher",teacherId:null===h||void 0===h?void 0:h.uid,institution:(null===h||void 0===h?void 0:h.institution)||"BML Munjal University",files:{video:null,pdf:null}};if(r.videoFile){c(e=>lt(lt({},e),{},{video:50}));const t=await m(r.videoFile,"video");e.files.video={filename:t.filename,originalName:r.videoFile.name,url:t.url,size:r.videoFile.size,type:r.videoFile.type},c(e=>lt(lt({},e),{},{video:100}))}if(r.pdfFile){c(e=>lt(lt({},e),{},{pdf:50}));const t=await m(r.pdfFile,"pdf");e.files.pdf={filename:t.filename,originalName:r.pdfFile.name,url:t.url,size:r.pdfFile.size,type:r.pdfFile.type},c(e=>lt(lt({},e),{},{pdf:100}))}await Kk.assignModule(e),n("Module assigned successfully with files!"),t()}catch(i){console.error("Error assigning module:",i),alert("Error assigning module: "+i.message)}finally{s(!1)}}},y=e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]};return(0,Fe.jsx)("div",{className:"modal fade show",style:{display:"block"},tabIndex:"-1",children:(0,Fe.jsx)("div",{className:"modal-dialog modal-lg",children:(0,Fe.jsxs)("div",{className:"modal-content",children:[(0,Fe.jsxs)("div",{className:"modal-header",children:[(0,Fe.jsxs)("h5",{className:"modal-title",children:[(0,Fe.jsx)("i",{className:"bi bi-journal-plus me-2"}),"Assign Module with Files"]}),(0,Fe.jsx)("button",{type:"button",className:"btn-close",onClick:t})]}),(0,Fe.jsx)("div",{className:"modal-body",children:(0,Fe.jsx)("form",{onSubmit:g,children:(0,Fe.jsxs)("div",{className:"row g-3",children:[(0,Fe.jsxs)("div",{className:"col-12",children:[(0,Fe.jsx)("label",{className:"form-label",children:"Module Title *"}),(0,Fe.jsx)("input",{type:"text",className:"form-control ".concat(u.title?"is-invalid":""),name:"title",value:r.title,onChange:f,placeholder:"Enter module title"}),u.title&&(0,Fe.jsx)("div",{className:"invalid-feedback",children:u.title})]}),(0,Fe.jsxs)("div",{className:"col-12",children:[(0,Fe.jsx)("label",{className:"form-label",children:"Description *"}),(0,Fe.jsx)("textarea",{className:"form-control ".concat(u.description?"is-invalid":""),name:"description",value:r.description,onChange:f,rows:"3",placeholder:"Enter module description"}),u.description&&(0,Fe.jsx)("div",{className:"invalid-feedback",children:u.description})]}),(0,Fe.jsxs)("div",{className:"col-md-6",children:[(0,Fe.jsx)("label",{className:"form-label",children:"Due Date *"}),(0,Fe.jsx)("input",{type:"date",className:"form-control ".concat(u.dueDate?"is-invalid":""),name:"dueDate",value:r.dueDate,onChange:f,min:(new Date).toISOString().split("T")[0]}),u.dueDate&&(0,Fe.jsx)("div",{className:"invalid-feedback",children:u.dueDate})]}),(0,Fe.jsxs)("div",{className:"col-md-6",children:[(0,Fe.jsx)("label",{className:"form-label",children:"Estimated Time"}),(0,Fe.jsxs)("select",{className:"form-select",name:"estimatedTime",value:r.estimatedTime,onChange:f,children:[(0,Fe.jsx)("option",{value:"15 minutes",children:"15 minutes"}),(0,Fe.jsx)("option",{value:"25 minutes",children:"25 minutes"}),(0,Fe.jsx)("option",{value:"30 minutes",children:"30 minutes"}),(0,Fe.jsx)("option",{value:"45 minutes",children:"45 minutes"}),(0,Fe.jsx)("option",{value:"1 hour",children:"1 hour"}),(0,Fe.jsx)("option",{value:"1.5 hours",children:"1.5 hours"}),(0,Fe.jsx)("option",{value:"2 hours",children:"2 hours"})]})]}),(0,Fe.jsxs)("div",{className:"col-12",children:[(0,Fe.jsx)("label",{className:"form-label",children:"Target Classes *"}),(0,Fe.jsx)("div",{className:"row g-2",children:["B.Sc CS - II","B.Com - I","B.A. - III"].map(e=>(0,Fe.jsx)("div",{className:"col-md-4",children:(0,Fe.jsxs)("div",{className:"form-check",children:[(0,Fe.jsx)("input",{className:"form-check-input",type:"checkbox",id:e,checked:r.targetClasses.includes(e),onChange:()=>(e=>{o(t=>lt(lt({},t),{},{targetClasses:t.targetClasses.includes(e)?t.targetClasses.filter(t=>t!==e):[...t.targetClasses,e]}))})(e)}),(0,Fe.jsx)("label",{className:"form-check-label",htmlFor:e,children:e})]})},e))}),u.targetClasses&&(0,Fe.jsx)("div",{className:"text-danger small",children:u.targetClasses})]}),(0,Fe.jsxs)("div",{className:"col-12",children:[(0,Fe.jsx)("label",{className:"form-label",children:"Upload Files *"}),(0,Fe.jsxs)("div",{className:"row g-3",children:[(0,Fe.jsx)("div",{className:"col-md-6",children:(0,Fe.jsxs)("div",{className:"border rounded p-3",children:[(0,Fe.jsxs)("h6",{className:"text-primary",children:[(0,Fe.jsx)("i",{className:"bi bi-camera-video me-2"}),"Video File"]}),(0,Fe.jsx)("input",{type:"file",className:"form-control",accept:"video/*",onChange:e=>p(e,"video")}),r.videoFile&&(0,Fe.jsxs)("div",{className:"mt-2",children:[(0,Fe.jsxs)("small",{className:"text-muted",children:[(0,Fe.jsx)("i",{className:"bi bi-file-earmark-play me-1"}),r.videoFile.name," (",y(r.videoFile.size),")"]}),l.video>0&&(0,Fe.jsx)("div",{className:"progress mt-1",style:{height:"4px"},children:(0,Fe.jsx)("div",{className:"progress-bar",style:{width:"".concat(l.video,"%")}})})]}),u.video&&(0,Fe.jsx)("div",{className:"text-danger small",children:u.video})]})}),(0,Fe.jsx)("div",{className:"col-md-6",children:(0,Fe.jsxs)("div",{className:"border rounded p-3",children:[(0,Fe.jsxs)("h6",{className:"text-danger",children:[(0,Fe.jsx)("i",{className:"bi bi-file-pdf me-2"}),"PDF File"]}),(0,Fe.jsx)("input",{type:"file",className:"form-control",accept:".pdf",onChange:e=>p(e,"pdf")}),r.pdfFile&&(0,Fe.jsxs)("div",{className:"mt-2",children:[(0,Fe.jsxs)("small",{className:"text-muted",children:[(0,Fe.jsx)("i",{className:"bi bi-file-earmark-pdf me-1"}),r.pdfFile.name," (",y(r.pdfFile.size),")"]}),l.pdf>0&&(0,Fe.jsx)("div",{className:"progress mt-1",style:{height:"4px"},children:(0,Fe.jsx)("div",{className:"progress-bar bg-danger",style:{width:"".concat(l.pdf,"%")}})})]}),u.pdf&&(0,Fe.jsx)("div",{className:"text-danger small",children:u.pdf})]})})]}),u.files&&(0,Fe.jsx)("div",{className:"text-danger small",children:u.files}),(0,Fe.jsxs)("small",{className:"text-muted",children:[(0,Fe.jsx)("i",{className:"bi bi-info-circle me-1"}),"Upload at least one file. Video files (max 50MB), PDF files (max 10MB)."]})]})]})})}),(0,Fe.jsxs)("div",{className:"modal-footer",children:[(0,Fe.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:t,disabled:a,children:"Cancel"}),(0,Fe.jsx)("button",{type:"button",className:"btn btn-primary",onClick:g,disabled:a,children:a?(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status"}),"Assigning Module..."]}):(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("i",{className:"bi bi-send me-2"}),"Assign Module"]})})]})]})})})};const aG=function(){const[e,t]=(0,i.useState)("overview"),[n,r]=(0,i.useState)(!1),[o,a]=(0,i.useState)(!1),[s,l]=(0,i.useState)(""),[c,u]=(0,i.useState)(!1),d=Cg();return(0,Fe.jsxs)("div",{className:"row g-3",children:[(0,Fe.jsx)("div",{className:"col-12 col-xxl-8",children:(0,Fe.jsx)("div",{className:"card shadow-sm h-100",children:(0,Fe.jsxs)("div",{className:"card-body",children:[(0,Fe.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[(0,Fe.jsxs)("h4",{className:"card-title d-flex align-items-center gap-2 mb-0",children:[(0,Fe.jsx)("i",{className:"bi bi-person-video3 text-success"}),"Teacher Dashboard"]}),(0,Fe.jsxs)("div",{className:"d-flex gap-2",children:[(0,Fe.jsxs)(Ie,{className:"btn btn-outline-primary btn-sm",to:"/learn","aria-label":"Assign a learning module to classes",children:[(0,Fe.jsx)("i",{className:"bi bi-journal-plus me-1"}),"Assign module"]}),(0,Fe.jsxs)(Ie,{className:"btn btn-outline-success btn-sm",to:"/drills","aria-label":"Schedule a safety drill",children:[(0,Fe.jsx)("i",{className:"bi bi-flag me-1"}),"Schedule drill"]})]})]}),(0,Fe.jsxs)("ul",{className:"nav nav-pills small mb-3",children:[(0,Fe.jsx)("li",{className:"nav-item",children:(0,Fe.jsx)("button",{className:"nav-link ".concat("overview"===e?"active":""),onClick:()=>t("overview"),children:"Overview"})}),(0,Fe.jsx)("li",{className:"nav-item",children:(0,Fe.jsx)("button",{className:"nav-link ".concat("assignments"===e?"active":""),onClick:()=>t("assignments"),children:"Assignments"})}),(0,Fe.jsx)("li",{className:"nav-item",children:(0,Fe.jsx)("button",{className:"nav-link ".concat("drills"===e?"active":""),onClick:()=>t("drills"),children:"Drills"})}),(0,Fe.jsx)("li",{className:"nav-item",children:(0,Fe.jsx)("button",{className:"nav-link ".concat("communication"===e?"active":""),onClick:()=>t("communication"),children:"Send Announcement"})}),(0,Fe.jsx)("li",{className:"nav-item",children:(0,Fe.jsx)("button",{className:"nav-link ".concat("analytics"===e?"active":""),onClick:()=>t("analytics"),children:"Analytics"})})]}),s&&(0,Fe.jsxs)("div",{className:"alert alert-success alert-dismissible fade show mb-3",role:"alert",children:[(0,Fe.jsx)("i",{className:"bi bi-check-circle me-2"}),s,(0,Fe.jsx)("button",{type:"button",className:"btn-close",onClick:()=>l("")})]}),"overview"===e&&(0,Fe.jsxs)("div",{className:"row g-3",children:[(0,Fe.jsx)("div",{className:"col-12 col-md-6",children:(0,Fe.jsxs)("div",{className:"border rounded-3 p-3 h-100",children:[(0,Fe.jsx)("div",{className:"fw-semibold mb-1",children:"Recommended next module"}),(0,Fe.jsx)("div",{className:"text-muted small mb-2",children:"Flood preparedness \u2022 Estimated 25 min"}),(0,Fe.jsxs)("button",{className:"btn btn-primary btn-sm",type:"button",onClick:()=>{u(!0)},"aria-label":"Assign recommended module to selected classes",children:[(0,Fe.jsx)("i",{className:"bi bi-send me-1"}),"Assign to classes"]})]})}),(0,Fe.jsx)("div",{className:"col-12 col-md-6",children:(0,Fe.jsxs)("div",{className:"border rounded-3 p-3 h-100",children:[(0,Fe.jsx)("div",{className:"fw-semibold mb-1",children:"Upcoming drill slot"}),(0,Fe.jsx)("div",{className:"text-muted small mb-2",children:"Friday \u2022 10:30 AM \u2022 Building A"}),(0,Fe.jsx)("button",{className:"btn btn-success btn-sm",type:"button",onClick:async()=>{a(!0),l("");try{const e={title:"Fire Safety Drill - Building A",description:"Emergency fire evacuation drill for all students and staff.",scheduledDate:"2024-09-27",scheduledTime:"10:30",location:"Building A",drillType:"Fire Safety",targetClasses:["B.Sc CS - II","B.Com - I","B.A. - III"],teacherName:(null===d||void 0===d?void 0:d.name)||"Teacher",teacherId:null===d||void 0===d?void 0:d.uid,institution:(null===d||void 0===d?void 0:d.institution)||"BML Munjal University"};await Kk.confirmDrill(e),l("Drill confirmed successfully! Students will be notified."),setTimeout(()=>l(""),3e3)}catch(e){console.error("Error confirming drill:",e),alert("Error confirming drill: "+e.message)}finally{a(!1)}},disabled:o,"aria-label":"Confirm scheduled drill slot",children:o?(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("span",{className:"spinner-border spinner-border-sm me-1",role:"status"}),"Confirming..."]}):(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("i",{className:"bi bi-calendar-check me-1"}),"Confirm drill"]})})]})})]}),"assignments"===e&&(0,Fe.jsxs)("div",{className:"border rounded-3 p-3",children:[(0,Fe.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[(0,Fe.jsx)("div",{className:"fw-semibold",children:"Assignments"}),(0,Fe.jsxs)("button",{className:"btn btn-primary btn-sm","aria-label":"Create a new assignment",children:[(0,Fe.jsx)("i",{className:"bi bi-plus-lg me-1"}),"Create assignment"]})]}),(0,Fe.jsx)("div",{className:"table-responsive",children:(0,Fe.jsxs)("table",{className:"table table-sm align-middle",children:[(0,Fe.jsx)("thead",{children:(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("th",{children:"Module"}),(0,Fe.jsx)("th",{children:"Class"}),(0,Fe.jsx)("th",{children:"Due date"}),(0,Fe.jsx)("th",{children:"Status"}),(0,Fe.jsx)("th",{className:"text-end",children:"Actions"})]})}),(0,Fe.jsxs)("tbody",{children:[(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("td",{children:"Earthquake Safety"}),(0,Fe.jsx)("td",{children:"B.Sc CS - II"}),(0,Fe.jsx)("td",{children:"Sep 25"}),(0,Fe.jsx)("td",{children:(0,Fe.jsx)("span",{className:"badge bg-warning-subtle text-warning border",children:"Open"})}),(0,Fe.jsx)("td",{className:"text-end",children:(0,Fe.jsx)("button",{className:"btn btn-outline-secondary btn-sm",children:"Manage"})})]}),(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("td",{children:"Fire Safety"}),(0,Fe.jsx)("td",{children:"B.Com - I"}),(0,Fe.jsx)("td",{children:"Sep 20"}),(0,Fe.jsx)("td",{children:(0,Fe.jsx)("span",{className:"badge bg-success-subtle text-success border",children:"Completed"})}),(0,Fe.jsx)("td",{className:"text-end",children:(0,Fe.jsx)("button",{className:"btn btn-outline-secondary btn-sm",children:"Review"})})]})]})]})})]}),"drills"===e&&(0,Fe.jsxs)("div",{className:"border rounded-3 p-3",children:[(0,Fe.jsx)("div",{className:"fw-semibold mb-2",children:"Drill Scheduler"}),(0,Fe.jsxs)("div",{className:"row g-2",children:[(0,Fe.jsxs)("div",{className:"col-12 col-md-4",children:[(0,Fe.jsx)("label",{className:"form-label small",children:"Type"}),(0,Fe.jsxs)("select",{className:"form-select form-select-sm",children:[(0,Fe.jsx)("option",{children:"Fire"}),(0,Fe.jsx)("option",{children:"Earthquake"}),(0,Fe.jsx)("option",{children:"Flood"})]})]}),(0,Fe.jsxs)("div",{className:"col-12 col-md-4",children:[(0,Fe.jsx)("label",{className:"form-label small",children:"Date"}),(0,Fe.jsx)("input",{type:"date",className:"form-control form-control-sm"})]}),(0,Fe.jsxs)("div",{className:"col-12 col-md-4",children:[(0,Fe.jsx)("label",{className:"form-label small",children:"Class"}),(0,Fe.jsxs)("select",{className:"form-select form-select-sm",children:[(0,Fe.jsx)("option",{children:"B.Sc CS - II"}),(0,Fe.jsx)("option",{children:"B.Com - I"}),(0,Fe.jsx)("option",{children:"B.A. - III"})]})]})]}),(0,Fe.jsxs)("button",{className:"btn btn-success btn-sm mt-2",children:[(0,Fe.jsx)("i",{className:"bi bi-flag me-1"}),"Schedule Drill"]})]}),"communication"===e&&(0,Fe.jsx)("div",{className:"border rounded-3 p-3",children:(0,Fe.jsx)(rG,{onSendDrillAnnouncement:async e=>{try{const t=await iG.sendDrillAnnouncement(e);return console.log("Drill announcement sent:",t),t}catch(t){throw console.error("Error sending drill announcement:",t),t}}})}),"analytics"===e&&(0,Fe.jsxs)("div",{className:"row g-3",children:[(0,Fe.jsx)("div",{className:"col-12 col-md-6",children:(0,Fe.jsxs)("div",{className:"border rounded-3 p-3 h-100",children:[(0,Fe.jsx)("div",{className:"fw-semibold mb-1",children:"Module Completion"}),(0,Fe.jsx)("div",{className:"text-muted small",children:"Last 30 days \u2022 trend improving"})]})}),(0,Fe.jsx)("div",{className:"col-12 col-md-6",children:(0,Fe.jsxs)("div",{className:"border rounded-3 p-3 h-100",children:[(0,Fe.jsx)("div",{className:"fw-semibold mb-1",children:"Drill Participation"}),(0,Fe.jsx)("div",{className:"text-muted small",children:"Avg 78% \u2022 target 85%"})]})})]})]})})}),(0,Fe.jsx)("div",{className:"col-12 col-xxl-4",children:(0,Fe.jsx)("div",{className:"card shadow-sm h-100",children:(0,Fe.jsxs)("div",{className:"card-body",children:[(0,Fe.jsxs)("h5",{className:"card-title d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-people text-primary"}),"Class Snapshot"]}),(0,Fe.jsxs)("div",{className:"d-flex flex-column small gap-2",children:[(0,Fe.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,Fe.jsx)("span",{children:"Avg completion"}),(0,Fe.jsx)("span",{className:"fw-semibold",children:"64%"})]}),(0,Fe.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,Fe.jsx)("span",{children:"Last drill participation"}),(0,Fe.jsx)("span",{className:"fw-semibold",children:"78%"})]}),(0,Fe.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,Fe.jsx)("span",{children:"At-risk students"}),(0,Fe.jsx)("span",{className:"fw-semibold text-danger",children:"5"})]})]})]})})}),(0,Fe.jsx)("div",{className:"col-12",children:(0,Fe.jsx)("div",{className:"card shadow-sm",children:(0,Fe.jsxs)("div",{className:"card-body",children:[(0,Fe.jsxs)("h5",{className:"card-title d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-clipboard-data text-warning"}),"Your Classes"]}),(0,Fe.jsx)("div",{className:"table-responsive",children:(0,Fe.jsxs)("table",{className:"table align-middle small",children:[(0,Fe.jsx)("thead",{children:(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("th",{children:"Class"}),(0,Fe.jsx)("th",{children:"Avg Completion"}),(0,Fe.jsx)("th",{children:"Last Drill"}),(0,Fe.jsx)("th",{children:"Participation"}),(0,Fe.jsx)("th",{})]})}),(0,Fe.jsx)("tbody",{children:[{name:"B.Sc CS - II",completion:72,lastDrill:"Fire Evacuation",participation:84},{name:"B.Com - I",completion:58,lastDrill:"Earthquake Drop-Cover-Hold",participation:76},{name:"B.A. - III",completion:64,lastDrill:"Flood Safety Briefing",participation:69}].map(e=>(0,Fe.jsxs)("tr",{children:[(0,Fe.jsx)("td",{className:"fw-semibold",children:e.name}),(0,Fe.jsxs)("td",{children:[e.completion,"%"]}),(0,Fe.jsx)("td",{children:e.lastDrill}),(0,Fe.jsxs)("td",{children:[e.participation,"%"]}),(0,Fe.jsxs)("td",{className:"text-end",children:[(0,Fe.jsxs)("button",{className:"btn btn-outline-primary btn-sm me-2","aria-label":"Assign module to ".concat(e.name),children:[(0,Fe.jsx)("i",{className:"bi bi-journal-text me-1"}),"Assign module"]}),(0,Fe.jsxs)("button",{className:"btn btn-outline-success btn-sm","aria-label":"Schedule drill for ".concat(e.name),children:[(0,Fe.jsx)("i",{className:"bi bi-flag me-1"}),"Schedule drill"]})]})]},e.name))})]})})]})})}),c&&(0,Fe.jsx)(oG,{onClose:()=>u(!1),onSuccess:e=>{l(e),u(!1),setTimeout(()=>l(""),3e3)}})]})};const sG=function(){const e=ee(),[t,n]=(0,i.useState)("login"),[r,o]=(0,i.useState)(""),[a,s]=(0,i.useState)(""),[l,c]=(0,i.useState)(""),[u,d]=(0,i.useState)(""),[h,f]=(0,i.useState)(!1),[p,m]=(0,i.useState)(""),[g,y]=(0,i.useState)(""),[v,b]=(0,i.useState)(""),[x,w]=(0,i.useState)(""),[j,S]=(0,i.useState)(!1);return(0,Fe.jsx)("div",{className:"min-vh-100 d-flex align-items-center justify-content-center",style:{background:"radial-gradient(1200px 500px at 10% 10%, #e3f2fd 0%, rgba(227,242,253,0) 70%), radial-gradient(1000px 400px at 90% 20%, #fff3cd 0%, rgba(255,243,205,0) 60%), linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%)"},children:(0,Fe.jsx)("div",{className:"container",style:{maxWidth:1040},children:(0,Fe.jsxs)("div",{className:"row g-3 align-items-center",children:[(0,Fe.jsx)("div",{className:"col-12 col-lg-6",children:(0,Fe.jsxs)("div",{className:"p-4 p-md-5 rounded-4 bg-white border shadow h-100",children:[(0,Fe.jsxs)("div",{className:"d-flex align-items-center justify-content-between mb-3",children:[(0,Fe.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-shield-fill-exclamation text-danger"}),(0,Fe.jsx)("h4",{className:"mb-0",children:"D-Prep"})]}),(0,Fe.jsx)("span",{className:"badge bg-primary-subtle text-primary border small",children:"Secure Access"})]}),(0,Fe.jsxs)("div",{className:"btn-group mb-3 w-100",role:"group",children:[(0,Fe.jsx)("button",{type:"button",className:"btn btn-".concat("login"===t?"primary":"outline-primary"),onClick:()=>n("login"),children:"Login"}),(0,Fe.jsx)("button",{type:"button",className:"btn btn-".concat("signup"===t?"primary":"outline-primary"),onClick:()=>n("signup"),children:"Sign up"})]}),v&&(0,Fe.jsx)("div",{className:"alert alert-danger py-2",children:v}),x&&(0,Fe.jsx)("div",{className:"alert alert-success py-2",children:x}),(0,Fe.jsxs)("form",{className:"d-grid gap-3",onSubmit:async n=>{n.preventDefault(),b(""),w("");try{if("login"===t){const t=await Ag(a.trim(),l);console.log("Auth.jsx - User after login:",t),console.log("Auth.jsx - User role:",t.role),"admin"===t.role?(console.log("Auth.jsx - Redirecting to admin dashboard"),e("/admin",{replace:!0})):"teacher"===t.role?(console.log("Auth.jsx - Redirecting to teacher dashboard"),e("/teacher",{replace:!0})):(console.log("Auth.jsx - Redirecting to home (student)"),e("/",{replace:!0}))}else{if(l!==u)throw new Error("Passwords do not match");await async function(e,t,n,r){let{institution:i,phone:o}=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(!e||!t||!n)throw new Error("Missing details");try{const a=(await No(Ng,t,n)).user,s=r||Ig(t),l={name:e,email:t,role:s,institution:i||"",phone:o||"",createdAt:(new Date).toISOString()};await xg(Dm(Eg,"users",a.uid),l);const c={uid:a.uid,email:a.email,role:s,name:e,institution:i||"",phone:o||""};return _g(c),c}catch(v){throw new Error(v.message)}}(r.trim(),a.trim(),l,"student",{institution:p.trim(),phone:g.trim()});e("/",{replace:!0})}}catch(AG){b(AG.message||"Authentication failed")}},children:["signup"===t&&(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("label",{className:"form-label",children:["Name ",(0,Fe.jsx)("span",{className:"text-danger",children:"*"})]}),(0,Fe.jsx)("input",{className:"form-control",value:r,onChange:e=>o(e.target.value),required:!0})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("label",{className:"form-label",children:["Email ",(0,Fe.jsx)("span",{className:"text-danger",children:"*"})]}),(0,Fe.jsx)("input",{type:"email",className:"form-control",value:a,onChange:e=>s(e.target.value),required:!0})]}),(0,Fe.jsxs)("div",{className:"row g-2",children:[(0,Fe.jsxs)("div",{className:"col-12 col-md-6",children:[(0,Fe.jsxs)("label",{className:"form-label",children:["Password ",(0,Fe.jsx)("span",{className:"text-danger",children:"*"})]}),(0,Fe.jsxs)("div",{className:"input-group",children:[(0,Fe.jsx)("input",{type:h?"text":"password",className:"form-control",value:l,onChange:e=>c(e.target.value),required:!0}),(0,Fe.jsx)("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>f(!h),"aria-label":"Toggle password visibility",children:(0,Fe.jsx)("i",{className:"bi ".concat(h?"bi-eye-slash":"bi-eye")})})]})]}),"signup"===t&&(0,Fe.jsxs)("div",{className:"col-12 col-md-6",children:[(0,Fe.jsxs)("label",{className:"form-label",children:["Confirm Password ",(0,Fe.jsx)("span",{className:"text-danger",children:"*"})]}),(0,Fe.jsx)("input",{type:h?"text":"password",className:"form-control",value:u,onChange:e=>d(e.target.value),required:!0})]})]}),"signup"===t&&(0,Fe.jsxs)("div",{className:"row g-2",children:[(0,Fe.jsxs)("div",{className:"col-12 col-md-6",children:[(0,Fe.jsxs)("label",{className:"form-label",children:["Institution ",(0,Fe.jsx)("span",{className:"text-danger",children:"*"})]}),(0,Fe.jsx)("input",{className:"form-control",value:p,onChange:e=>m(e.target.value),placeholder:"College/School",required:!0})]}),(0,Fe.jsxs)("div",{className:"col-12 col-md-6",children:[(0,Fe.jsxs)("label",{className:"form-label",children:["Phone ",(0,Fe.jsx)("span",{className:"text-danger",children:"*"})]}),(0,Fe.jsx)("input",{className:"form-control",value:g,onChange:e=>y(e.target.value),placeholder:"10-digit",required:!0})]})]}),(0,Fe.jsx)("button",{className:"btn btn-primary",type:"submit",children:"login"===t?"Login":"Create account"})]}),"login"===t&&(0,Fe.jsx)("div",{className:"text-center mt-3",children:(0,Fe.jsx)("button",{type:"button",className:"btn btn-link text-decoration-none p-0",onClick:()=>S(!j),children:"Forgot your password?"})}),j&&(0,Fe.jsxs)("div",{className:"mt-3 p-3 border rounded-3 bg-light",children:[(0,Fe.jsx)("h6",{className:"mb-2",children:"Reset Password"}),(0,Fe.jsx)("p",{className:"small text-muted mb-3",children:"Enter your email address and we'll send you a link to reset your password."}),(0,Fe.jsx)("form",{onSubmit:async e=>{if(e.preventDefault(),b(""),w(""),a.trim())try{await async function(e,t,n){const r=Pi(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&jo(r,i,n),await zi(r,i,"getOobCode",$i,"EMAIL_PASSWORD_PROVIDER")}(Ng,a.trim()),w("Password reset email sent! Check your inbox."),S(!1)}catch(AG){b(AG.message||"Failed to send password reset email")}else b("Please enter your email address first")},children:(0,Fe.jsxs)("div",{className:"d-flex gap-2",children:[(0,Fe.jsx)("input",{type:"email",className:"form-control",value:a,onChange:e=>s(e.target.value),placeholder:"Enter your email",required:!0}),(0,Fe.jsx)("button",{type:"submit",className:"btn btn-outline-primary",children:"Send Reset Link"})]})}),(0,Fe.jsx)("button",{type:"button",className:"btn btn-link text-decoration-none p-0 mt-2",onClick:()=>S(!1),children:"Cancel"})]})]})}),(0,Fe.jsx)("div",{className:"col-12 col-lg-6",children:(0,Fe.jsxs)("div",{className:"h-100 p-4 p-md-5 rounded-4 border bg-white shadow",children:[(0,Fe.jsxs)("h5",{className:"mb-2 d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-radar text-primary"}),"Disaster-ready campuses"]}),(0,Fe.jsx)("div",{className:"text-muted small mb-3",children:"Interactive education, region-specific alerts, and virtual drills for students and staff."}),(0,Fe.jsxs)("div",{className:"row g-3",children:[(0,Fe.jsx)("div",{className:"col-12 col-md-6",children:(0,Fe.jsxs)("div",{className:"rounded-3 p-3 border h-100",children:[(0,Fe.jsxs)("div",{className:"fw-semibold mb-1 d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-mortarboard text-primary"}),"Interactive Learning"]}),(0,Fe.jsx)("div",{className:"text-muted small",children:"Videos, quizzes, and badges."})]})}),(0,Fe.jsx)("div",{className:"col-12 col-md-6",children:(0,Fe.jsxs)("div",{className:"rounded-3 p-3 border h-100",children:[(0,Fe.jsxs)("div",{className:"fw-semibold mb-1 d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-joystick text-success"}),"Virtual Drills"]}),(0,Fe.jsx)("div",{className:"text-muted small",children:"Practice safely with simulations."})]})}),(0,Fe.jsx)("div",{className:"col-12 col-md-6",children:(0,Fe.jsxs)("div",{className:"rounded-3 p-3 border h-100",children:[(0,Fe.jsxs)("div",{className:"fw-semibold mb-1 d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-broadcast text-danger"}),"Region Alerts"]}),(0,Fe.jsx)("div",{className:"text-muted small",children:"Stay updated and prepared."})]})}),(0,Fe.jsx)("div",{className:"col-12 col-md-6",children:(0,Fe.jsxs)("div",{className:"rounded-3 p-3 border h-100",children:[(0,Fe.jsxs)("div",{className:"fw-semibold mb-1 d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-trophy text-warning"}),"Gamified"]}),(0,Fe.jsx)("div",{className:"text-muted small",children:"Points, badges, leaderboard."})]})})]})]})})]})})})},lG=[{email:"teacher1@d-prep.edu",password:"teacher123",name:"Dr. Sarah Johnson",role:"teacher",institution:"Delhi University",phone:"9876543210"},{email:"teacher2@d-prep.edu",password:"teacher123",name:"Prof. Rajesh Kumar",role:"teacher",institution:"IIT Delhi",phone:"9876543211"},{email:"teacher3@d-prep.edu",password:"teacher123",name:"Ms. Priya Sharma",role:"teacher",institution:"JNU",phone:"9876543212"},{email:"admin@d-prep.edu",password:"admin123",name:"System Administrator",role:"admin",institution:"D-Prep Platform",phone:"9876543213"}];async function cG(e,t){try{console.log("Fixing role for ".concat(e," to ").concat(t));const n=Dm(Eg,"users","DBzAVovpvfTcnPTnbGgnAyu2WDrl"),r=(await vg(n)).data();return r?(console.log("Current user data:",r),await xg(n,lt(lt({},r),{},{role:t,updatedAt:(new Date).toISOString()}),{merge:!0}),console.log("\u2705 Successfully updated role for ".concat(e," to ").concat(t)),!0):(console.log("No user data found, creating new profile"),await xg(n,{name:"Dr. Sarah Johnson",email:e,role:t,institution:"Delhi University",phone:"9876543210",createdAt:(new Date).toISOString(),isPredefined:!0}),console.log("\u2705 Created new profile for ".concat(e," with role ").concat(t)),!0)}catch(n){return console.error("\u274c Error fixing role for ".concat(e,":"),n),!1}}const uG=function(){const[e,t]=(0,i.useState)(!1),[n,r]=(0,i.useState)("");return(0,Fe.jsx)("div",{className:"container py-5",children:(0,Fe.jsx)("div",{className:"row justify-content-center",children:(0,Fe.jsx)("div",{className:"col-md-8",children:(0,Fe.jsx)("div",{className:"card shadow",children:(0,Fe.jsxs)("div",{className:"card-body",children:[(0,Fe.jsxs)("h3",{className:"card-title mb-4",children:[(0,Fe.jsx)("i",{className:"bi bi-people-fill text-primary me-2"}),"Setup Predefined Users"]}),(0,Fe.jsxs)("div",{className:"alert alert-info",children:[(0,Fe.jsx)("h5",{children:"Predefined Accounts:"}),(0,Fe.jsxs)("div",{className:"row",children:[(0,Fe.jsxs)("div",{className:"col-md-6",children:[(0,Fe.jsx)("h6",{children:"Teachers:"}),(0,Fe.jsxs)("ul",{className:"list-unstyled",children:[(0,Fe.jsx)("li",{children:"teacher1@d-prep.edu / teacher123"}),(0,Fe.jsx)("li",{children:"teacher2@d-prep.edu / teacher123"}),(0,Fe.jsx)("li",{children:"teacher3@d-prep.edu / teacher123"})]})]}),(0,Fe.jsxs)("div",{className:"col-md-6",children:[(0,Fe.jsx)("h6",{children:"Admin:"}),(0,Fe.jsx)("ul",{className:"list-unstyled",children:(0,Fe.jsx)("li",{children:"admin@d-prep.edu / admin123"})})]})]})]}),(0,Fe.jsxs)("div",{className:"d-flex gap-3 flex-wrap",children:[(0,Fe.jsx)("button",{className:"btn btn-primary btn-lg",onClick:async()=>{t(!0),r("Creating predefined users...");try{await async function(){console.log("Creating predefined users...");for(const t of lG)try{const e=(await No(Ng,t.email,t.password)).user;await xg(Dm(Eg,"users",e.uid),{name:t.name,email:t.email,role:t.role,institution:t.institution,phone:t.phone,createdAt:(new Date).toISOString(),isPredefined:!0}),console.log("\u2705 Created ".concat(t.role,": ").concat(t.email))}catch(e){"auth/email-already-in-use"===e.code?console.log("\u26a0\ufe0f  User already exists: ".concat(t.email)):console.error("\u274c Error creating ".concat(t.email,":"),e.message)}console.log("Predefined users creation completed!")}(),r("\u2705 Predefined users created successfully!")}catch(e){r("\u274c Error: ".concat(e.message))}finally{t(!1)}},disabled:e,children:e?(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status"}),"Creating Users..."]}):(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("i",{className:"bi bi-person-plus me-2"}),"Create Predefined Users"]})}),(0,Fe.jsx)("button",{className:"btn btn-warning btn-lg",onClick:async()=>{t(!0),r("Fixing user roles...");try{await async function(){const e=[{email:"teacher1@d-prep.edu",role:"teacher",name:"Dr. Sarah Johnson"},{email:"teacher2@d-prep.edu",role:"teacher",name:"Prof. Rajesh Kumar"},{email:"teacher3@d-prep.edu",role:"teacher",name:"Ms. Priya Sharma"},{email:"admin@d-prep.edu",role:"admin",name:"System Administrator"}];console.log("Fixing all predefined users...");for(const t of e)await cG(t.email,t.role);console.log("All predefined users fixed!")}(),r("\u2705 User roles fixed successfully! Please refresh the page and login again.")}catch(e){r("\u274c Error: ".concat(e.message))}finally{t(!1)}},disabled:e,children:e?(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status"}),"Fixing Roles..."]}):(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("i",{className:"bi bi-tools me-2"}),"Fix User Roles"]})})]}),n&&(0,Fe.jsx)("div",{className:"alert ".concat(n.includes("\u2705")?"alert-success":"alert-danger"," mt-3"),children:n}),(0,Fe.jsxs)("div",{className:"mt-4",children:[(0,Fe.jsx)("h6",{children:"Instructions:"}),(0,Fe.jsxs)("ol",{children:[(0,Fe.jsx)("li",{children:'Click "Create Predefined Users" button above'}),(0,Fe.jsx)("li",{children:"Wait for the creation to complete"}),(0,Fe.jsxs)("li",{children:[(0,Fe.jsx)("strong",{children:"If roles are wrong:"}),' Click "Fix User Roles" button']}),(0,Fe.jsx)("li",{children:"Go to login page and use any of the predefined accounts"}),(0,Fe.jsx)("li",{children:"Teachers will see teacher dashboard, admin will see admin dashboard"})]}),(0,Fe.jsxs)("div",{className:"alert alert-warning mt-3",children:[(0,Fe.jsx)("strong",{children:"Note:"}),' If you see "Role: student" in the debug panel, click "Fix User Roles" to correct the roles in Firestore.']})]})]})})})})})};const dG=new class{constructor(){this.sounds={},this.isEnabled=!0,this.volume=.7,this.initializeSounds()}initializeSounds(){this.sounds={earthquake:this.createEarthquakeSound(),fire:this.createFireSound(),flood:this.createFloodSound(),cyclone:this.createCycloneSound(),landslide:this.createLandslideSound()}}createEarthquakeSound(){const e=new(window.AudioContext||window.webkitAudioContext),t=e.sampleRate,n=e.createBuffer(1,2*t,t),r=n.getChannelData(0);for(let i=0;i<r.length;i++){const e=i/t,n=.3*Math.sin(2*Math.PI*15*e),o=.2*Math.sin(2*Math.PI*45*e),a=.1*Math.sin(2*Math.PI*120*e),s=.15*(Math.random()-.5),l=Math.sin(Math.PI*e/2)*Math.sin(Math.PI*e/2);r[i]=(n+o+a+s)*l*this.volume}return{audioContext:e,buffer:n}}createFireSound(){const e=new(window.AudioContext||window.webkitAudioContext),t=e.sampleRate,n=e.createBuffer(1,2.5*t,t),r=n.getChannelData(0);for(let i=0;i<r.length;i++){const e=i/t,n=.25*Math.sin(2*Math.PI*80*e),o=.2*Math.sin(2*Math.PI*200*e),a=.15*Math.sin(2*Math.PI*150*e),s=Math.random()>.95?.3*(Math.random()-.5):0,l=Math.min(e/.5,1)*Math.max(0,1-(e-2)/.5);r[i]=(n+o+a+s)*l*this.volume}return{audioContext:e,buffer:n}}createFloodSound(){const e=new(window.AudioContext||window.webkitAudioContext),t=e.sampleRate,n=e.createBuffer(1,2.5*t,t),r=n.getChannelData(0);for(let i=0;i<r.length;i++){const e=i/t,n=.3*(Math.random()-.5),o=.2*Math.sin(2*Math.PI*100*e),a=.25*Math.sin(2*Math.PI*60*e),s=.15*Math.sin(2*Math.PI*30*e),l=Math.min(e/1,1)*Math.max(0,1-(e-1.5)/1);r[i]=(n+o+a+s)*l*this.volume}return{audioContext:e,buffer:n}}createCycloneSound(){const e=new(window.AudioContext||window.webkitAudioContext),t=e.sampleRate,n=e.createBuffer(1,2.5*t,t),r=n.getChannelData(0);for(let i=0;i<r.length;i++){const e=i/t,n=.3*Math.sin(2*Math.PI*40*e),o=.25*Math.sin(2*Math.PI*90*e),a=.2*(Math.random()-.5),s=.2*Math.sin(2*Math.PI*70*e+Math.sin(2*Math.PI*5*e)),l=Math.min(e/.8,1)*Math.max(0,1-(e-1.7)/.8);r[i]=(n+o+a+s)*l*this.volume}return{audioContext:e,buffer:n}}createLandslideSound(){const e=new(window.AudioContext||window.webkitAudioContext),t=e.sampleRate,n=e.createBuffer(1,2.5*t,t),r=n.getChannelData(0);for(let i=0;i<r.length;i++){const e=i/t,n=.3*Math.sin(2*Math.PI*25*e),o=.25*Math.sin(2*Math.PI*80*e),a=.2*Math.sin(2*Math.PI*180*e),s=Math.random()>.9?.4*(Math.random()-.5):0,l=Math.min(e/.3,1)*Math.max(0,1-(e-1.5)/1);r[i]=(n+o+a+s)*l*this.volume}return{audioContext:e,buffer:n}}playDisasterSound(e){if(this.isEnabled&&this.sounds[e])try{const{audioContext:t,buffer:n}=this.sounds[e];"suspended"===t.state&&t.resume();const r=t.createBufferSource(),i=t.createGain();r.buffer=n,r.connect(i),i.connect(t.destination),i.gain.value=this.volume,r.start(0),r.onended=()=>{r.disconnect(),i.disconnect()}}catch(t){console.warn("Could not play disaster sound:",t)}}setEnabled(e){this.isEnabled=e}setVolume(e){this.volume=Math.max(0,Math.min(1,e))}getVolume(){return this.volume}isSoundEnabled(){return this.isEnabled}},hG=dG,fG=(e,t,n)=>{const r=JSON.parse(localStorage.getItem("disasterScores")||"{}");r[e]={score:t,maxScore:n,timestamp:(new Date).toISOString()},localStorage.setItem("disasterScores",JSON.stringify(r))},pG=()=>JSON.parse(localStorage.getItem("disasterScores")||"{}"),mG=(e,t)=>{const n=e/t*100;return n>=90?{name:"Safety Expert",icon:"\ud83c\udfc6",color:"warning"}:n>=75?{name:"Safety Star",icon:"\u2b50",color:"success"}:n>=50?{name:"Safety Learner",icon:"\ud83d\udcda",color:"info"}:{name:"Safety Beginner",icon:"\ud83c\udfaf",color:"secondary"}},gG=e=>{let{onComplete:t}=e;const[n,r]=(0,i.useState)(0),[o,a]=(0,i.useState)(0),[s,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(null),[d,h]=(0,i.useState)(!1),[f,p]=(0,i.useState)(!1),m=[{id:1,situation:"You feel strong shaking while sitting in your classroom. What should you do first?",options:[{text:"Run outside immediately",correct:!1,feedback:"Running during shaking is dangerous - you could fall or be hit by falling objects!"},{text:"Drop, Cover, and Hold On under your desk",correct:!0,feedback:"Excellent! This is the correct immediate response during earthquake shaking."},{text:"Stand in a doorway",correct:!1,feedback:"Doorways are not safer than sturdy desks or tables for protection."},{text:"Gather your belongings first",correct:!1,feedback:"Never prioritize belongings over your safety during an earthquake."}]},{id:2,situation:"The shaking has stopped. You're still in the classroom. What's your next step?",options:[{text:"Stay under the desk and wait",correct:!1,feedback:"After shaking stops, you should evacuate in case of aftershocks."},{text:"Calmly walk to the nearest exit, watching for hazards",correct:!0,feedback:"Perfect! Evacuate calmly after shaking stops, being aware of potential dangers."},{text:"Use the elevator to get out quickly",correct:!1,feedback:"Never use elevators during or after an earthquake - they may malfunction!"},{text:"Check your phone for updates first",correct:!1,feedback:"Your immediate safety is more important than checking updates."}]},{id:3,situation:"You're outside the building. Where should you go for safety?",options:[{text:"Stand close to the building wall",correct:!1,feedback:"Building walls can have falling debris - stay away from structures!"},{text:"Go to an open area away from buildings, trees, and power lines",correct:!0,feedback:"Excellent! Open areas are safest from falling objects and structural collapse."},{text:"Hide under a parked car",correct:!1,feedback:"Cars can be crushed by falling debris - open spaces are much safer!"},{text:"Go back inside to get your belongings",correct:!1,feedback:"Never re-enter a building after an earthquake until it's declared safe."}]},{id:4,situation:"You're in an open area when aftershocks begin. What should you do?",options:[{text:"Run to the nearest building for shelter",correct:!1,feedback:"Stay in the open area - buildings may be unstable after the main earthquake."},{text:"Drop to the ground and cover your head",correct:!0,feedback:"Correct! Even in open areas, drop and cover during aftershocks."},{text:"Stand still and wait for it to pass",correct:!1,feedback:"You should drop and cover even in open areas during aftershocks."},{text:"Call emergency services immediately",correct:!1,feedback:"Focus on your safety first, then call for help if needed."}]},{id:5,situation:"After the earthquake, you notice a gas smell. What should you do?",options:[{text:"Investigate the source of the smell",correct:!1,feedback:"Never investigate gas leaks yourself - evacuate immediately."},{text:"Evacuate the area immediately and call emergency services",correct:!0,feedback:"Perfect! Gas leaks are extremely dangerous and require immediate evacuation."},{text:"Turn off all lights and electronics",correct:!1,feedback:"Don't touch anything electrical - evacuate immediately and call for help."},{text:"Open windows to ventilate the area",correct:!1,feedback:"Don't try to ventilate - evacuate immediately and call emergency services."}]}],g=()=>{r(0),a(0),l(!1),u(null),h(!1)};if(s){const e=o,n=mG(e,m.length);return(0,Fe.jsxs)("div",{className:"game-card success-animation",children:[(0,Fe.jsx)("div",{className:"game-header earthquake-header",children:(0,Fe.jsxs)("h4",{className:"mb-0 d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-check-circle-fill"}),"Training Complete"]})}),(0,Fe.jsxs)("div",{className:"card-body text-center",children:[(0,Fe.jsx)("div",{className:"scene-container",children:(0,Fe.jsx)("i",{className:"bi bi-award scene-icon"})}),(0,Fe.jsxs)("div",{className:"achievement-badge mb-3",children:[(0,Fe.jsx)("i",{className:"bi bi-award me-2"}),n.name]}),(0,Fe.jsxs)("h3",{className:"text-success mb-3",children:["Score: ",e,"/",m.length]}),(0,Fe.jsx)("div",{className:"progress-container mb-4",children:(0,Fe.jsxs)("div",{className:"progress-bar",style:{width:"".concat(e/m.length*100,"%")},children:[Math.round(e/m.length*100),"%"]})}),(0,Fe.jsxs)("div",{className:"alert alert-success mb-4",children:[(0,Fe.jsx)("h5",{children:"Training Complete"}),(0,Fe.jsx)("p",{className:"mb-0",children:"You have successfully completed the earthquake safety training. Continue practicing to improve your emergency response skills."})]}),(0,Fe.jsxs)("div",{className:"row g-3",children:[(0,Fe.jsx)("div",{className:"col-md-6",children:(0,Fe.jsxs)("button",{className:"game-button w-100",onClick:g,children:[(0,Fe.jsx)("i",{className:"bi bi-arrow-clockwise me-2"}),"Retry Training"]})}),(0,Fe.jsx)("div",{className:"col-md-6",children:(0,Fe.jsxs)("button",{className:"game-button w-100",onClick:()=>null===t||void 0===t?void 0:t(),children:[(0,Fe.jsx)("i",{className:"bi bi-speedometer2 me-2"}),"Back to Dashboard"]})})]})]})]})}const y=m[n];return(0,Fe.jsxs)("div",{className:"game-card",children:[(0,Fe.jsx)("div",{className:"game-header earthquake-header",children:(0,Fe.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,Fe.jsxs)("h4",{className:"mb-0 d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-shield-exclamation"}),"Earthquake Safety Training"]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("span",{className:"badge bg-dark fs-6",children:["Step ",n+1,"/",m.length]}),(0,Fe.jsxs)("span",{className:"badge bg-success fs-6 ms-2",children:["Score: ",o]})]})]})}),(0,Fe.jsxs)("div",{className:"card-body",children:[(0,Fe.jsx)("div",{className:"scene-container earthquake-simulation ".concat(f?"earthquake-disaster-effect earthquake-scene-effect":""),children:(0,Fe.jsx)("i",{className:"bi bi-building scene-icon"})}),(0,Fe.jsx)("div",{className:"alert alert-info",children:(0,Fe.jsx)("h5",{className:"mb-0",children:y.situation})}),d?(0,Fe.jsxs)("div",{className:"mt-3 feedback-container",children:[(0,Fe.jsx)("div",{className:"alert ".concat(m[n].options[c].correct?"alert-success":"alert-danger"),children:(0,Fe.jsxs)("div",{className:"d-flex align-items-start gap-2",children:[(0,Fe.jsx)("i",{className:"bi ".concat(m[n].options[c].correct?"bi-check-circle-fill":"bi-x-circle-fill")}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{children:m[n].options[c].correct?"Correct!":"Incorrect"}),(0,Fe.jsx)("p",{className:"mb-0 mt-2",children:m[n].options[c].feedback})]})]})}),(0,Fe.jsxs)("div",{className:"text-center loading-container",children:[(0,Fe.jsx)("div",{className:"loading-dot"}),(0,Fe.jsx)("div",{className:"loading-dot"}),(0,Fe.jsx)("div",{className:"loading-dot"}),(0,Fe.jsx)("span",{className:"ms-3 text-muted",children:"Loading next question..."})]})]}):(0,Fe.jsx)("div",{className:"row g-3 mt-3",children:y.options.map((e,t)=>(0,Fe.jsx)("div",{className:"col-12",children:(0,Fe.jsx)("button",{className:"option-button w-100 text-start interactive-element",onClick:()=>(e=>{u(e),h(!0);const t=m[n].options[e].correct;t&&a(o+1),t||(p(!0),setTimeout(()=>p(!1),1500),hG.playDisasterSound("earthquake")),setTimeout(()=>{h(!1),u(null),n<m.length-1?r(n+1):(fG("earthquake",o+(t?1:0),m.length),l(!0))},3e3)})(t),children:(0,Fe.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[(0,Fe.jsx)("div",{className:"option-letter",children:(0,Fe.jsx)("span",{className:"badge bg-secondary rounded-circle",style:{width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.8rem"},children:String.fromCharCode(65+t)})}),(0,Fe.jsx)("div",{className:"option-text",children:e.text})]})})},t))}),(0,Fe.jsx)("div",{className:"progress-container mt-4",children:(0,Fe.jsx)("div",{className:"progress-bar",style:{width:"".concat((n+1)/m.length*100,"%")}})})]})]})},yG=e=>{let{onComplete:t}=e;const[n,r]=(0,i.useState)("ready"),[o,a]=(0,i.useState)(0),[s,l]=(0,i.useState)(0),[c,u]=(0,i.useState)(null),[d,h]=(0,i.useState)(!1),[f,p]=(0,i.useState)(!1),m=[{id:1,question:"FIRE ALARM! What should you do immediately?",options:[{text:"Stop, Drop, and Crawl to nearest exit",correct:!0,feedback:"Correct! Stay low to avoid smoke and crawl to the nearest safe exit."},{text:"Run as fast as possible",correct:!1,feedback:"Running can cause panic and increase smoke inhalation. Stay calm and crawl."},{text:"Take your belongings first",correct:!1,feedback:"Never prioritize belongings over your safety during a fire emergency."},{text:"Use the elevator to escape quickly",correct:!1,feedback:"Never use elevators during a fire - they may malfunction or fill with smoke."}]},{id:2,question:"You encounter heavy smoke in the hallway. What should you do?",options:[{text:"Crawl on your hands and knees",correct:!0,feedback:"Excellent! Stay low where the air is cleaner and visibility is better."},{text:"Run through the smoke quickly",correct:!1,feedback:"Running through smoke increases smoke inhalation and reduces visibility."},{text:"Go back to your room and wait",correct:!1,feedback:"Never go back into a burning building. Find an alternative exit route."},{text:"Cover your mouth with a wet cloth and walk normally",correct:!1,feedback:"While covering your mouth helps, you should still crawl to stay below the smoke."}]},{id:3,question:"You reach a closed door. What should you do before opening it?",options:[{text:"Feel the door with the back of your hand",correct:!0,feedback:"Perfect! Check if the door is hot before opening to avoid walking into a fire."},{text:"Open the door immediately",correct:!1,feedback:"Always check if a door is hot before opening during a fire emergency."},{text:"Knock on the door first",correct:!1,feedback:"Don't waste time knocking - check the door temperature first."},{text:"Look through the keyhole",correct:!1,feedback:"The back of your hand is the best way to check door temperature safely."}]},{id:4,question:"The door feels hot to touch. What should you do?",options:[{text:"Find an alternative exit route",correct:!0,feedback:"Correct! A hot door indicates fire on the other side. Find another way out."},{text:"Open the door anyway",correct:!1,feedback:"Never open a hot door - it could cause a backdraft and spread the fire."},{text:"Wait for help at the door",correct:!1,feedback:"Don't wait - actively seek an alternative exit route immediately."},{text:"Try to cool the door with water",correct:!1,feedback:"Don't waste time - find an alternative exit route immediately."}]},{id:5,question:"You're safely outside the building. What should you do next?",options:[{text:"Go to the designated assembly point and stay there",correct:!0,feedback:"Perfect! Go to the assembly point so authorities can account for everyone."},{text:"Go back inside to help others",correct:!1,feedback:"Never re-enter a burning building. Let trained professionals handle rescues."},{text:"Go to your car and leave immediately",correct:!1,feedback:"Stay at the assembly point so emergency responders can account for everyone."},{text:"Call your family first",correct:!1,feedback:"Go to the assembly point first, then you can call family once you're accounted for."}]}],g=()=>{r("active"),a(0),l(0),u(null),h(!1)},y=()=>{r("ready"),a(0),l(0),u(null),h(!1)};if("ready"===n)return(0,Fe.jsxs)("div",{className:"game-card",children:[(0,Fe.jsx)("div",{className:"game-header fire-header",children:(0,Fe.jsxs)("h4",{className:"mb-0 d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-fire"}),"Fire Safety Training"]})}),(0,Fe.jsxs)("div",{className:"card-body text-center",children:[(0,Fe.jsx)("div",{className:"scene-container fire-simulation",children:(0,Fe.jsx)("i",{className:"bi bi-fire scene-icon"})}),(0,Fe.jsx)("h5",{className:"mb-4",children:"Fire Safety Training"}),(0,Fe.jsx)("p",{className:"text-muted mb-4",children:"Learn proper fire safety procedures through scenario-based training. Practice emergency response protocols and evacuation techniques."}),(0,Fe.jsx)("div",{className:"alert alert-warning",children:(0,Fe.jsxs)("small",{children:[(0,Fe.jsx)("i",{className:"bi bi-lightbulb me-2"}),(0,Fe.jsx)("strong",{children:"Safety Tip:"})," In a real fire, stay low to avoid smoke and move quickly but safely to exits."]})}),(0,Fe.jsxs)("button",{className:"game-button",onClick:g,children:[(0,Fe.jsx)("i",{className:"bi bi-play-fill me-2"}),"Start Training"]})]})]});if("active"===n){const e=m[o];return(0,Fe.jsxs)("div",{className:"game-card",children:[(0,Fe.jsx)("div",{className:"game-header fire-header",children:(0,Fe.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,Fe.jsxs)("h4",{className:"mb-0 d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-fire"}),"Fire Emergency Training"]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("span",{className:"badge bg-dark fs-6",children:["Step ",o+1,"/",m.length]}),(0,Fe.jsxs)("span",{className:"badge bg-success fs-6 ms-2",children:["Score: ",s]})]})]})}),(0,Fe.jsxs)("div",{className:"card-body",children:[(0,Fe.jsx)("div",{className:"scene-container fire-simulation ".concat(f?"fire-disaster-effect fire-scene-effect":""),children:(0,Fe.jsx)("i",{className:"bi bi-exclamation-triangle scene-icon"})}),(0,Fe.jsx)("div",{className:"alert alert-danger",children:(0,Fe.jsx)("h5",{className:"mb-0",children:e.question})}),d?(0,Fe.jsxs)("div",{className:"mt-3 feedback-container",children:[(0,Fe.jsx)("div",{className:"alert ".concat(m[o].options[c].correct?"alert-success":"alert-danger"),children:(0,Fe.jsxs)("div",{className:"d-flex align-items-start gap-2",children:[(0,Fe.jsx)("i",{className:"bi ".concat(m[o].options[c].correct?"bi-check-circle-fill":"bi-x-circle-fill")}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{children:m[o].options[c].correct?"Correct!":"Incorrect"}),(0,Fe.jsx)("p",{className:"mb-0 mt-2",children:m[o].options[c].feedback})]})]})}),(0,Fe.jsxs)("div",{className:"text-center loading-container",children:[(0,Fe.jsx)("div",{className:"loading-dot"}),(0,Fe.jsx)("div",{className:"loading-dot"}),(0,Fe.jsx)("div",{className:"loading-dot"}),(0,Fe.jsx)("span",{className:"ms-3 text-muted",children:"Loading next question..."})]})]}):(0,Fe.jsx)("div",{className:"row g-3 mt-3",children:e.options.map((e,t)=>(0,Fe.jsx)("div",{className:"col-12",children:(0,Fe.jsx)("button",{className:"option-button w-100 text-start interactive-element",onClick:()=>(e=>{u(e),h(!0);const t=m[o].options[e].correct;t?l(s+1):(p(!0),setTimeout(()=>p(!1),2e3),hG.playDisasterSound("fire")),setTimeout(()=>{h(!1),u(null),o<m.length-1?a(o+1):(fG("fireDrill",s+(t?1:0),m.length),r("result"))},3e3)})(t),children:(0,Fe.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[(0,Fe.jsx)("div",{className:"option-letter",children:(0,Fe.jsx)("span",{className:"badge bg-secondary rounded-circle",style:{width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.8rem"},children:String.fromCharCode(65+t)})}),(0,Fe.jsx)("div",{className:"option-text",children:e.text})]})})},t))}),(0,Fe.jsx)("div",{className:"progress-container mt-4",children:(0,Fe.jsx)("div",{className:"progress-bar",style:{width:"".concat((o+1)/m.length*100,"%")}})})]})]})}if("result"===n){const e=s,n=mG(e,m.length);return(0,Fe.jsxs)("div",{className:"game-card success-animation",children:[(0,Fe.jsx)("div",{className:"game-header fire-header",children:(0,Fe.jsxs)("h4",{className:"mb-0 d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-check-circle-fill"}),"Training Complete"]})}),(0,Fe.jsxs)("div",{className:"card-body text-center",children:[(0,Fe.jsx)("div",{className:"scene-container",children:(0,Fe.jsx)("i",{className:"bi bi-award scene-icon"})}),(0,Fe.jsxs)("div",{className:"achievement-badge mb-3",children:[(0,Fe.jsx)("i",{className:"bi bi-award me-2"}),n.name]}),(0,Fe.jsxs)("h3",{className:"text-success mb-3",children:["Score: ",e,"/",m.length]}),(0,Fe.jsx)("div",{className:"progress-container mb-4",children:(0,Fe.jsxs)("div",{className:"progress-bar",style:{width:"".concat(e/m.length*100,"%")},children:[Math.round(e/m.length*100),"%"]})}),(0,Fe.jsxs)("div",{className:"alert ".concat(e>=4?"alert-success":e>=3?"alert-warning":"alert-danger"," mb-4"),children:[(0,Fe.jsx)("h5",{children:e>=4?"Excellent Performance":e>=3?"Good Performance":"Keep Practicing"}),(0,Fe.jsx)("p",{className:"mb-0",children:e>=4?"You have demonstrated strong fire safety knowledge and would be well-prepared in a real emergency.":e>=3?"Good effort! Review the feedback and practice more to improve your fire safety knowledge.":"Keep practicing! Fire safety knowledge is crucial for real emergency situations."})]}),(0,Fe.jsxs)("div",{className:"row g-3",children:[(0,Fe.jsx)("div",{className:"col-md-6",children:(0,Fe.jsxs)("button",{className:"game-button w-100",onClick:y,children:[(0,Fe.jsx)("i",{className:"bi bi-arrow-clockwise me-2"}),"Retry Training"]})}),(0,Fe.jsx)("div",{className:"col-md-6",children:(0,Fe.jsxs)("button",{className:"game-button w-100",onClick:()=>null===t||void 0===t?void 0:t(),children:[(0,Fe.jsx)("i",{className:"bi bi-speedometer2 me-2"}),"Back to Dashboard"]})})]})]})]})}},vG=e=>{let{onStartSimulation:t,onStartDrill:n,onStartFlood:r,onStartCyclone:o,onStartLandslide:a}=e;const[s,l]=(0,i.useState)({}),[c,u]=(0,i.useState)({totalActivities:5,completedActivities:0,averageScore:0,expertBadges:0});(0,i.useEffect)(()=>{l(pG()),d(pG())},[]);const d=e=>{const t=["earthquake","fireDrill","flood","cyclone","landslide"];let n=0,r=0,i=0,o=0;t.forEach(t=>{e[t]&&(n++,r+=e[t].score,i+=e[t].maxScore,e[t].score>=4&&o++)});const a=i>0?Math.round(r/i*100):0;u({totalActivities:t.length,completedActivities:n,averageScore:a,expertBadges:o})};return(0,Fe.jsx)("div",{className:"container-fluid",children:(0,Fe.jsx)("div",{className:"row",children:(0,Fe.jsx)("div",{className:"col-12",children:(0,Fe.jsxs)("div",{className:"game-card mb-4",children:[(0,Fe.jsx)("div",{className:"game-header dashboard-header",children:(0,Fe.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,Fe.jsxs)("h3",{className:"mb-0 d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-shield-check"}),"Disaster Preparedness Training Center"]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("button",{className:"btn btn-outline-light btn-sm me-2",onClick:()=>{const e=pG();l(e),d(e)},children:[(0,Fe.jsx)("i",{className:"bi bi-arrow-clockwise me-1"}),"Refresh"]}),(0,Fe.jsxs)("button",{className:"btn btn-outline-light btn-sm",onClick:()=>{localStorage.removeItem("disasterScores"),l({}),u({totalActivities:5,completedActivities:0,averageScore:0,expertBadges:0})},children:[(0,Fe.jsx)("i",{className:"bi bi-trash me-1"}),"Reset All"]})]})]})}),(0,Fe.jsxs)("div",{className:"card-body",children:[(0,Fe.jsx)("p",{className:"lead",children:"Master emergency response through interactive simulations and training exercises."}),(0,Fe.jsxs)("div",{className:"row g-4",children:[(0,Fe.jsxs)("div",{className:"col-lg-8",children:[(0,Fe.jsxs)("h5",{className:"mb-3 d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-target"}),"Training Modules"]}),(0,Fe.jsxs)("div",{className:"row g-4",children:[(0,Fe.jsx)("div",{className:"col-lg-6",children:(0,Fe.jsxs)("div",{className:"game-card border-warning h-100 position-relative overflow-hidden",children:[(0,Fe.jsx)("div",{className:"earthquake-bg-animation position-absolute w-100 h-100",style:{background:"linear-gradient(45deg, #fbbf24 0%, #f59e0b 25%, #d97706 50%, #b45309 75%, #92400e 100%)",opacity:.1,animation:"earthquake-bg-pulse 3s ease-in-out infinite"}}),(0,Fe.jsxs)("div",{className:"card-body position-relative",children:[(0,Fe.jsx)("div",{className:"d-flex justify-content-between align-items-start mb-3",children:(0,Fe.jsxs)("div",{className:"flex-grow-1",children:[(0,Fe.jsxs)("h5",{className:"card-title text-warning d-flex align-items-center gap-2 mb-2",children:[(0,Fe.jsx)("div",{className:"earthquake-icon-container",children:(0,Fe.jsx)("i",{className:"bi bi-shield-exclamation earthquake-icon"})}),"Earthquake Safety Training"]}),(0,Fe.jsx)("p",{className:"card-text",children:"Master earthquake response through immersive 3D simulations and realistic scenarios."})]})}),(0,Fe.jsx)("div",{className:"simulation-preview mb-3",children:(0,Fe.jsx)("div",{className:"earthquake-simulation-preview position-relative",children:(0,Fe.jsxs)("div",{className:"simple-building-container",children:[(0,Fe.jsx)("div",{className:"simple-building"}),(0,Fe.jsx)("div",{className:"simple-ground-crack"})]})})}),(0,Fe.jsxs)("div",{className:"row g-2 mb-3",children:[(0,Fe.jsx)("div",{className:"col-6",children:(0,Fe.jsxs)("div",{className:"feature-item d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-check-circle-fill text-success"}),(0,Fe.jsx)("small",{children:"Drop, Cover, Hold"})]})}),(0,Fe.jsx)("div",{className:"col-6",children:(0,Fe.jsxs)("div",{className:"feature-item d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-check-circle-fill text-success"}),(0,Fe.jsx)("small",{children:"Evacuation Routes"})]})}),(0,Fe.jsx)("div",{className:"col-6",children:(0,Fe.jsxs)("div",{className:"feature-item d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-check-circle-fill text-success"}),(0,Fe.jsx)("small",{children:"Safety Zones"})]})})]}),(0,Fe.jsxs)("button",{className:"game-button w-100 mb-2 position-relative",onClick:t,children:[(0,Fe.jsx)("i",{className:"bi bi-play-fill me-2"}),"Start Earthquake Training",(0,Fe.jsx)("div",{className:"button-glow"})]}),s.earthquake&&(0,Fe.jsxs)("div",{className:"text-center",children:[(0,Fe.jsx)("div",{className:"progress mb-1",style:{height:"6px"},children:(0,Fe.jsx)("div",{className:"progress-bar bg-success",style:{width:"".concat(s.earthquake.score/s.earthquake.maxScore*100,"%")}})}),(0,Fe.jsxs)("small",{className:"text-success",children:[(0,Fe.jsx)("strong",{children:"Best Score:"})," ",s.earthquake.score,"/",s.earthquake.maxScore,"(",Math.round(s.earthquake.score/s.earthquake.maxScore*100),"%)"]})]})]})]})}),(0,Fe.jsx)("div",{className:"col-lg-6",children:(0,Fe.jsxs)("div",{className:"game-card border-danger h-100 position-relative overflow-hidden",children:[(0,Fe.jsx)("div",{className:"fire-bg-animation position-absolute w-100 h-100",style:{background:"linear-gradient(45deg, #dc2626 0%, #ea580c 25%, #f59e0b 50%, #d97706 75%, #b45309 100%)",opacity:.1,animation:"fire-bg-flicker 2s ease-in-out infinite"}}),(0,Fe.jsxs)("div",{className:"card-body position-relative",children:[(0,Fe.jsx)("div",{className:"d-flex justify-content-between align-items-start mb-3",children:(0,Fe.jsxs)("div",{className:"flex-grow-1",children:[(0,Fe.jsxs)("h5",{className:"card-title text-danger d-flex align-items-center gap-2 mb-2",children:[(0,Fe.jsx)("div",{className:"fire-icon-container",children:(0,Fe.jsx)("i",{className:"bi bi-fire fire-icon"})}),"Fire Safety Training"]}),(0,Fe.jsx)("p",{className:"card-text",children:"Experience realistic fire scenarios with immersive 3D simulations and emergency response training."})]})}),(0,Fe.jsx)("div",{className:"simulation-preview mb-3",children:(0,Fe.jsx)("div",{className:"fire-simulation-preview position-relative",children:(0,Fe.jsxs)("div",{className:"simple-fire-container",children:[(0,Fe.jsx)("div",{className:"simple-flame"}),(0,Fe.jsx)("div",{className:"simple-smoke"})]})})}),(0,Fe.jsxs)("div",{className:"row g-2 mb-3",children:[(0,Fe.jsx)("div",{className:"col-6",children:(0,Fe.jsxs)("div",{className:"feature-item d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-check-circle-fill text-success"}),(0,Fe.jsx)("small",{children:"Quick Decisions"})]})}),(0,Fe.jsx)("div",{className:"col-6",children:(0,Fe.jsxs)("div",{className:"feature-item d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-check-circle-fill text-success"}),(0,Fe.jsx)("small",{children:"Emergency Routes"})]})}),(0,Fe.jsx)("div",{className:"col-6",children:(0,Fe.jsxs)("div",{className:"feature-item d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-check-circle-fill text-success"}),(0,Fe.jsx)("small",{children:"Evacuation Tech"})]})})]}),(0,Fe.jsxs)("button",{className:"game-button w-100 mb-2 position-relative",onClick:n,children:[(0,Fe.jsx)("i",{className:"bi bi-play-fill me-2"}),"Start Fire Training",(0,Fe.jsx)("div",{className:"button-glow"})]}),s.fireDrill&&(0,Fe.jsxs)("div",{className:"text-center",children:[(0,Fe.jsx)("div",{className:"progress mb-1",style:{height:"6px"},children:(0,Fe.jsx)("div",{className:"progress-bar bg-success",style:{width:"".concat(s.fireDrill.score/s.fireDrill.maxScore*100,"%")}})}),(0,Fe.jsxs)("small",{className:"text-success",children:[(0,Fe.jsx)("strong",{children:"Best Score:"})," ",s.fireDrill.score,"/",s.fireDrill.maxScore,"(",Math.round(s.fireDrill.score/s.fireDrill.maxScore*100),"%)"]})]})]})]})}),(0,Fe.jsx)("div",{className:"col-lg-6",children:(0,Fe.jsxs)("div",{className:"game-card border-info h-100 position-relative overflow-hidden",children:[(0,Fe.jsx)("div",{className:"flood-bg-animation position-absolute w-100 h-100",style:{background:"linear-gradient(45deg, #0ea5e9 0%, #0284c7 25%, #0369a1 50%, #075985 75%, #0c4a6e 100%)",opacity:.1,animation:"flood-bg-wave 4s ease-in-out infinite"}}),(0,Fe.jsxs)("div",{className:"card-body position-relative",children:[(0,Fe.jsx)("div",{className:"d-flex justify-content-between align-items-start mb-3",children:(0,Fe.jsxs)("div",{className:"flex-grow-1",children:[(0,Fe.jsxs)("h5",{className:"card-title text-info d-flex align-items-center gap-2 mb-2",children:[(0,Fe.jsx)("div",{className:"flood-icon-container",children:(0,Fe.jsx)("i",{className:"bi bi-droplet flood-icon"})}),"Flood Safety Training"]}),(0,Fe.jsx)("p",{className:"card-text",children:"Navigate flood scenarios with realistic water simulations and emergency response protocols."})]})}),(0,Fe.jsx)("div",{className:"simulation-preview mb-3",children:(0,Fe.jsx)("div",{className:"flood-simulation-preview position-relative",children:(0,Fe.jsxs)("div",{className:"simple-water-container",children:[(0,Fe.jsx)("div",{className:"simple-wave"}),(0,Fe.jsx)("div",{className:"simple-water-level"})]})})}),(0,Fe.jsxs)("div",{className:"row g-2 mb-3",children:[(0,Fe.jsx)("div",{className:"col-6",children:(0,Fe.jsxs)("div",{className:"feature-item d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-check-circle-fill text-success"}),(0,Fe.jsx)("small",{children:"Warning Response"})]})}),(0,Fe.jsx)("div",{className:"col-6",children:(0,Fe.jsxs)("div",{className:"feature-item d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-check-circle-fill text-success"}),(0,Fe.jsx)("small",{children:"Safe Routes"})]})}),(0,Fe.jsx)("div",{className:"col-6",children:(0,Fe.jsxs)("div",{className:"feature-item d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-check-circle-fill text-success"}),(0,Fe.jsx)("small",{children:"Post-Flood Safety"})]})})]}),(0,Fe.jsxs)("button",{className:"game-button w-100 mb-2 position-relative",onClick:r,children:[(0,Fe.jsx)("i",{className:"bi bi-play-fill me-2"}),"Start Flood Training",(0,Fe.jsx)("div",{className:"button-glow"})]}),s.flood&&(0,Fe.jsxs)("div",{className:"text-center",children:[(0,Fe.jsx)("div",{className:"progress mb-1",style:{height:"6px"},children:(0,Fe.jsx)("div",{className:"progress-bar bg-success",style:{width:"".concat(s.flood.score/s.flood.maxScore*100,"%")}})}),(0,Fe.jsxs)("small",{className:"text-success",children:[(0,Fe.jsx)("strong",{children:"Best Score:"})," ",s.flood.score,"/",s.flood.maxScore,"(",Math.round(s.flood.score/s.flood.maxScore*100),"%)"]})]})]})]})}),(0,Fe.jsx)("div",{className:"col-lg-6",children:(0,Fe.jsxs)("div",{className:"game-card border-purple h-100 position-relative overflow-hidden",children:[(0,Fe.jsx)("div",{className:"cyclone-bg-animation position-absolute w-100 h-100",style:{background:"linear-gradient(45deg, #8b5cf6 0%, #7c3aed 25%, #6d28d9 50%, #5b21b6 75%, #4c1d95 100%)",opacity:.1,animation:"cyclone-bg-spin 5s linear infinite"}}),(0,Fe.jsxs)("div",{className:"card-body position-relative",children:[(0,Fe.jsx)("div",{className:"d-flex justify-content-between align-items-start mb-3",children:(0,Fe.jsxs)("div",{className:"flex-grow-1",children:[(0,Fe.jsxs)("h5",{className:"card-title text-purple d-flex align-items-center gap-2 mb-2",children:[(0,Fe.jsx)("div",{className:"cyclone-icon-container",children:(0,Fe.jsx)("i",{className:"bi bi-cloud-lightning cyclone-icon"})}),"Cyclone Safety Training"]}),(0,Fe.jsx)("p",{className:"card-text",children:"Master cyclone preparedness with immersive storm simulations and shelter procedures."})]})}),(0,Fe.jsx)("div",{className:"simulation-preview mb-3",children:(0,Fe.jsx)("div",{className:"cyclone-simulation-preview position-relative",children:(0,Fe.jsxs)("div",{className:"simple-storm-container",children:[(0,Fe.jsx)("div",{className:"simple-spiral"}),(0,Fe.jsx)("div",{className:"simple-wind"})]})})}),(0,Fe.jsxs)("div",{className:"row g-2 mb-3",children:[(0,Fe.jsx)("div",{className:"col-6",children:(0,Fe.jsxs)("div",{className:"feature-item d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-check-circle-fill text-success"}),(0,Fe.jsx)("small",{children:"Warning Response"})]})}),(0,Fe.jsx)("div",{className:"col-6",children:(0,Fe.jsxs)("div",{className:"feature-item d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-check-circle-fill text-success"}),(0,Fe.jsx)("small",{children:"Safe Shelters"})]})}),(0,Fe.jsx)("div",{className:"col-6",children:(0,Fe.jsxs)("div",{className:"feature-item d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-check-circle-fill text-success"}),(0,Fe.jsx)("small",{children:"Post-Cyclone Safety"})]})})]}),(0,Fe.jsxs)("button",{className:"game-button w-100 mb-2 position-relative",onClick:o,children:[(0,Fe.jsx)("i",{className:"bi bi-play-fill me-2"}),"Start Cyclone Training",(0,Fe.jsx)("div",{className:"button-glow"})]}),s.cyclone&&(0,Fe.jsxs)("div",{className:"text-center",children:[(0,Fe.jsx)("div",{className:"progress mb-1",style:{height:"6px"},children:(0,Fe.jsx)("div",{className:"progress-bar bg-success",style:{width:"".concat(s.cyclone.score/s.cyclone.maxScore*100,"%")}})}),(0,Fe.jsxs)("small",{className:"text-success",children:[(0,Fe.jsx)("strong",{children:"Best Score:"})," ",s.cyclone.score,"/",s.cyclone.maxScore,"(",Math.round(s.cyclone.score/s.cyclone.maxScore*100),"%)"]})]})]})]})}),(0,Fe.jsx)("div",{className:"col-lg-6",children:(0,Fe.jsxs)("div",{className:"game-card border-success h-100 position-relative overflow-hidden",children:[(0,Fe.jsx)("div",{className:"landslide-bg-animation position-absolute w-100 h-100",style:{background:"linear-gradient(45deg, #059669 0%, #047857 25%, #065f46 50%, #064e3b 75%, #064e3b 100%)",opacity:.1,animation:"landslide-bg-slide 6s ease-in-out infinite"}}),(0,Fe.jsxs)("div",{className:"card-body position-relative",children:[(0,Fe.jsx)("div",{className:"d-flex justify-content-between align-items-start mb-3",children:(0,Fe.jsxs)("div",{className:"flex-grow-1",children:[(0,Fe.jsxs)("h5",{className:"card-title text-success d-flex align-items-center gap-2 mb-2",children:[(0,Fe.jsx)("div",{className:"landslide-icon-container",children:(0,Fe.jsx)("i",{className:"bi bi-mountain landslide-icon"})}),"Landslide Safety Training"]}),(0,Fe.jsx)("p",{className:"card-text",children:"Learn landslide warning signs with realistic earth movement simulations and safety procedures."})]})}),(0,Fe.jsx)("div",{className:"simulation-preview mb-3",children:(0,Fe.jsx)("div",{className:"landslide-simulation-preview position-relative",children:(0,Fe.jsxs)("div",{className:"simple-earth-container",children:[(0,Fe.jsx)("div",{className:"simple-mountain"}),(0,Fe.jsx)("div",{className:"simple-debris"})]})})}),(0,Fe.jsxs)("div",{className:"row g-2 mb-3",children:[(0,Fe.jsx)("div",{className:"col-6",children:(0,Fe.jsxs)("div",{className:"feature-item d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-check-circle-fill text-success"}),(0,Fe.jsx)("small",{children:"Warning Signs"})]})}),(0,Fe.jsx)("div",{className:"col-6",children:(0,Fe.jsxs)("div",{className:"feature-item d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-check-circle-fill text-success"}),(0,Fe.jsx)("small",{children:"Evacuation"})]})}),(0,Fe.jsx)("div",{className:"col-6",children:(0,Fe.jsxs)("div",{className:"feature-item d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-check-circle-fill text-success"}),(0,Fe.jsx)("small",{children:"Safe Return"})]})})]}),(0,Fe.jsxs)("button",{className:"game-button w-100 mb-2 position-relative",onClick:a,children:[(0,Fe.jsx)("i",{className:"bi bi-play-fill me-2"}),"Start Landslide Training",(0,Fe.jsx)("div",{className:"button-glow"})]}),s.landslide&&(0,Fe.jsxs)("div",{className:"text-center",children:[(0,Fe.jsx)("div",{className:"progress mb-1",style:{height:"6px"},children:(0,Fe.jsx)("div",{className:"progress-bar bg-success",style:{width:"".concat(s.landslide.score/s.landslide.maxScore*100,"%")}})}),(0,Fe.jsxs)("small",{className:"text-success",children:[(0,Fe.jsx)("strong",{children:"Best Score:"})," ",s.landslide.score,"/",s.landslide.maxScore,"(",Math.round(s.landslide.score/s.landslide.maxScore*100),"%)"]})]})]})]})})]})]}),(0,Fe.jsxs)("div",{className:"col-lg-4",children:[(0,Fe.jsxs)("h5",{className:"mb-3 d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-trophy"}),"Your Achievements"]}),(0,Fe.jsx)("div",{className:"card bg-light h-100 shadow-sm",children:(0,Fe.jsx)("div",{className:"card-body",children:0===Object.keys(s).length?(0,Fe.jsxs)("div",{className:"text-center text-muted",children:[(0,Fe.jsx)("div",{style:{fontSize:"3rem",opacity:.5},children:(0,Fe.jsx)("i",{className:"bi bi-target"})}),(0,Fe.jsx)("p",{children:"Complete activities to earn badges!"})]}):(0,Fe.jsxs)("div",{children:[s.earthquake&&(0,Fe.jsx)("div",{className:"mb-3 p-3 border rounded bg-white",children:(0,Fe.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("strong",{className:"d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-shield-exclamation text-warning"}),"Earthquake Safety"]}),(0,Fe.jsx)("br",{}),(0,Fe.jsxs)("small",{className:"text-muted",children:["Completed: ",new Date(s.earthquake.timestamp).toLocaleDateString()]})]}),(0,Fe.jsxs)("span",{className:"badge bg-".concat(mG(s.earthquake.score,s.earthquake.maxScore).color," fs-6"),children:[(0,Fe.jsx)("i",{className:"bi bi-award me-1"}),mG(s.earthquake.score,s.earthquake.maxScore).name]})]})}),s.fireDrill&&(0,Fe.jsx)("div",{className:"mb-3 p-3 border rounded bg-white",children:(0,Fe.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("strong",{className:"d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-fire text-danger"}),"Fire Safety"]}),(0,Fe.jsx)("br",{}),(0,Fe.jsxs)("small",{className:"text-muted",children:["Completed: ",new Date(s.fireDrill.timestamp).toLocaleDateString()]})]}),(0,Fe.jsxs)("span",{className:"badge bg-".concat(mG(s.fireDrill.score,s.fireDrill.maxScore).color," fs-6"),children:[(0,Fe.jsx)("i",{className:"bi bi-award me-1"}),mG(s.fireDrill.score,s.fireDrill.maxScore).name]})]})}),(0,Fe.jsxs)("div",{className:"mt-4 p-3 bg-primary text-white rounded",children:[(0,Fe.jsxs)("h6",{className:"mb-2 d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-graph-up"}),"Overall Progress"]}),(0,Fe.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,Fe.jsx)("span",{children:"Activities Completed:"}),(0,Fe.jsxs)("strong",{children:[Object.keys(s).length,"/2"]})]}),(0,Fe.jsx)("div",{className:"progress mt-2",style:{height:"8px"},children:(0,Fe.jsx)("div",{className:"progress-bar bg-warning",style:{width:"".concat(Object.keys(s).length/2*100,"%")}})})]})]})})})]})]}),(0,Fe.jsx)("div",{className:"row mt-4",children:(0,Fe.jsx)("div",{className:"col-12",children:(0,Fe.jsx)("div",{className:"card bg-success text-white shadow-sm",children:(0,Fe.jsxs)("div",{className:"card-body",children:[(0,Fe.jsxs)("h6",{className:"card-title d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-bar-chart"}),"Quick Stats"]}),(0,Fe.jsxs)("div",{className:"row text-center",children:[(0,Fe.jsxs)("div",{className:"col-md-4",children:[(0,Fe.jsx)("div",{className:"fs-5",children:c.completedActivities}),(0,Fe.jsx)("small",{children:"Activities Completed"})]}),(0,Fe.jsxs)("div",{className:"col-md-4",children:[(0,Fe.jsx)("div",{className:"fs-5",children:c.expertBadges}),(0,Fe.jsx)("small",{children:"Expert Badges"})]}),(0,Fe.jsxs)("div",{className:"col-md-4",children:[(0,Fe.jsxs)("div",{className:"fs-5",children:[c.averageScore,"%"]}),(0,Fe.jsx)("small",{children:"Average Score"})]})]}),(0,Fe.jsxs)("div",{className:"mt-3",children:[(0,Fe.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[(0,Fe.jsx)("small",{children:"Overall Progress"}),(0,Fe.jsxs)("small",{children:[c.completedActivities,"/",c.totalActivities]})]}),(0,Fe.jsx)("div",{className:"progress",style:{height:"8px"},children:(0,Fe.jsx)("div",{className:"progress-bar bg-light",style:{width:"".concat(c.completedActivities/c.totalActivities*100,"%")}})})]})]})})})})]})]})})})})},bG=e=>{let{onComplete:t}=e;const[n,r]=(0,i.useState)(0),[o,a]=(0,i.useState)(0),[s,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(null),[d,h]=(0,i.useState)(!1),[f,p]=(0,i.useState)(!1),m=[{id:1,situation:"Heavy rainfall has caused flooding in your area. You need to evacuate your home. What should you do first?",options:[{text:"Gather important documents and emergency supplies",correct:!0,feedback:"Correct! Always secure important documents and emergency supplies before evacuating."},{text:"Wait for the water to reach your doorstep",correct:!1,feedback:"Incorrect! Don't wait for water to reach you - evacuate early when authorities advise."},{text:"Drive through flooded streets to reach higher ground",correct:!1,feedback:"Incorrect! Never drive through flooded areas - turn around, don't drown!"},{text:"Stay in your home and wait for rescue",correct:!1,feedback:"Incorrect! Evacuate when advised. Don't wait for rescue if you can safely leave."}]},{id:2,situation:"You're driving and encounter a flooded road. What should you do?",options:[{text:"Turn around and find an alternative route",correct:!0,feedback:"Correct! Never drive through flooded roads - find an alternative route."},{text:"Drive slowly through the water",correct:!1,feedback:"Incorrect! Even shallow water can sweep away vehicles. Turn around!"},{text:"Wait for other cars to go first",correct:!1,feedback:"Incorrect! Don't follow others into dangerous situations. Turn around!"},{text:"Call for help and wait in your car",correct:!1,feedback:"Incorrect! If water is rising, abandon your vehicle and move to higher ground."}]},{id:3,situation:"You're trapped in a building during a flood. The water is rising. What should you do?",options:[{text:"Move to the highest floor or roof",correct:!0,feedback:"Correct! Move to the highest safe location and signal for help."},{text:"Try to swim to safety",correct:!1,feedback:"Incorrect! Floodwater can be dangerous and contaminated. Stay put and signal for help."},{text:"Break windows to escape",correct:!1,feedback:"Incorrect! Only break windows if water is about to reach you and you can safely escape."},{text:"Hide in the basement",correct:!1,feedback:"Incorrect! Basements are the most dangerous place during floods. Go up, not down!"}]},{id:4,situation:"After a flood, you return to your home. What should you do first?",options:[{text:"Check for structural damage before entering",correct:!0,feedback:"Correct! Always check for damage and ensure it's safe before entering."},{text:"Start cleaning up immediately",correct:!1,feedback:"Incorrect! First ensure the building is safe and check for gas leaks or electrical hazards."},{text:"Turn on all electrical appliances",correct:!1,feedback:"Incorrect! Don't use electrical equipment until it's been checked by a professional."},{text:"Drink tap water to test if it's safe",correct:!1,feedback:"Incorrect! Don't drink tap water after a flood - it may be contaminated."}]},{id:5,situation:"You're in a flood-prone area and receive a flood warning. What should you do?",options:[{text:"Prepare an emergency kit and evacuation plan",correct:!0,feedback:"Correct! Always be prepared with emergency supplies and know your evacuation route."},{text:"Ignore the warning and continue normal activities",correct:!1,feedback:"Incorrect! Take flood warnings seriously - they can save your life."},{text:"Move valuable items to the basement",correct:!1,feedback:"Incorrect! Move valuables to higher floors, not the basement which floods first."},{text:"Wait until you see water before acting",correct:!1,feedback:"Incorrect! Act early when warnings are issued - don't wait for visible danger."}]}],g=()=>{r(0),a(0),l(!1),u(null),h(!1)};if(s){const e=o,n=mG(e,m.length);return(0,Fe.jsxs)("div",{className:"game-card success-animation",children:[(0,Fe.jsx)("div",{className:"game-header flood-header",children:(0,Fe.jsxs)("h4",{className:"mb-0 d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-check-circle-fill"}),"Training Complete"]})}),(0,Fe.jsxs)("div",{className:"card-body text-center",children:[(0,Fe.jsx)("div",{className:"scene-container",children:(0,Fe.jsx)("i",{className:"bi bi-award scene-icon"})}),(0,Fe.jsxs)("div",{className:"achievement-badge mb-3",children:[(0,Fe.jsx)("i",{className:"bi bi-award me-2"}),n.name]}),(0,Fe.jsxs)("h3",{className:"text-success mb-3",children:["Score: ",e,"/",m.length]}),(0,Fe.jsx)("div",{className:"progress-container mb-4",children:(0,Fe.jsxs)("div",{className:"progress-bar",style:{width:"".concat(e/m.length*100,"%")},children:[Math.round(e/m.length*100),"%"]})}),(0,Fe.jsxs)("div",{className:"alert alert-success mb-4",children:[(0,Fe.jsx)("h5",{children:"Training Complete"}),(0,Fe.jsx)("p",{className:"mb-0",children:"You have successfully completed the flood safety training. Continue practicing to improve your emergency response skills."})]}),(0,Fe.jsxs)("div",{className:"row g-3",children:[(0,Fe.jsx)("div",{className:"col-md-6",children:(0,Fe.jsxs)("button",{className:"game-button w-100",onClick:g,children:[(0,Fe.jsx)("i",{className:"bi bi-arrow-clockwise me-2"}),"Retry Training"]})}),(0,Fe.jsx)("div",{className:"col-md-6",children:(0,Fe.jsxs)("button",{className:"game-button w-100",onClick:()=>null===t||void 0===t?void 0:t(),children:[(0,Fe.jsx)("i",{className:"bi bi-speedometer2 me-2"}),"Back to Dashboard"]})})]})]})]})}const y=m[n];return(0,Fe.jsxs)("div",{className:"game-card",children:[(0,Fe.jsx)("div",{className:"game-header flood-header",children:(0,Fe.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,Fe.jsxs)("h4",{className:"mb-0 d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-droplet"}),"Flood Safety Training"]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("span",{className:"badge bg-dark fs-6",children:["Step ",n+1,"/",m.length]}),(0,Fe.jsxs)("span",{className:"badge bg-success fs-6 ms-2",children:["Score: ",o]})]})]})}),(0,Fe.jsxs)("div",{className:"card-body",children:[(0,Fe.jsx)("div",{className:"scene-container flood-simulation ".concat(f?"flood-disaster-effect flood-scene-effect":""),children:(0,Fe.jsx)("i",{className:"bi bi-droplet scene-icon"})}),(0,Fe.jsx)("div",{className:"alert alert-info",children:(0,Fe.jsx)("h5",{className:"mb-0",children:y.situation})}),d?(0,Fe.jsxs)("div",{className:"mt-3 feedback-container",children:[(0,Fe.jsx)("div",{className:"alert ".concat(m[n].options[c].correct?"alert-success":"alert-danger"),children:(0,Fe.jsxs)("div",{className:"d-flex align-items-start gap-2",children:[(0,Fe.jsx)("i",{className:"bi ".concat(m[n].options[c].correct?"bi-check-circle-fill":"bi-x-circle-fill")}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{children:m[n].options[c].correct?"Correct!":"Incorrect"}),(0,Fe.jsx)("p",{className:"mb-0 mt-2",children:m[n].options[c].feedback})]})]})}),(0,Fe.jsxs)("div",{className:"text-center loading-container",children:[(0,Fe.jsx)("div",{className:"loading-dot"}),(0,Fe.jsx)("div",{className:"loading-dot"}),(0,Fe.jsx)("div",{className:"loading-dot"}),(0,Fe.jsx)("span",{className:"ms-3 text-muted",children:"Loading next question..."})]})]}):(0,Fe.jsx)("div",{className:"row g-3 mt-3",children:y.options.map((e,t)=>(0,Fe.jsx)("div",{className:"col-12",children:(0,Fe.jsx)("button",{className:"option-button w-100 text-start interactive-element",onClick:()=>(e=>{u(e),h(!0);const t=m[n].options[e].correct;t?a(o+1):(p(!0),setTimeout(()=>p(!1),2e3),hG.playDisasterSound("flood")),setTimeout(()=>{h(!1),u(null),n<m.length-1?r(n+1):(fG("flood",o+(t?1:0),m.length),l(!0))},3e3)})(t),children:(0,Fe.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[(0,Fe.jsx)("div",{className:"option-letter",children:(0,Fe.jsx)("span",{className:"badge bg-secondary rounded-circle",style:{width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.8rem"},children:String.fromCharCode(65+t)})}),(0,Fe.jsx)("div",{className:"option-text",children:e.text})]})})},t))}),(0,Fe.jsx)("div",{className:"progress-container mt-4",children:(0,Fe.jsx)("div",{className:"progress-bar",style:{width:"".concat((n+1)/m.length*100,"%")}})})]})]})},xG=e=>{let{onComplete:t}=e;const[n,r]=(0,i.useState)(0),[o,a]=(0,i.useState)(0),[s,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(null),[d,h]=(0,i.useState)(!1),[f,p]=(0,i.useState)(!1),m=[{id:1,situation:"A cyclone warning has been issued for your area. What should you do first?",options:[{text:"Secure outdoor objects and prepare emergency supplies",correct:!0,feedback:"Correct! Secure loose objects and prepare emergency supplies when a cyclone warning is issued."},{text:"Go outside to watch the weather",correct:!1,feedback:"Incorrect! Stay indoors and away from windows during cyclone warnings."},{text:"Continue with normal outdoor activities",correct:!1,feedback:"Incorrect! Take cyclone warnings seriously and prepare for the storm."},{text:"Wait until the cyclone arrives before acting",correct:!1,feedback:"Incorrect! Prepare early when warnings are issued - don't wait for the storm."}]},{id:2,situation:"The cyclone is approaching and you're at home. Where should you take shelter?",options:[{text:"In a small, windowless interior room on the lowest floor",correct:!0,feedback:"Correct! Take shelter in a small, windowless interior room on the lowest floor."},{text:"In a room with large windows facing the storm",correct:!1,feedback:"Incorrect! Avoid rooms with windows - they can shatter from flying debris."},{text:"In the attic or upper floor",correct:!1,feedback:"Incorrect! Upper floors are more dangerous. Stay on the lowest floor."},{text:"In the garage or car",correct:!1,feedback:"Incorrect! Garages and cars are not safe during cyclones. Stay in the house."}]},{id:3,situation:"During the cyclone, you hear the sound of breaking glass. What should you do?",options:[{text:"Move to a safer location away from windows",correct:!0,feedback:"Correct! Move away from windows and glass to avoid injury from flying debris."},{text:"Go to investigate the source of the sound",correct:!1,feedback:"Incorrect! Don't investigate during the storm - stay in your safe location."},{text:"Try to cover the broken window",correct:!1,feedback:"Incorrect! Don't approach broken windows during the storm - it's too dangerous."},{text:"Call emergency services immediately",correct:!1,feedback:"Incorrect! Only call emergency services for life-threatening situations during the storm."}]},{id:4,situation:"The cyclone has passed and you want to check for damage. What should you do first?",options:[{text:"Wait for official clearance before going outside",correct:!0,feedback:"Correct! Wait for official clearance as there may be hidden dangers like downed power lines."},{text:"Immediately go outside to assess damage",correct:!1,feedback:"Incorrect! Wait for official clearance - there may be hidden dangers outside."},{text:"Start cleaning up debris right away",correct:!1,feedback:"Incorrect! Don't start cleanup until authorities give clearance and you've checked for hazards."},{text:"Drive around to see the damage",correct:!1,feedback:"Incorrect! Stay off roads until authorities clear them - there may be debris and hazards."}]},{id:5,situation:"You're driving when a cyclone warning is issued. What should you do?",options:[{text:"Find a sturdy building to take shelter in immediately",correct:!0,feedback:"Correct! Find a sturdy building and take shelter immediately when a cyclone warning is issued."},{text:"Continue driving to reach your destination",correct:!1,feedback:"Incorrect! Don't continue driving during cyclone warnings - find shelter immediately."},{text:"Park under a bridge or overpass",correct:!1,feedback:"Incorrect! Bridges and overpasses are not safe during cyclones - find a sturdy building."},{text:"Drive faster to outrun the storm",correct:!1,feedback:"Incorrect! You cannot outrun a cyclone - find shelter immediately."}]}],g=()=>{r(0),a(0),l(!1),u(null),h(!1)};if(s){const e=o,n=mG(e,m.length);return(0,Fe.jsxs)("div",{className:"game-card success-animation",children:[(0,Fe.jsx)("div",{className:"game-header cyclone-header",children:(0,Fe.jsxs)("h4",{className:"mb-0 d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-check-circle-fill"}),"Training Complete"]})}),(0,Fe.jsxs)("div",{className:"card-body text-center",children:[(0,Fe.jsx)("div",{className:"scene-container",children:(0,Fe.jsx)("i",{className:"bi bi-award scene-icon"})}),(0,Fe.jsxs)("div",{className:"achievement-badge mb-3",children:[(0,Fe.jsx)("i",{className:"bi bi-award me-2"}),n.name]}),(0,Fe.jsxs)("h3",{className:"text-success mb-3",children:["Score: ",e,"/",m.length]}),(0,Fe.jsx)("div",{className:"progress-container mb-4",children:(0,Fe.jsxs)("div",{className:"progress-bar",style:{width:"".concat(e/m.length*100,"%")},children:[Math.round(e/m.length*100),"%"]})}),(0,Fe.jsxs)("div",{className:"alert alert-success mb-4",children:[(0,Fe.jsx)("h5",{children:"Training Complete"}),(0,Fe.jsx)("p",{className:"mb-0",children:"You have successfully completed the cyclone safety training. Continue practicing to improve your emergency response skills."})]}),(0,Fe.jsxs)("div",{className:"row g-3",children:[(0,Fe.jsx)("div",{className:"col-md-6",children:(0,Fe.jsxs)("button",{className:"game-button w-100",onClick:g,children:[(0,Fe.jsx)("i",{className:"bi bi-arrow-clockwise me-2"}),"Retry Training"]})}),(0,Fe.jsx)("div",{className:"col-md-6",children:(0,Fe.jsxs)("button",{className:"game-button w-100",onClick:()=>null===t||void 0===t?void 0:t(),children:[(0,Fe.jsx)("i",{className:"bi bi-speedometer2 me-2"}),"Back to Dashboard"]})})]})]})]})}const y=m[n];return(0,Fe.jsxs)("div",{className:"game-card",children:[(0,Fe.jsx)("div",{className:"game-header cyclone-header",children:(0,Fe.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,Fe.jsxs)("h4",{className:"mb-0 d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-cloud-lightning"}),"Cyclone Safety Training"]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("span",{className:"badge bg-dark fs-6",children:["Step ",n+1,"/",m.length]}),(0,Fe.jsxs)("span",{className:"badge bg-success fs-6 ms-2",children:["Score: ",o]})]})]})}),(0,Fe.jsxs)("div",{className:"card-body",children:[(0,Fe.jsx)("div",{className:"scene-container cyclone-simulation ".concat(f?"cyclone-disaster-effect cyclone-scene-effect":""),children:(0,Fe.jsx)("i",{className:"bi bi-cloud-lightning scene-icon"})}),(0,Fe.jsx)("div",{className:"alert alert-info",children:(0,Fe.jsx)("h5",{className:"mb-0",children:y.situation})}),d?(0,Fe.jsxs)("div",{className:"mt-3 feedback-container",children:[(0,Fe.jsx)("div",{className:"alert ".concat(m[n].options[c].correct?"alert-success":"alert-danger"),children:(0,Fe.jsxs)("div",{className:"d-flex align-items-start gap-2",children:[(0,Fe.jsx)("i",{className:"bi ".concat(m[n].options[c].correct?"bi-check-circle-fill":"bi-x-circle-fill")}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{children:m[n].options[c].correct?"Correct!":"Incorrect"}),(0,Fe.jsx)("p",{className:"mb-0 mt-2",children:m[n].options[c].feedback})]})]})}),(0,Fe.jsxs)("div",{className:"text-center loading-container",children:[(0,Fe.jsx)("div",{className:"loading-dot"}),(0,Fe.jsx)("div",{className:"loading-dot"}),(0,Fe.jsx)("div",{className:"loading-dot"}),(0,Fe.jsx)("span",{className:"ms-3 text-muted",children:"Loading next question..."})]})]}):(0,Fe.jsx)("div",{className:"row g-3 mt-3",children:y.options.map((e,t)=>(0,Fe.jsx)("div",{className:"col-12",children:(0,Fe.jsx)("button",{className:"option-button w-100 text-start interactive-element",onClick:()=>(e=>{u(e),h(!0);const t=m[n].options[e].correct;t?a(o+1):(p(!0),setTimeout(()=>p(!1),2e3),hG.playDisasterSound("cyclone")),setTimeout(()=>{h(!1),u(null),n<m.length-1?r(n+1):(fG("cyclone",o+(t?1:0),m.length),l(!0))},3e3)})(t),children:(0,Fe.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[(0,Fe.jsx)("div",{className:"option-letter",children:(0,Fe.jsx)("span",{className:"badge bg-secondary rounded-circle",style:{width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.8rem"},children:String.fromCharCode(65+t)})}),(0,Fe.jsx)("div",{className:"option-text",children:e.text})]})})},t))}),(0,Fe.jsx)("div",{className:"progress-container mt-4",children:(0,Fe.jsx)("div",{className:"progress-bar",style:{width:"".concat((n+1)/m.length*100,"%")}})})]})]})},wG=e=>{let{onComplete:t}=e;const[n,r]=(0,i.useState)(0),[o,a]=(0,i.useState)(0),[s,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(null),[d,h]=(0,i.useState)(!1),[f,p]=(0,i.useState)(!1),m=[{id:1,situation:"Heavy rainfall has been occurring for days and you live on a hillside. What warning signs should you watch for?",options:[{text:"Cracks in the ground, tilting trees, and water seepage",correct:!0,feedback:"Correct! These are all warning signs of potential landslides."},{text:"Birds flying away from the area",correct:!1,feedback:"Incorrect! While animals may sense danger, ground cracks and tilting are more reliable indicators."},{text:"Loud noises from the mountain",correct:!1,feedback:"Incorrect! While landslides can be noisy, visual signs like cracks are more important to watch for."},{text:"Changes in water color in nearby streams",correct:!1,feedback:"Incorrect! Water color changes are less reliable than ground movement indicators."}]},{id:2,situation:"You notice cracks appearing in your driveway and the ground around your house. What should you do?",options:[{text:"Evacuate immediately and contact authorities",correct:!0,feedback:"Correct! Ground cracks are a serious warning sign - evacuate immediately."},{text:"Fill the cracks with soil to prevent water entry",correct:!1,feedback:"Incorrect! Don't try to fix cracks - evacuate immediately when you see them."},{text:"Wait to see if the cracks get bigger",correct:!1,feedback:"Incorrect! Don't wait - evacuate immediately when you see ground cracks."},{text:"Continue normal activities but monitor the situation",correct:!1,feedback:"Incorrect! Ground cracks are an immediate danger signal - evacuate right away."}]},{id:3,situation:"You're driving on a mountain road when you see debris on the road ahead. What should you do?",options:[{text:"Stop, turn around, and find an alternative route",correct:!0,feedback:"Correct! Debris on mountain roads can indicate recent landslides - find an alternative route."},{text:"Drive slowly through the debris",correct:!1,feedback:"Incorrect! Don't drive through debris - it may indicate an active landslide area."},{text:"Get out and clear the debris from the road",correct:!1,feedback:"Incorrect! Don't approach debris - there may be more material coming down."},{text:"Call for help and wait in your car",correct:!1,feedback:"Incorrect! Turn around and leave the area immediately - don't wait for help."}]},{id:4,situation:"You're caught in a landslide while in your car. What should you do?",options:[{text:"Stay in the car with seatbelt fastened and protect your head",correct:!0,feedback:"Correct! Stay in the car with seatbelt on and protect your head from debris."},{text:"Get out of the car and run away",correct:!1,feedback:"Incorrect! Stay in the car - it provides protection from debris and falling objects."},{text:"Open all windows to prevent the car from being crushed",correct:!1,feedback:"Incorrect! Keep windows closed to protect from debris and keep seatbelt fastened."},{text:"Try to drive out of the landslide",correct:!1,feedback:"Incorrect! Don't try to drive - stay in the car with seatbelt fastened."}]},{id:5,situation:"After a landslide, you want to return to your home to check for damage. What should you do?",options:[{text:"Wait for official clearance and check for additional slide risks",correct:!0,feedback:"Correct! Wait for official clearance and check for additional slide risks before returning."},{text:"Go back immediately to assess the damage",correct:!1,feedback:"Incorrect! Don't return until authorities give clearance - there may be additional slide risks."},{text:"Send someone else to check first",correct:!1,feedback:"Incorrect! Don't send anyone until authorities clear the area as safe."},{text:"Drive around the landslide to reach your home",correct:!1,feedback:"Incorrect! Don't try to navigate around landslides - wait for official clearance."}]}],g=()=>{r(0),a(0),l(!1),u(null),h(!1)};if(s){const e=o,n=mG(e,m.length);return(0,Fe.jsxs)("div",{className:"game-card success-animation",children:[(0,Fe.jsx)("div",{className:"game-header landslide-header",children:(0,Fe.jsxs)("h4",{className:"mb-0 d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-check-circle-fill"}),"Training Complete"]})}),(0,Fe.jsxs)("div",{className:"card-body text-center",children:[(0,Fe.jsx)("div",{className:"scene-container",children:(0,Fe.jsx)("i",{className:"bi bi-award scene-icon"})}),(0,Fe.jsxs)("div",{className:"achievement-badge mb-3",children:[(0,Fe.jsx)("i",{className:"bi bi-award me-2"}),n.name]}),(0,Fe.jsxs)("h3",{className:"text-success mb-3",children:["Score: ",e,"/",m.length]}),(0,Fe.jsx)("div",{className:"progress-container mb-4",children:(0,Fe.jsxs)("div",{className:"progress-bar",style:{width:"".concat(e/m.length*100,"%")},children:[Math.round(e/m.length*100),"%"]})}),(0,Fe.jsxs)("div",{className:"alert alert-success mb-4",children:[(0,Fe.jsx)("h5",{children:"Training Complete"}),(0,Fe.jsx)("p",{className:"mb-0",children:"You have successfully completed the landslide safety training. Continue practicing to improve your emergency response skills."})]}),(0,Fe.jsxs)("div",{className:"row g-3",children:[(0,Fe.jsx)("div",{className:"col-md-6",children:(0,Fe.jsxs)("button",{className:"game-button w-100",onClick:g,children:[(0,Fe.jsx)("i",{className:"bi bi-arrow-clockwise me-2"}),"Retry Training"]})}),(0,Fe.jsx)("div",{className:"col-md-6",children:(0,Fe.jsxs)("button",{className:"game-button w-100",onClick:()=>null===t||void 0===t?void 0:t(),children:[(0,Fe.jsx)("i",{className:"bi bi-speedometer2 me-2"}),"Back to Dashboard"]})})]})]})]})}const y=m[n];return(0,Fe.jsxs)("div",{className:"game-card",children:[(0,Fe.jsx)("div",{className:"game-header landslide-header",children:(0,Fe.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,Fe.jsxs)("h4",{className:"mb-0 d-flex align-items-center gap-2",children:[(0,Fe.jsx)("i",{className:"bi bi-mountain"}),"Landslide Safety Training"]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("span",{className:"badge bg-dark fs-6",children:["Step ",n+1,"/",m.length]}),(0,Fe.jsxs)("span",{className:"badge bg-success fs-6 ms-2",children:["Score: ",o]})]})]})}),(0,Fe.jsxs)("div",{className:"card-body",children:[(0,Fe.jsx)("div",{className:"scene-container landslide-simulation ".concat(f?"landslide-disaster-effect landslide-scene-effect":""),children:(0,Fe.jsx)("i",{className:"bi bi-mountain scene-icon"})}),(0,Fe.jsx)("div",{className:"alert alert-info",children:(0,Fe.jsx)("h5",{className:"mb-0",children:y.situation})}),d?(0,Fe.jsxs)("div",{className:"mt-3 feedback-container",children:[(0,Fe.jsx)("div",{className:"alert ".concat(m[n].options[c].correct?"alert-success":"alert-danger"),children:(0,Fe.jsxs)("div",{className:"d-flex align-items-start gap-2",children:[(0,Fe.jsx)("i",{className:"bi ".concat(m[n].options[c].correct?"bi-check-circle-fill":"bi-x-circle-fill")}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("strong",{children:m[n].options[c].correct?"Correct!":"Incorrect"}),(0,Fe.jsx)("p",{className:"mb-0 mt-2",children:m[n].options[c].feedback})]})]})}),(0,Fe.jsxs)("div",{className:"text-center loading-container",children:[(0,Fe.jsx)("div",{className:"loading-dot"}),(0,Fe.jsx)("div",{className:"loading-dot"}),(0,Fe.jsx)("div",{className:"loading-dot"}),(0,Fe.jsx)("span",{className:"ms-3 text-muted",children:"Loading next question..."})]})]}):(0,Fe.jsx)("div",{className:"row g-3 mt-3",children:y.options.map((e,t)=>(0,Fe.jsx)("div",{className:"col-12",children:(0,Fe.jsx)("button",{className:"option-button w-100 text-start interactive-element",onClick:()=>(e=>{u(e),h(!0);const t=m[n].options[e].correct;t?a(o+1):(p(!0),setTimeout(()=>p(!1),2e3),hG.playDisasterSound("landslide")),setTimeout(()=>{h(!1),u(null),n<m.length-1?r(n+1):(fG("landslide",o+(t?1:0),m.length),l(!0))},3e3)})(t),children:(0,Fe.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[(0,Fe.jsx)("div",{className:"option-letter",children:(0,Fe.jsx)("span",{className:"badge bg-secondary rounded-circle",style:{width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.8rem"},children:String.fromCharCode(65+t)})}),(0,Fe.jsx)("div",{className:"option-text",children:e.text})]})})},t))}),(0,Fe.jsx)("div",{className:"progress-container mt-4",children:(0,Fe.jsx)("div",{className:"progress-bar",style:{width:"".concat((n+1)/m.length*100,"%")}})})]})]})},jG=()=>{const[e,t]=(0,i.useState)("dashboard");return(0,Fe.jsx)("div",{className:"disaster-simulation py-4",children:(0,Fe.jsxs)("div",{className:"container",children:["dashboard"!==e&&(0,Fe.jsx)("div",{className:"mb-4",children:(0,Fe.jsxs)("button",{className:"game-button",onClick:()=>t("dashboard"),children:[(0,Fe.jsx)("i",{className:"bi bi-arrow-left me-2"}),"Back to Dashboard"]})}),(()=>{switch(e){case"earthquake":return(0,Fe.jsx)(gG,{onComplete:()=>t("dashboard")});case"fire":return(0,Fe.jsx)(yG,{onComplete:()=>t("dashboard")});case"flood":return(0,Fe.jsx)(bG,{onComplete:()=>t("dashboard")});case"cyclone":return(0,Fe.jsx)(xG,{onComplete:()=>t("dashboard")});case"landslide":return(0,Fe.jsx)(wG,{onComplete:()=>t("dashboard")});default:return(0,Fe.jsx)(vG,{onStartSimulation:()=>t("earthquake"),onStartDrill:()=>t("fire"),onStartFlood:()=>t("flood"),onStartCyclone:()=>t("cyclone"),onStartLandslide:()=>t("landslide")})}})()]})})};const SG=function(){return(0,Fe.jsxs)("div",{className:"py-4",children:[(0,Fe.jsx)("div",{className:"row mb-4",children:(0,Fe.jsx)("div",{className:"col-12",children:(0,Fe.jsxs)("div",{className:"d-flex align-items-center gap-3 mb-3",children:[(0,Fe.jsx)("i",{className:"bi bi-shield-exclamation text-warning",style:{fontSize:32}}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h1",{className:"h3 mb-1",children:"Disaster Preparedness Simulation"}),(0,Fe.jsx)("p",{className:"text-muted mb-0",children:"Interactive emergency response training with gamified learning"})]})]})})}),(0,Fe.jsx)(jG,{}),(0,Fe.jsx)("div",{className:"row mt-5",children:(0,Fe.jsx)("div",{className:"col-12",children:(0,Fe.jsx)("div",{className:"card bg-light",children:(0,Fe.jsxs)("div",{className:"card-body",children:[(0,Fe.jsxs)("h5",{className:"card-title",children:[(0,Fe.jsx)("i",{className:"bi bi-info-circle me-2"}),"About Disaster Preparedness Training"]}),(0,Fe.jsxs)("div",{className:"row",children:[(0,Fe.jsxs)("div",{className:"col-md-6",children:[(0,Fe.jsx)("h6",{children:"\ud83c\udf0d Earthquake Simulation"}),(0,Fe.jsxs)("ul",{className:"small",children:[(0,Fe.jsx)("li",{children:"Learn Drop, Cover, and Hold techniques"}),(0,Fe.jsx)("li",{children:"Practice safe evacuation procedures"}),(0,Fe.jsx)("li",{children:"Identify safe zones during emergencies"}),(0,Fe.jsx)("li",{children:"Understand post-earthquake safety measures"})]})]}),(0,Fe.jsxs)("div",{className:"col-md-6",children:[(0,Fe.jsx)("h6",{children:"\ud83d\udd25 Fire Drill Training"}),(0,Fe.jsxs)("ul",{className:"small",children:[(0,Fe.jsx)("li",{children:"Test your reaction time under pressure"}),(0,Fe.jsx)("li",{children:"Learn proper fire evacuation procedures"}),(0,Fe.jsx)("li",{children:"Practice quick decision-making skills"}),(0,Fe.jsx)("li",{children:"Develop emergency response confidence"})]})]})]}),(0,Fe.jsxs)("div",{className:"alert alert-info mt-3",children:[(0,Fe.jsx)("i",{className:"bi bi-lightbulb me-2"}),(0,Fe.jsx)("strong",{children:"Pro Tip:"})," Regular practice with these simulations helps build muscle memory for real emergency situations. The more you practice, the better prepared you'll be when it matters most!"]})]})})})})]})};const NG=function(e){let{children:t}=e;const[n,r]=(0,i.useState)(null),[o,a]=(0,i.useState)(!0),s=J();return(0,i.useEffect)(()=>{const e=Cg();console.log("RequireAuth - Initial user:",e),r(e),a(!1);const t=Og(e=>{console.log("RequireAuth - Auth changed:",e),r(e),a(!1)});return t},[]),o?(0,Fe.jsx)("div",{className:"d-flex justify-content-center align-items-center min-vh-100",children:(0,Fe.jsx)("div",{className:"spinner-border",role:"status",children:(0,Fe.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):n?t:(0,Fe.jsx)(ge,{to:"/login",state:{from:s},replace:!0})};const EG=function(e){let{role:t,children:n}=e;const[r,o]=(0,i.useState)(null),[a,s]=(0,i.useState)(!0);return(0,i.useEffect)(()=>{const e=Cg();o(e),s(!1);const t=Og(e=>{o(e),s(!1)});return t},[]),a?(0,Fe.jsx)("div",{className:"d-flex justify-content-center align-items-center min-vh-100",children:(0,Fe.jsx)("div",{className:"spinner-border",role:"status",children:(0,Fe.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):r&&r.role===t?n:(0,Fe.jsx)(ge,{to:"/",replace:!0})};function kG(e){let{roles:t,children:n}=e;const[r,o]=(0,i.useState)(null),[a,s]=(0,i.useState)(!0);return(0,i.useEffect)(()=>{const e=Cg();o(e),s(!1);const t=Og(e=>{o(e),s(!1)});return t},[]),a?(0,Fe.jsx)("div",{className:"d-flex justify-content-center align-items-center min-vh-100",children:(0,Fe.jsx)("div",{className:"spinner-border",role:"status",children:(0,Fe.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):r&&null!==t&&void 0!==t&&t.includes(r.role)?n:(0,Fe.jsx)(ge,{to:"/",replace:!0})}function TG(){const e=J(),t=()=>(0,Fe.jsxs)("div",{className:"d-flex flex-column min-vh-100",children:[(0,Fe.jsx)(Dg,{}),(0,Fe.jsx)("div",{className:"app-bg flex-grow-1",children:(0,Fe.jsx)("div",{className:"container py-3",children:(0,Fe.jsx)(ye,{})})}),(0,Fe.jsx)(Mg,{}),(0,Fe.jsx)(bE,{})]}),n=()=>(0,Fe.jsxs)("div",{className:"d-flex flex-column min-vh-100",children:[(0,Fe.jsx)("div",{className:"flex-grow-1",children:(0,Fe.jsx)(ye,{})}),(0,Fe.jsx)(Mg,{})]});return(0,Fe.jsx)(Je,{mode:"wait",children:(0,Fe.jsxs)(xe,{location:e,children:[(0,Fe.jsxs)(ve,{element:(0,Fe.jsx)(n,{}),children:[(0,Fe.jsx)(ve,{path:"/login",element:(0,Fe.jsx)(kN,{children:(0,Fe.jsx)(sG,{})})}),(0,Fe.jsx)(ve,{path:"/signup",element:(0,Fe.jsx)(kN,{children:(0,Fe.jsx)(sG,{})})}),(0,Fe.jsx)(ve,{path:"/setup",element:(0,Fe.jsx)(kN,{children:(0,Fe.jsx)(uG,{})})})]}),(0,Fe.jsxs)(ve,{element:(0,Fe.jsx)(NG,{children:(0,Fe.jsx)(t,{})}),children:[(0,Fe.jsx)(ve,{path:"/",element:(0,Fe.jsx)(kN,{children:(0,Fe.jsx)(Yk,{})})}),(0,Fe.jsx)(ve,{path:"/learn",element:(0,Fe.jsx)(kN,{children:(0,Fe.jsx)(kG,{roles:["student","teacher"],children:(0,Fe.jsx)(Zk,{})})})}),(0,Fe.jsx)(ve,{path:"/alerts",element:(0,Fe.jsx)(kN,{children:(0,Fe.jsx)(kG,{roles:["student","teacher","admin"],children:(0,Fe.jsx)(tT,{})})})}),(0,Fe.jsx)(ve,{path:"/drills",element:(0,Fe.jsx)(kN,{children:(0,Fe.jsx)(kG,{roles:["student","teacher"],children:(0,Fe.jsx)(rT,{})})})}),(0,Fe.jsx)(ve,{path:"/leaderboard",element:(0,Fe.jsx)(kN,{children:(0,Fe.jsx)(kG,{roles:["student"],children:(0,Fe.jsx)(oT,{})})})}),(0,Fe.jsx)(ve,{path:"/emergency",element:(0,Fe.jsx)(kN,{children:(0,Fe.jsx)(kG,{roles:["student","teacher"],children:(0,Fe.jsx)(sT,{})})})}),(0,Fe.jsx)(ve,{path:"/admin",element:(0,Fe.jsx)(kN,{children:(0,Fe.jsx)(EG,{role:"admin",children:(0,Fe.jsx)(nG,{})})})}),(0,Fe.jsx)(ve,{path:"/teacher",element:(0,Fe.jsx)(kN,{children:(0,Fe.jsx)(EG,{role:"teacher",children:(0,Fe.jsx)(aG,{})})})}),(0,Fe.jsx)(ve,{path:"/disaster-simulation",element:(0,Fe.jsx)(kN,{children:(0,Fe.jsx)(kG,{roles:["student","teacher"],children:(0,Fe.jsx)(SG,{})})})})]})]},e.pathname)})}const _G=function(){return(0,Fe.jsxs)(Oe,{children:[(0,Fe.jsx)(TG,{}),(0,Fe.jsx)(bE,{}),(0,Fe.jsx)(Hk,{})]})};a.createRoot(document.getElementById("root")).render((0,Fe.jsx)(i.StrictMode,{children:(0,Fe.jsx)(_G,{})}))})()})();
//# sourceMappingURL=main.f5d6a8d8.js.map